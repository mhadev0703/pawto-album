var zM=Object.create;var Uc=Object.defineProperty;var HM=Object.getOwnPropertyDescriptor;var GM=Object.getOwnPropertyNames;var KM=Object.getPrototypeOf,QM=Object.prototype.hasOwnProperty;var M=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,r)=>(typeof require<"u"?require:e)[r]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var Ce=(t,e)=>()=>(t&&(e=t(t=0)),e);var c=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Mh=(t,e)=>{for(var r in e)Uc(t,r,{get:e[r],enumerable:!0})},US=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of GM(e))!QM.call(t,i)&&i!==r&&Uc(t,i,{get:()=>e[i],enumerable:!(n=HM(e,i))||n.enumerable});return t};var YM=(t,e,r)=>(r=t!=null?zM(KM(t)):{},US(e||!t||!t.__esModule?Uc(r,"default",{value:t,enumerable:!0}):r,t)),S=t=>US(Uc({},"__esModule",{value:!0}),t);var N={};Mh(N,{__addDisposableResource:()=>ew,__assign:()=>Id,__asyncDelegator:()=>H0,__asyncGenerator:()=>z0,__asyncValues:()=>G0,__await:()=>Zi,__awaiter:()=>U0,__classPrivateFieldGet:()=>J0,__classPrivateFieldIn:()=>Z0,__classPrivateFieldSet:()=>X0,__createBinding:()=>qd,__decorate:()=>k0,__disposeResources:()=>tw,__esDecorate:()=>Fk,__exportStar:()=>W0,__extends:()=>D0,__generator:()=>j0,__importDefault:()=>Y0,__importStar:()=>Q0,__makeTemplateObject:()=>K0,__metadata:()=>L0,__param:()=>F0,__propKey:()=>Uk,__read:()=>v_,__rest:()=>M0,__runInitializers:()=>Lk,__setFunctionName:()=>jk,__spread:()=>B0,__spreadArray:()=>$0,__spreadArrays:()=>V0,__values:()=>Rd,default:()=>Vk});function D0(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");E_(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function M0(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function k0(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o}function F0(t,e){return function(r,n){e(r,n,t)}}function Fk(t,e,r,n,i,o){function s(T){if(T!==void 0&&typeof T!="function")throw new TypeError("Function expected");return T}for(var a=n.kind,d=a==="getter"?"get":a==="setter"?"set":"value",l=!e&&t?n.static?t:t.prototype:null,p=e||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),f,m=!1,h=r.length-1;h>=0;h--){var _={};for(var E in n)_[E]=E==="access"?{}:n[E];for(var E in n.access)_.access[E]=n.access[E];_.addInitializer=function(T){if(m)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(T||null))};var v=(0,r[h])(a==="accessor"?{get:p.get,set:p.set}:p[d],_);if(a==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(f=s(v.get))&&(p.get=f),(f=s(v.set))&&(p.set=f),(f=s(v.init))&&i.unshift(f)}else(f=s(v))&&(a==="field"?i.unshift(f):p[d]=f)}l&&Object.defineProperty(l,n.name,p),m=!0}function Lk(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function Uk(t){return typeof t=="symbol"?t:"".concat(t)}function jk(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function L0(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function U0(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(p){try{l(n.next(p))}catch(f){s(f)}}function d(p){try{l(n.throw(p))}catch(f){s(f)}}function l(p){p.done?o(p.value):i(p.value).then(a,d)}l((n=n.apply(t,e||[])).next())})}function j0(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(p){return d([l,p])}}function d(l){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(r=0)),r;)try{if(n=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){r.label=l[1];break}if(l[0]===6&&r.label<o[1]){r.label=o[1],o=l;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(l);break}o[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(p){l=[6,p],i=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function W0(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&qd(e,t,r)}function Rd(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function v_(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o}function B0(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(v_(arguments[e]));return t}function V0(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n}function $0(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}function Zi(t){return this instanceof Zi?(this.v=t,this):new Zi(t)}function z0(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(m){n[m]&&(i[m]=function(h){return new Promise(function(_,E){o.push([m,h,_,E])>1||a(m,h)})})}function a(m,h){try{d(n[m](h))}catch(_){f(o[0][3],_)}}function d(m){m.value instanceof Zi?Promise.resolve(m.value.v).then(l,p):f(o[0][2],m)}function l(m){a("next",m)}function p(m){a("throw",m)}function f(m,h){m(h),o.shift(),o.length&&a(o[0][0],o[0][1])}}function H0(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,o){e[i]=t[i]?function(s){return(r=!r)?{value:Zi(t[i](s)),done:!1}:o?o(s):s}:o}}function G0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Rd=="function"?Rd(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(s){return new Promise(function(a,d){s=t[o](s),i(a,d,s.done,s.value)})}}function i(o,s,a,d){Promise.resolve(d).then(function(l){o({value:l,done:a})},s)}}function K0(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Q0(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&qd(e,t,r);return Wk(e,t),e}function Y0(t){return t&&t.__esModule?t:{default:t}}function J0(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function X0(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function Z0(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function ew(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose]}if(typeof n!="function")throw new TypeError("Object not disposable.");t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}function tw(t){function e(n){t.error=t.hasError?new Bk(n,t.error,"An error was suppressed during disposal."):n,t.hasError=!0}function r(){for(;t.stack.length;){var n=t.stack.pop();try{var i=n.dispose&&n.dispose.call(n.value);if(n.async)return Promise.resolve(i).then(r,function(o){return e(o),r()})}catch(o){e(o)}}if(t.hasError)throw t.error}return r()}var E_,Id,qd,Wk,Bk,Vk,x=Ce(()=>{E_=function(t,e){return E_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},E_(t,e)};Id=function(){return Id=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Id.apply(this,arguments)};qd=Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};Wk=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};Bk=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};Vk={__extends:D0,__assign:Id,__rest:M0,__decorate:k0,__param:F0,__metadata:L0,__awaiter:U0,__generator:j0,__createBinding:qd,__exportStar:W0,__values:Rd,__read:v_,__spread:B0,__spreadArrays:V0,__spreadArray:$0,__await:Zi,__asyncGenerator:z0,__asyncDelegator:H0,__asyncValues:G0,__makeTemplateObject:K0,__importStar:Q0,__importDefault:Y0,__classPrivateFieldGet:J0,__classPrivateFieldSet:X0,__classPrivateFieldIn:Z0,__addDisposableResource:ew,__disposeResources:tw}});var rw=c(eo=>{"use strict";Object.defineProperty(eo,"__esModule",{value:!0});eo.resolveHttpHandlerRuntimeConfig=eo.getHttpHandlerExtensionConfiguration=void 0;var $k=t=>{let e=t.httpHandler;return{setHttpHandler(r){e=r},httpHandler(){return e},updateHttpClientConfig(r,n){e.updateHttpClientConfig(r,n)},httpHandlerConfigs(){return e.httpHandlerConfigs()}}};eo.getHttpHandlerExtensionConfiguration=$k;var zk=t=>({httpHandler:t.httpHandler()});eo.resolveHttpHandlerRuntimeConfig=zk});var nw=c(S_=>{"use strict";Object.defineProperty(S_,"__esModule",{value:!0});var Hk=(x(),S(N));Hk.__exportStar(rw(),S_)});var ow=c(iw=>{"use strict";Object.defineProperty(iw,"__esModule",{value:!0})});var sw=c(ga=>{"use strict";Object.defineProperty(ga,"__esModule",{value:!0});ga.HttpAuthLocation=void 0;var Gk;(function(t){t.HEADER="header",t.QUERY="query"})(Gk=ga.HttpAuthLocation||(ga.HttpAuthLocation={}))});var aw=c(Ea=>{"use strict";Object.defineProperty(Ea,"__esModule",{value:!0});Ea.HttpApiKeyAuthLocation=void 0;var Kk;(function(t){t.HEADER="header",t.QUERY="query"})(Kk=Ea.HttpApiKeyAuthLocation||(Ea.HttpApiKeyAuthLocation={}))});var dw=c(cw=>{"use strict";Object.defineProperty(cw,"__esModule",{value:!0})});var lw=c(uw=>{"use strict";Object.defineProperty(uw,"__esModule",{value:!0})});var fw=c(pw=>{"use strict";Object.defineProperty(pw,"__esModule",{value:!0})});var hw=c(mw=>{"use strict";Object.defineProperty(mw,"__esModule",{value:!0})});var _w=c(on=>{"use strict";Object.defineProperty(on,"__esModule",{value:!0});var to=(x(),S(N));to.__exportStar(sw(),on);to.__exportStar(aw(),on);to.__exportStar(dw(),on);to.__exportStar(lw(),on);to.__exportStar(fw(),on);to.__exportStar(hw(),on)});var gw=c(yw=>{"use strict";Object.defineProperty(yw,"__esModule",{value:!0})});var vw=c(Ew=>{"use strict";Object.defineProperty(Ew,"__esModule",{value:!0})});var ww=c(Sw=>{"use strict";Object.defineProperty(Sw,"__esModule",{value:!0})});var xw=c(Nw=>{"use strict";Object.defineProperty(Nw,"__esModule",{value:!0})});var Cw=c(bw=>{"use strict";Object.defineProperty(bw,"__esModule",{value:!0})});var Aw=c(Ow=>{"use strict";Object.defineProperty(Ow,"__esModule",{value:!0})});var Pw=c(Tw=>{"use strict";Object.defineProperty(Tw,"__esModule",{value:!0})});var Iw=c(va=>{"use strict";Object.defineProperty(va,"__esModule",{value:!0});var w_=(x(),S(N));w_.__exportStar(Cw(),va);w_.__exportStar(Aw(),va);w_.__exportStar(Pw(),va)});var qw=c(Rw=>{"use strict";Object.defineProperty(Rw,"__esModule",{value:!0})});var Mw=c(Dw=>{"use strict";Object.defineProperty(Dw,"__esModule",{value:!0})});var kw=c(Sa=>{"use strict";Object.defineProperty(Sa,"__esModule",{value:!0});Sa.EndpointURLScheme=void 0;var Qk;(function(t){t.HTTP="http",t.HTTPS="https"})(Qk=Sa.EndpointURLScheme||(Sa.EndpointURLScheme={}))});var Lw=c(Fw=>{"use strict";Object.defineProperty(Fw,"__esModule",{value:!0})});var jw=c(Uw=>{"use strict";Object.defineProperty(Uw,"__esModule",{value:!0})});var Bw=c(Ww=>{"use strict";Object.defineProperty(Ww,"__esModule",{value:!0})});var $w=c(Vw=>{"use strict";Object.defineProperty(Vw,"__esModule",{value:!0})});var Hw=c(zw=>{"use strict";Object.defineProperty(zw,"__esModule",{value:!0})});var Gw=c(ti=>{"use strict";Object.defineProperty(ti,"__esModule",{value:!0});var wa=(x(),S(N));wa.__exportStar(Lw(),ti);wa.__exportStar(jw(),ti);wa.__exportStar(Bw(),ti);wa.__exportStar($w(),ti);wa.__exportStar(Hw(),ti)});var Qw=c(Kw=>{"use strict";Object.defineProperty(Kw,"__esModule",{value:!0})});var x_=c(Ar=>{"use strict";Object.defineProperty(Ar,"__esModule",{value:!0});Ar.resolveChecksumRuntimeConfig=Ar.getChecksumConfiguration=Ar.AlgorithmId=void 0;var N_;(function(t){t.MD5="md5",t.CRC32="crc32",t.CRC32C="crc32c",t.SHA1="sha1",t.SHA256="sha256"})(N_=Ar.AlgorithmId||(Ar.AlgorithmId={}));var Yk=t=>{let e=[];return t.sha256!==void 0&&e.push({algorithmId:()=>N_.SHA256,checksumConstructor:()=>t.sha256}),t.md5!=null&&e.push({algorithmId:()=>N_.MD5,checksumConstructor:()=>t.md5}),{_checksumAlgorithms:e,addChecksumAlgorithm(r){this._checksumAlgorithms.push(r)},checksumAlgorithms(){return this._checksumAlgorithms}}};Ar.getChecksumConfiguration=Yk;var Jk=t=>{let e={};return t.checksumAlgorithms().forEach(r=>{e[r.algorithmId()]=r.checksumConstructor()}),e};Ar.resolveChecksumRuntimeConfig=Jk});var Jw=c(ro=>{"use strict";Object.defineProperty(ro,"__esModule",{value:!0});ro.resolveDefaultRuntimeConfig=ro.getDefaultClientConfiguration=void 0;var Yw=x_(),Xk=t=>({...(0,Yw.getChecksumConfiguration)(t)});ro.getDefaultClientConfiguration=Xk;var Zk=t=>({...(0,Yw.resolveChecksumRuntimeConfig)(t)});ro.resolveDefaultRuntimeConfig=Zk});var Zw=c(Xw=>{"use strict";Object.defineProperty(Xw,"__esModule",{value:!0})});var tN=c(no=>{"use strict";Object.defineProperty(no,"__esModule",{value:!0});no.AlgorithmId=void 0;var eN=(x(),S(N));eN.__exportStar(Jw(),no);eN.__exportStar(Zw(),no);var eF=x_();Object.defineProperty(no,"AlgorithmId",{enumerable:!0,get:function(){return eF.AlgorithmId}})});var rN=c(Na=>{"use strict";Object.defineProperty(Na,"__esModule",{value:!0});Na.FieldPosition=void 0;var tF;(function(t){t[t.HEADER=0]="HEADER",t[t.TRAILER=1]="TRAILER"})(tF=Na.FieldPosition||(Na.FieldPosition={}))});var iN=c(nN=>{"use strict";Object.defineProperty(nN,"__esModule",{value:!0})});var sN=c(oN=>{"use strict";Object.defineProperty(oN,"__esModule",{value:!0})});var cN=c(aN=>{"use strict";Object.defineProperty(aN,"__esModule",{value:!0})});var uN=c(dN=>{"use strict";Object.defineProperty(dN,"__esModule",{value:!0})});var lN=c(io=>{"use strict";Object.defineProperty(io,"__esModule",{value:!0});var Dd=(x(),S(N));Dd.__exportStar(iN(),io);Dd.__exportStar(sN(),io);Dd.__exportStar(cN(),io);Dd.__exportStar(uN(),io)});var fN=c(pN=>{"use strict";Object.defineProperty(pN,"__esModule",{value:!0})});var mN=c(Md=>{"use strict";Object.defineProperty(Md,"__esModule",{value:!0});Md.SMITHY_CONTEXT_KEY=void 0;Md.SMITHY_CONTEXT_KEY="__smithy_context"});var _N=c(hN=>{"use strict";Object.defineProperty(hN,"__esModule",{value:!0})});var yN=c(xa=>{"use strict";Object.defineProperty(xa,"__esModule",{value:!0});xa.IniSectionType=void 0;var rF;(function(t){t.PROFILE="profile",t.SSO_SESSION="sso-session",t.SERVICES="services"})(rF=xa.IniSectionType||(xa.IniSectionType={}))});var EN=c(gN=>{"use strict";Object.defineProperty(gN,"__esModule",{value:!0})});var SN=c(vN=>{"use strict";Object.defineProperty(vN,"__esModule",{value:!0})});var NN=c(wN=>{"use strict";Object.defineProperty(wN,"__esModule",{value:!0})});var bN=c(xN=>{"use strict";Object.defineProperty(xN,"__esModule",{value:!0})});var ON=c(CN=>{"use strict";Object.defineProperty(CN,"__esModule",{value:!0})});var TN=c(AN=>{"use strict";Object.defineProperty(AN,"__esModule",{value:!0})});var IN=c(PN=>{"use strict";Object.defineProperty(PN,"__esModule",{value:!0})});var qN=c(RN=>{"use strict";Object.defineProperty(RN,"__esModule",{value:!0})});var MN=c(DN=>{"use strict";Object.defineProperty(DN,"__esModule",{value:!0})});var kN=c(ba=>{"use strict";Object.defineProperty(ba,"__esModule",{value:!0});ba.RequestHandlerProtocol=void 0;var nF;(function(t){t.HTTP_0_9="http/0.9",t.HTTP_1_0="http/1.0",t.TDS_8_0="tds/8.0"})(nF=ba.RequestHandlerProtocol||(ba.RequestHandlerProtocol={}))});var LN=c(FN=>{"use strict";Object.defineProperty(FN,"__esModule",{value:!0})});var jN=c(UN=>{"use strict";Object.defineProperty(UN,"__esModule",{value:!0})});var BN=c(WN=>{"use strict";Object.defineProperty(WN,"__esModule",{value:!0})});var $N=c(VN=>{"use strict";Object.defineProperty(VN,"__esModule",{value:!0})});var HN=c(zN=>{"use strict";Object.defineProperty(zN,"__esModule",{value:!0})});var KN=c(GN=>{"use strict";Object.defineProperty(GN,"__esModule",{value:!0})});var $=c(L=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});var j=(x(),S(N));j.__exportStar(ow(),L);j.__exportStar(_w(),L);j.__exportStar(gw(),L);j.__exportStar(vw(),L);j.__exportStar(ww(),L);j.__exportStar(xw(),L);j.__exportStar(Iw(),L);j.__exportStar(qw(),L);j.__exportStar(Mw(),L);j.__exportStar(kw(),L);j.__exportStar(Gw(),L);j.__exportStar(Qw(),L);j.__exportStar(tN(),L);j.__exportStar(rN(),L);j.__exportStar(lN(),L);j.__exportStar(fN(),L);j.__exportStar(mN(),L);j.__exportStar(_N(),L);j.__exportStar(yN(),L);j.__exportStar(EN(),L);j.__exportStar(SN(),L);j.__exportStar(NN(),L);j.__exportStar(bN(),L);j.__exportStar(ON(),L);j.__exportStar(TN(),L);j.__exportStar(IN(),L);j.__exportStar(qN(),L);j.__exportStar(MN(),L);j.__exportStar(kN(),L);j.__exportStar(LN(),L);j.__exportStar(jN(),L);j.__exportStar(BN(),L);j.__exportStar($N(),L);j.__exportStar(HN(),L);j.__exportStar(KN(),L)});var QN=c(kd=>{"use strict";Object.defineProperty(kd,"__esModule",{value:!0});kd.Field=void 0;var iF=$(),b_=class{constructor({name:e,kind:r=iF.FieldPosition.HEADER,values:n=[]}){this.name=e,this.kind=r,this.values=n}add(e){this.values.push(e)}set(e){this.values=e}remove(e){this.values=this.values.filter(r=>r!==e)}toString(){return this.values.map(e=>e.includes(",")||e.includes(" ")?`"${e}"`:e).join(", ")}get(){return this.values}};kd.Field=b_});var YN=c(Fd=>{"use strict";Object.defineProperty(Fd,"__esModule",{value:!0});Fd.Fields=void 0;var C_=class{constructor({fields:e=[],encoding:r="utf-8"}){this.entries={},e.forEach(this.setField.bind(this)),this.encoding=r}setField(e){this.entries[e.name.toLowerCase()]=e}getField(e){return this.entries[e.toLowerCase()]}removeField(e){delete this.entries[e.toLowerCase()]}getByType(e){return Object.values(this.entries).filter(r=>r.kind===e)}};Fd.Fields=C_});var XN=c(JN=>{"use strict";Object.defineProperty(JN,"__esModule",{value:!0})});var ZN=c(Ld=>{"use strict";Object.defineProperty(Ld,"__esModule",{value:!0});Ld.HttpRequest=void 0;var O_=class t{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static isInstance(e){if(!e)return!1;let r=e;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){let e=new t({...this,headers:{...this.headers}});return e.query&&(e.query=oF(e.query)),e}};Ld.HttpRequest=O_;function oF(t){return Object.keys(t).reduce((e,r)=>{let n=t[r];return{...e,[r]:Array.isArray(n)?[...n]:n}},{})}});var ex=c(Ud=>{"use strict";Object.defineProperty(Ud,"__esModule",{value:!0});Ud.HttpResponse=void 0;var A_=class{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let r=e;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};Ud.HttpResponse=A_});var tx=c(jd=>{"use strict";Object.defineProperty(jd,"__esModule",{value:!0});jd.isValidHostname=void 0;function sF(t){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(t)}jd.isValidHostname=sF});var nx=c(rx=>{"use strict";Object.defineProperty(rx,"__esModule",{value:!0})});var ve=c(jt=>{"use strict";Object.defineProperty(jt,"__esModule",{value:!0});var sn=(x(),S(N));sn.__exportStar(nw(),jt);sn.__exportStar(QN(),jt);sn.__exportStar(YN(),jt);sn.__exportStar(XN(),jt);sn.__exportStar(ZN(),jt);sn.__exportStar(ex(),jt);sn.__exportStar(tx(),jt);sn.__exportStar(nx(),jt)});var Ca=c(lt=>{"use strict";Object.defineProperty(lt,"__esModule",{value:!0});lt.getHostHeaderPlugin=lt.hostHeaderMiddlewareOptions=lt.hostHeaderMiddleware=lt.resolveHostHeaderConfig=void 0;var aF=ve();function cF(t){return t}lt.resolveHostHeaderConfig=cF;var dF=t=>e=>async r=>{if(!aF.HttpRequest.isInstance(r.request))return e(r);let{request:n}=r,{handlerProtocol:i=""}=t.requestHandler.metadata||{};if(i.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let o=n.hostname;n.port!=null&&(o+=`:${n.port}`),n.headers.host=o}return e(r)};lt.hostHeaderMiddleware=dF;lt.hostHeaderMiddlewareOptions={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0};var uF=t=>({applyToStack:e=>{e.add((0,lt.hostHeaderMiddleware)(t),lt.hostHeaderMiddlewareOptions)}});lt.getHostHeaderPlugin=uF});var ix=c(Wt=>{"use strict";Object.defineProperty(Wt,"__esModule",{value:!0});Wt.getLoggerPlugin=Wt.loggerMiddlewareOptions=Wt.loggerMiddleware=void 0;var lF=()=>(t,e)=>async r=>{var n,i;try{let o=await t(r),{clientName:s,commandName:a,logger:d,dynamoDbDocumentClientOptions:l={}}=e,{overrideInputFilterSensitiveLog:p,overrideOutputFilterSensitiveLog:f}=l,m=p??e.inputFilterSensitiveLog,h=f??e.outputFilterSensitiveLog,{$metadata:_,...E}=o.output;return(n=d?.info)===null||n===void 0||n.call(d,{clientName:s,commandName:a,input:m(r.input),output:h(E),metadata:_}),o}catch(o){let{clientName:s,commandName:a,logger:d,dynamoDbDocumentClientOptions:l={}}=e,{overrideInputFilterSensitiveLog:p}=l,f=p??e.inputFilterSensitiveLog;throw(i=d?.error)===null||i===void 0||i.call(d,{clientName:s,commandName:a,input:f(r.input),error:o,metadata:o.$metadata}),o}};Wt.loggerMiddleware=lF;Wt.loggerMiddlewareOptions={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0};var pF=t=>({applyToStack:e=>{e.add((0,Wt.loggerMiddleware)(),Wt.loggerMiddlewareOptions)}});Wt.getLoggerPlugin=pF});var Oa=c(T_=>{"use strict";Object.defineProperty(T_,"__esModule",{value:!0});var fF=(x(),S(N));fF.__exportStar(ix(),T_)});var Aa=c(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});Bt.getRecursionDetectionPlugin=Bt.addRecursionDetectionMiddlewareOptions=Bt.recursionDetectionMiddleware=void 0;var mF=ve(),ox="X-Amzn-Trace-Id",hF="AWS_LAMBDA_FUNCTION_NAME",_F="_X_AMZN_TRACE_ID",yF=t=>e=>async r=>{let{request:n}=r;if(!mF.HttpRequest.isInstance(n)||t.runtime!=="node"||n.headers.hasOwnProperty(ox))return e(r);let i=process.env[hF],o=process.env[_F],s=a=>typeof a=="string"&&a.length>0;return s(i)&&s(o)&&(n.headers[ox]=o),e({...r,request:n})};Bt.recursionDetectionMiddleware=yF;Bt.addRecursionDetectionMiddlewareOptions={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"};var gF=t=>({applyToStack:e=>{e.add((0,Bt.recursionDetectionMiddleware)(t),Bt.addRecursionDetectionMiddlewareOptions)}});Bt.getRecursionDetectionPlugin=gF});var Ta=c(Wd=>{"use strict";Object.defineProperty(Wd,"__esModule",{value:!0});Wd.ProviderError=void 0;var P_=class t extends Error{constructor(e,r=!0){super(e),this.tryNextLink=r,this.name="ProviderError",Object.setPrototypeOf(this,t.prototype)}static from(e,r=!0){return Object.assign(new this(e.message,r),e)}};Wd.ProviderError=P_});var sx=c(Bd=>{"use strict";Object.defineProperty(Bd,"__esModule",{value:!0});Bd.CredentialsProviderError=void 0;var EF=Ta(),I_=class t extends EF.ProviderError{constructor(e,r=!0){super(e,r),this.tryNextLink=r,this.name="CredentialsProviderError",Object.setPrototypeOf(this,t.prototype)}};Bd.CredentialsProviderError=I_});var ax=c(Vd=>{"use strict";Object.defineProperty(Vd,"__esModule",{value:!0});Vd.TokenProviderError=void 0;var vF=Ta(),R_=class t extends vF.ProviderError{constructor(e,r=!0){super(e,r),this.tryNextLink=r,this.name="TokenProviderError",Object.setPrototypeOf(this,t.prototype)}};Vd.TokenProviderError=R_});var cx=c($d=>{"use strict";Object.defineProperty($d,"__esModule",{value:!0});$d.chain=void 0;var SF=Ta(),wF=(...t)=>async()=>{if(t.length===0)throw new SF.ProviderError("No providers in chain");let e;for(let r of t)try{return await r()}catch(n){if(e=n,n?.tryNextLink)continue;throw n}throw e};$d.chain=wF});var dx=c(zd=>{"use strict";Object.defineProperty(zd,"__esModule",{value:!0});zd.fromStatic=void 0;var NF=t=>()=>Promise.resolve(t);zd.fromStatic=NF});var ux=c(Hd=>{"use strict";Object.defineProperty(Hd,"__esModule",{value:!0});Hd.memoize=void 0;var xF=(t,e,r)=>{let n,i,o,s=!1,a=async()=>{i||(i=t());try{n=await i,o=!0,s=!1}finally{i=void 0}return n};return e===void 0?async d=>((!o||d?.forceRefresh)&&(n=await a()),n):async d=>((!o||d?.forceRefresh)&&(n=await a()),s?n:r&&!r(n)?(s=!0,n):(e(n)&&await a(),n))};Hd.memoize=xF});var Gd=c(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});var oo=(x(),S(N));oo.__exportStar(sx(),an);oo.__exportStar(Ta(),an);oo.__exportStar(ax(),an);oo.__exportStar(cx(),an);oo.__exportStar(dx(),an);oo.__exportStar(ux(),an)});var k_={};Mh(k_,{__assign:()=>D_,__asyncDelegator:()=>FF,__asyncGenerator:()=>kF,__asyncValues:()=>LF,__await:()=>Pa,__awaiter:()=>PF,__classPrivateFieldGet:()=>BF,__classPrivateFieldSet:()=>VF,__createBinding:()=>RF,__decorate:()=>OF,__exportStar:()=>qF,__extends:()=>bF,__generator:()=>IF,__importDefault:()=>WF,__importStar:()=>jF,__makeTemplateObject:()=>UF,__metadata:()=>TF,__param:()=>AF,__read:()=>lx,__rest:()=>CF,__spread:()=>DF,__spreadArrays:()=>MF,__values:()=>M_});function bF(t,e){q_(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function CF(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function OF(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o}function AF(t,e){return function(r,n){e(r,n,t)}}function TF(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function PF(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(p){try{l(n.next(p))}catch(f){s(f)}}function d(p){try{l(n.throw(p))}catch(f){s(f)}}function l(p){p.done?o(p.value):i(p.value).then(a,d)}l((n=n.apply(t,e||[])).next())})}function IF(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(p){return d([l,p])}}function d(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){r.label=l[1];break}if(l[0]===6&&r.label<o[1]){r.label=o[1],o=l;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(l);break}o[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(p){l=[6,p],i=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function RF(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function qF(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function M_(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function lx(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o}function DF(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(lx(arguments[e]));return t}function MF(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n}function Pa(t){return this instanceof Pa?(this.v=t,this):new Pa(t)}function kF(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(m){n[m]&&(i[m]=function(h){return new Promise(function(_,E){o.push([m,h,_,E])>1||a(m,h)})})}function a(m,h){try{d(n[m](h))}catch(_){f(o[0][3],_)}}function d(m){m.value instanceof Pa?Promise.resolve(m.value.v).then(l,p):f(o[0][2],m)}function l(m){a("next",m)}function p(m){a("throw",m)}function f(m,h){m(h),o.shift(),o.length&&a(o[0][0],o[0][1])}}function FF(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,o){e[i]=t[i]?function(s){return(r=!r)?{value:Pa(t[i](s)),done:i==="return"}:o?o(s):s}:o}}function LF(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof M_=="function"?M_(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(s){return new Promise(function(a,d){s=t[o](s),i(a,d,s.done,s.value)})}}function i(o,s,a,d){Promise.resolve(d).then(function(l){o({value:l,done:a})},s)}}function UF(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function jF(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function WF(t){return t&&t.__esModule?t:{default:t}}function BF(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function VF(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}var q_,D_,F_=Ce(()=>{q_=function(t,e){return q_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},q_(t,e)};D_=function(){return D_=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},D_.apply(this,arguments)}});var px=c(so=>{"use strict";Object.defineProperty(so,"__esModule",{value:!0});so.toUtf8=so.fromUtf8=void 0;var $F=t=>{let e=[];for(let r=0,n=t.length;r<n;r++){let i=t.charCodeAt(r);if(i<128)e.push(i);else if(i<2048)e.push(i>>6|192,i&63|128);else if(r+1<t.length&&(i&64512)===55296&&(t.charCodeAt(r+1)&64512)===56320){let o=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023);e.push(o>>18|240,o>>12&63|128,o>>6&63|128,o&63|128)}else e.push(i>>12|224,i>>6&63|128,i&63|128)}return Uint8Array.from(e)};so.fromUtf8=$F;var zF=t=>{let e="";for(let r=0,n=t.length;r<n;r++){let i=t[r];if(i<128)e+=String.fromCharCode(i);else if(192<=i&&i<224){let o=t[++r];e+=String.fromCharCode((i&31)<<6|o&63)}else if(240<=i&&i<365){let s="%"+[i,t[++r],t[++r],t[++r]].map(a=>a.toString(16)).join("%");e+=decodeURIComponent(s)}else e+=String.fromCharCode((i&15)<<12|(t[++r]&63)<<6|t[++r]&63)}return e};so.toUtf8=zF});var fx=c(ao=>{"use strict";Object.defineProperty(ao,"__esModule",{value:!0});ao.toUtf8=ao.fromUtf8=void 0;function HF(t){return new TextEncoder().encode(t)}ao.fromUtf8=HF;function GF(t){return new TextDecoder("utf-8").decode(t)}ao.toUtf8=GF});var _x=c(co=>{"use strict";Object.defineProperty(co,"__esModule",{value:!0});co.toUtf8=co.fromUtf8=void 0;var mx=px(),hx=fx(),KF=t=>typeof TextEncoder=="function"?(0,hx.fromUtf8)(t):(0,mx.fromUtf8)(t);co.fromUtf8=KF;var QF=t=>typeof TextDecoder=="function"?(0,hx.toUtf8)(t):(0,mx.toUtf8)(t);co.toUtf8=QF});var yx=c(Kd=>{"use strict";Object.defineProperty(Kd,"__esModule",{value:!0});Kd.convertToBuffer=void 0;var YF=_x(),JF=typeof Buffer<"u"&&Buffer.from?function(t){return Buffer.from(t,"utf8")}:YF.fromUtf8;function XF(t){return t instanceof Uint8Array?t:typeof t=="string"?JF(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}Kd.convertToBuffer=XF});var gx=c(Qd=>{"use strict";Object.defineProperty(Qd,"__esModule",{value:!0});Qd.isEmptyData=void 0;function ZF(t){return typeof t=="string"?t.length===0:t.byteLength===0}Qd.isEmptyData=ZF});var Ex=c(Yd=>{"use strict";Object.defineProperty(Yd,"__esModule",{value:!0});Yd.numToUint8=void 0;function eL(t){return new Uint8Array([(t&4278190080)>>24,(t&16711680)>>16,(t&65280)>>8,t&255])}Yd.numToUint8=eL});var vx=c(Jd=>{"use strict";Object.defineProperty(Jd,"__esModule",{value:!0});Jd.uint32ArrayFrom=void 0;function tL(t){if(!Uint32Array.from){for(var e=new Uint32Array(t.length),r=0;r<t.length;)e[r]=t[r],r+=1;return e}return Uint32Array.from(t)}Jd.uint32ArrayFrom=tL});var L_=c(Vt=>{"use strict";Object.defineProperty(Vt,"__esModule",{value:!0});Vt.uint32ArrayFrom=Vt.numToUint8=Vt.isEmptyData=Vt.convertToBuffer=void 0;var rL=yx();Object.defineProperty(Vt,"convertToBuffer",{enumerable:!0,get:function(){return rL.convertToBuffer}});var nL=gx();Object.defineProperty(Vt,"isEmptyData",{enumerable:!0,get:function(){return nL.isEmptyData}});var iL=Ex();Object.defineProperty(Vt,"numToUint8",{enumerable:!0,get:function(){return iL.numToUint8}});var oL=vx();Object.defineProperty(Vt,"uint32ArrayFrom",{enumerable:!0,get:function(){return oL.uint32ArrayFrom}})});var Nx=c(Xd=>{"use strict";Object.defineProperty(Xd,"__esModule",{value:!0});Xd.AwsCrc32=void 0;var Sx=(F_(),S(k_)),U_=L_(),wx=Zd(),sL=function(){function t(){this.crc32=new wx.Crc32}return t.prototype.update=function(e){(0,U_.isEmptyData)(e)||this.crc32.update((0,U_.convertToBuffer)(e))},t.prototype.digest=function(){return Sx.__awaiter(this,void 0,void 0,function(){return Sx.__generator(this,function(e){return[2,(0,U_.numToUint8)(this.crc32.digest())]})})},t.prototype.reset=function(){this.crc32=new wx.Crc32},t}();Xd.AwsCrc32=sL});var Zd=c(cn=>{"use strict";Object.defineProperty(cn,"__esModule",{value:!0});cn.AwsCrc32=cn.Crc32=cn.crc32=void 0;var aL=(F_(),S(k_)),cL=L_();function dL(t){return new xx().update(t).digest()}cn.crc32=dL;var xx=function(){function t(){this.checksum=4294967295}return t.prototype.update=function(e){var r,n;try{for(var i=aL.__values(e),o=i.next();!o.done;o=i.next()){var s=o.value;this.checksum=this.checksum>>>8^lL[(this.checksum^s)&255]}}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return this},t.prototype.digest=function(){return(this.checksum^4294967295)>>>0},t}();cn.Crc32=xx;var uL=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],lL=(0,cL.uint32ArrayFrom)(uL),pL=Nx();Object.defineProperty(cn,"AwsCrc32",{enumerable:!0,get:function(){return pL.AwsCrc32}})});var lo=c(uo=>{"use strict";Object.defineProperty(uo,"__esModule",{value:!0});uo.toHex=uo.fromHex=void 0;var bx={},j_={};for(let t=0;t<256;t++){let e=t.toString(16).toLowerCase();e.length===1&&(e=`0${e}`),bx[t]=e,j_[e]=t}function fL(t){if(t.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let e=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2){let n=t.slice(r,r+2).toLowerCase();if(n in j_)e[r/2]=j_[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return e}uo.fromHex=fL;function mL(t){let e="";for(let r=0;r<t.byteLength;r++)e+=bx[t[r]];return e}uo.toHex=mL});var B_=c(eu=>{"use strict";Object.defineProperty(eu,"__esModule",{value:!0});eu.Int64=void 0;var hL=lo(),W_=class t{constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,i=Math.abs(Math.round(e));n>-1&&i>0;n--,i/=256)r[n]=i;return e<0&&Cx(r),new t(r)}valueOf(){let e=this.bytes.slice(0),r=e[0]&128;return r&&Cx(e),parseInt((0,hL.toHex)(e),16)*(r?-1:1)}toString(){return String(this.valueOf())}};eu.Int64=W_;function Cx(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}});var z_=c(tu=>{"use strict";Object.defineProperty(tu,"__esModule",{value:!0});tu.HeaderMarshaller=void 0;var po=lo(),V_=B_(),$_=class{constructor(e,r){this.toUtf8=e,this.fromUtf8=r}format(e){let r=[];for(let o of Object.keys(e)){let s=this.fromUtf8(o);r.push(Uint8Array.from([s.byteLength]),s,this.formatHeaderValue(e[o]))}let n=new Uint8Array(r.reduce((o,s)=>o+s.byteLength,0)),i=0;for(let o of r)n.set(o,i),i+=o.byteLength;return n}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,e.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":let i=new Uint8Array(9);return i[0]=5,i.set(e.value.bytes,1),i;case"binary":let o=new DataView(new ArrayBuffer(3+e.value.byteLength));o.setUint8(0,6),o.setUint16(1,e.value.byteLength,!1);let s=new Uint8Array(o.buffer);return s.set(e.value,3),s;case"string":let a=this.fromUtf8(e.value),d=new DataView(new ArrayBuffer(3+a.byteLength));d.setUint8(0,7),d.setUint16(1,a.byteLength,!1);let l=new Uint8Array(d.buffer);return l.set(a,3),l;case"timestamp":let p=new Uint8Array(9);return p[0]=8,p.set(V_.Int64.fromNumber(e.value.valueOf()).bytes,1),p;case"uuid":if(!xL.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let f=new Uint8Array(17);return f[0]=9,f.set((0,po.fromHex)(e.value.replace(/\-/g,"")),1),f}}parse(e){let r={},n=0;for(;n<e.byteLength;){let i=e.getUint8(n++),o=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,i));switch(n+=i,e.getUint8(n++)){case 0:r[o]={type:Ax,value:!0};break;case 1:r[o]={type:Ax,value:!1};break;case 2:r[o]={type:_L,value:e.getInt8(n++)};break;case 3:r[o]={type:yL,value:e.getInt16(n,!1)},n+=2;break;case 4:r[o]={type:gL,value:e.getInt32(n,!1)},n+=4;break;case 5:r[o]={type:EL,value:new V_.Int64(new Uint8Array(e.buffer,e.byteOffset+n,8))},n+=8;break;case 6:let s=e.getUint16(n,!1);n+=2,r[o]={type:vL,value:new Uint8Array(e.buffer,e.byteOffset+n,s)},n+=s;break;case 7:let a=e.getUint16(n,!1);n+=2,r[o]={type:SL,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,a))},n+=a;break;case 8:r[o]={type:wL,value:new Date(new V_.Int64(new Uint8Array(e.buffer,e.byteOffset+n,8)).valueOf())},n+=8;break;case 9:let d=new Uint8Array(e.buffer,e.byteOffset+n,16);n+=16,r[o]={type:NL,value:`${(0,po.toHex)(d.subarray(0,4))}-${(0,po.toHex)(d.subarray(4,6))}-${(0,po.toHex)(d.subarray(6,8))}-${(0,po.toHex)(d.subarray(8,10))}-${(0,po.toHex)(d.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return r}};tu.HeaderMarshaller=$_;var Ox;(function(t){t[t.boolTrue=0]="boolTrue",t[t.boolFalse=1]="boolFalse",t[t.byte=2]="byte",t[t.short=3]="short",t[t.integer=4]="integer",t[t.long=5]="long",t[t.byteArray=6]="byteArray",t[t.string=7]="string",t[t.timestamp=8]="timestamp",t[t.uuid=9]="uuid"})(Ox||(Ox={}));var Ax="boolean",_L="byte",yL="short",gL="integer",EL="long",vL="binary",SL="string",wL="timestamp",NL="uuid",xL=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/});var Px=c(ru=>{"use strict";Object.defineProperty(ru,"__esModule",{value:!0});ru.splitMessage=void 0;var bL=Zd(),Tx=4,dn=Tx*2,ri=4,CL=dn+ri*2;function OL({byteLength:t,byteOffset:e,buffer:r}){if(t<CL)throw new Error("Provided message too short to accommodate event stream message overhead");let n=new DataView(r,e,t),i=n.getUint32(0,!1);if(t!==i)throw new Error("Reported message length does not match received message length");let o=n.getUint32(Tx,!1),s=n.getUint32(dn,!1),a=n.getUint32(t-ri,!1),d=new bL.Crc32().update(new Uint8Array(r,e,dn));if(s!==d.digest())throw new Error(`The prelude checksum specified in the message (${s}) does not match the calculated CRC32 checksum (${d.digest()})`);if(d.update(new Uint8Array(r,e+dn,t-(dn+ri))),a!==d.digest())throw new Error(`The message checksum (${d.digest()}) did not match the expected value of ${a}`);return{headers:new DataView(r,e+dn+ri,o),body:new Uint8Array(r,e+dn+ri+o,i-o-(dn+ri+ri))}}ru.splitMessage=OL});var Ix=c(nu=>{"use strict";Object.defineProperty(nu,"__esModule",{value:!0});nu.EventStreamCodec=void 0;var AL=Zd(),TL=z_(),PL=Px(),H_=class{constructor(e,r){this.headerMarshaller=new TL.HeaderMarshaller(e,r),this.messageBuffer=[],this.isEndOfStream=!1}feed(e){this.messageBuffer.push(this.decode(e))}endOfStream(){this.isEndOfStream=!0}getMessage(){let e=this.messageBuffer.pop(),r=this.isEndOfStream;return{getMessage(){return e},isEndOfStream(){return r}}}getAvailableMessages(){let e=this.messageBuffer;this.messageBuffer=[];let r=this.isEndOfStream;return{getMessages(){return e},isEndOfStream(){return r}}}encode({headers:e,body:r}){let n=this.headerMarshaller.format(e),i=n.byteLength+r.byteLength+16,o=new Uint8Array(i),s=new DataView(o.buffer,o.byteOffset,o.byteLength),a=new AL.Crc32;return s.setUint32(0,i,!1),s.setUint32(4,n.byteLength,!1),s.setUint32(8,a.update(o.subarray(0,8)).digest(),!1),o.set(n,12),o.set(r,n.byteLength+12),s.setUint32(i-4,a.update(o.subarray(8,i-4)).digest(),!1),o}decode(e){let{headers:r,body:n}=(0,PL.splitMessage)(e);return{headers:this.headerMarshaller.parse(r),body:n}}formatHeaders(e){return this.headerMarshaller.format(e)}};nu.EventStreamCodec=H_});var qx=c(Rx=>{"use strict";Object.defineProperty(Rx,"__esModule",{value:!0})});var Dx=c(iu=>{"use strict";Object.defineProperty(iu,"__esModule",{value:!0});iu.MessageDecoderStream=void 0;var G_=class{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let e of this.options.inputStream)yield this.options.decoder.decode(e)}};iu.MessageDecoderStream=G_});var Mx=c(ou=>{"use strict";Object.defineProperty(ou,"__esModule",{value:!0});ou.MessageEncoderStream=void 0;var K_=class{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let e of this.options.messageStream)yield this.options.encoder.encode(e);this.options.includeEndFrame&&(yield new Uint8Array(0))}};ou.MessageEncoderStream=K_});var kx=c(su=>{"use strict";Object.defineProperty(su,"__esModule",{value:!0});su.SmithyMessageDecoderStream=void 0;var Q_=class{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let e of this.options.messageStream){let r=await this.options.deserializer(e);r!==void 0&&(yield r)}}};su.SmithyMessageDecoderStream=Q_});var Fx=c(au=>{"use strict";Object.defineProperty(au,"__esModule",{value:!0});au.SmithyMessageEncoderStream=void 0;var Y_=class{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let e of this.options.inputStream)yield this.options.serializer(e)}};au.SmithyMessageEncoderStream=Y_});var Lx=c($t=>{"use strict";Object.defineProperty($t,"__esModule",{value:!0});var un=(x(),S(N));un.__exportStar(Ix(),$t);un.__exportStar(z_(),$t);un.__exportStar(B_(),$t);un.__exportStar(qx(),$t);un.__exportStar(Dx(),$t);un.__exportStar(Mx(),$t);un.__exportStar(kx(),$t);un.__exportStar(Fx(),$t)});var jx=c(cu=>{"use strict";Object.defineProperty(cu,"__esModule",{value:!0});cu.getSmithyContext=void 0;var Ux=$(),IL=t=>t[Ux.SMITHY_CONTEXT_KEY]||(t[Ux.SMITHY_CONTEXT_KEY]={});cu.getSmithyContext=IL});var Wx=c(du=>{"use strict";Object.defineProperty(du,"__esModule",{value:!0});du.normalizeProvider=void 0;var RL=t=>{if(typeof t=="function")return t;let e=Promise.resolve(t);return()=>e};du.normalizeProvider=RL});var ln=c(uu=>{"use strict";Object.defineProperty(uu,"__esModule",{value:!0});var Bx=(x(),S(N));Bx.__exportStar(jx(),uu);Bx.__exportStar(Wx(),uu)});var J_=c(lu=>{"use strict";Object.defineProperty(lu,"__esModule",{value:!0});lu.isArrayBuffer=void 0;var qL=t=>typeof ArrayBuffer=="function"&&t instanceof ArrayBuffer||Object.prototype.toString.call(t)==="[object ArrayBuffer]";lu.isArrayBuffer=qL});var ni=c(fo=>{"use strict";Object.defineProperty(fo,"__esModule",{value:!0});fo.fromString=fo.fromArrayBuffer=void 0;var DL=J_(),X_=M("buffer"),ML=(t,e=0,r=t.byteLength-e)=>{if(!(0,DL.isArrayBuffer)(t))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof t} (${t})`);return X_.Buffer.from(t,e,r)};fo.fromArrayBuffer=ML;var kL=(t,e)=>{if(typeof t!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof t} (${t})`);return e?X_.Buffer.from(t,e):X_.Buffer.from(t)};fo.fromString=kL});var Z_=c(pu=>{"use strict";Object.defineProperty(pu,"__esModule",{value:!0});pu.fromUtf8=void 0;var FL=ni(),LL=t=>{let e=(0,FL.fromString)(t,"utf8");return new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT)};pu.fromUtf8=LL});var Vx=c(fu=>{"use strict";Object.defineProperty(fu,"__esModule",{value:!0});fu.toUint8Array=void 0;var UL=Z_(),jL=t=>typeof t=="string"?(0,UL.fromUtf8)(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t);fu.toUint8Array=jL});var $x=c(mu=>{"use strict";Object.defineProperty(mu,"__esModule",{value:!0});mu.toUtf8=void 0;var WL=ni(),BL=t=>(0,WL.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("utf8");mu.toUtf8=BL});var zt=c(Ia=>{"use strict";Object.defineProperty(Ia,"__esModule",{value:!0});var ey=(x(),S(N));ey.__exportStar(Z_(),Ia);ey.__exportStar(Vx(),Ia);ey.__exportStar($x(),Ia)});var ii=c(b=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.MAX_PRESIGNED_TTL=b.KEY_TYPE_IDENTIFIER=b.MAX_CACHE_SIZE=b.UNSIGNED_PAYLOAD=b.EVENT_ALGORITHM_IDENTIFIER=b.ALGORITHM_IDENTIFIER_V4A=b.ALGORITHM_IDENTIFIER=b.UNSIGNABLE_PATTERNS=b.SEC_HEADER_PATTERN=b.PROXY_HEADER_PATTERN=b.ALWAYS_UNSIGNABLE_HEADERS=b.HOST_HEADER=b.TOKEN_HEADER=b.SHA256_HEADER=b.SIGNATURE_HEADER=b.GENERATED_HEADERS=b.DATE_HEADER=b.AMZ_DATE_HEADER=b.AUTH_HEADER=b.REGION_SET_PARAM=b.TOKEN_QUERY_PARAM=b.SIGNATURE_QUERY_PARAM=b.EXPIRES_QUERY_PARAM=b.SIGNED_HEADERS_QUERY_PARAM=b.AMZ_DATE_QUERY_PARAM=b.CREDENTIAL_QUERY_PARAM=b.ALGORITHM_QUERY_PARAM=void 0;b.ALGORITHM_QUERY_PARAM="X-Amz-Algorithm";b.CREDENTIAL_QUERY_PARAM="X-Amz-Credential";b.AMZ_DATE_QUERY_PARAM="X-Amz-Date";b.SIGNED_HEADERS_QUERY_PARAM="X-Amz-SignedHeaders";b.EXPIRES_QUERY_PARAM="X-Amz-Expires";b.SIGNATURE_QUERY_PARAM="X-Amz-Signature";b.TOKEN_QUERY_PARAM="X-Amz-Security-Token";b.REGION_SET_PARAM="X-Amz-Region-Set";b.AUTH_HEADER="authorization";b.AMZ_DATE_HEADER=b.AMZ_DATE_QUERY_PARAM.toLowerCase();b.DATE_HEADER="date";b.GENERATED_HEADERS=[b.AUTH_HEADER,b.AMZ_DATE_HEADER,b.DATE_HEADER];b.SIGNATURE_HEADER=b.SIGNATURE_QUERY_PARAM.toLowerCase();b.SHA256_HEADER="x-amz-content-sha256";b.TOKEN_HEADER=b.TOKEN_QUERY_PARAM.toLowerCase();b.HOST_HEADER="host";b.ALWAYS_UNSIGNABLE_HEADERS={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0};b.PROXY_HEADER_PATTERN=/^proxy-/;b.SEC_HEADER_PATTERN=/^sec-/;b.UNSIGNABLE_PATTERNS=[/^proxy-/i,/^sec-/i];b.ALGORITHM_IDENTIFIER="AWS4-HMAC-SHA256";b.ALGORITHM_IDENTIFIER_V4A="AWS4-ECDSA-P256-SHA256";b.EVENT_ALGORITHM_IDENTIFIER="AWS4-HMAC-SHA256-PAYLOAD";b.UNSIGNED_PAYLOAD="UNSIGNED-PAYLOAD";b.MAX_CACHE_SIZE=50;b.KEY_TYPE_IDENTIFIER="aws4_request";b.MAX_PRESIGNED_TTL=60*60*24*7});var ry=c(pn=>{"use strict";Object.defineProperty(pn,"__esModule",{value:!0});pn.clearCredentialCache=pn.getSigningKey=pn.createScope=void 0;var VL=lo(),$L=zt(),ty=ii(),mo={},hu=[],zL=(t,e,r)=>`${t}/${e}/${r}/${ty.KEY_TYPE_IDENTIFIER}`;pn.createScope=zL;var HL=async(t,e,r,n,i)=>{let o=await zx(t,e.secretAccessKey,e.accessKeyId),s=`${r}:${n}:${i}:${(0,VL.toHex)(o)}:${e.sessionToken}`;if(s in mo)return mo[s];for(hu.push(s);hu.length>ty.MAX_CACHE_SIZE;)delete mo[hu.shift()];let a=`AWS4${e.secretAccessKey}`;for(let d of[r,n,i,ty.KEY_TYPE_IDENTIFIER])a=await zx(t,a,d);return mo[s]=a};pn.getSigningKey=HL;var GL=()=>{hu.length=0,Object.keys(mo).forEach(t=>{delete mo[t]})};pn.clearCredentialCache=GL;var zx=(t,e,r)=>{let n=new t(e);return n.update((0,$L.toUint8Array)(r)),n.digest()}});var iy=c(_u=>{"use strict";Object.defineProperty(_u,"__esModule",{value:!0});_u.getCanonicalHeaders=void 0;var ny=ii(),KL=({headers:t},e,r)=>{let n={};for(let i of Object.keys(t).sort()){if(t[i]==null)continue;let o=i.toLowerCase();(o in ny.ALWAYS_UNSIGNABLE_HEADERS||e?.has(o)||ny.PROXY_HEADER_PATTERN.test(o)||ny.SEC_HEADER_PATTERN.test(o))&&(!r||r&&!r.has(o))||(n[o]=t[i].trim().replace(/\s+/g," "))}return n};_u.getCanonicalHeaders=KL});var oy=c(yu=>{"use strict";Object.defineProperty(yu,"__esModule",{value:!0});yu.escapeUri=void 0;var QL=t=>encodeURIComponent(t).replace(/[!'()*]/g,YL);yu.escapeUri=QL;var YL=t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`});var Hx=c(gu=>{"use strict";Object.defineProperty(gu,"__esModule",{value:!0});gu.escapeUriPath=void 0;var JL=oy(),XL=t=>t.split("/").map(JL.escapeUri).join("/");gu.escapeUriPath=XL});var sy=c(Eu=>{"use strict";Object.defineProperty(Eu,"__esModule",{value:!0});var Gx=(x(),S(N));Gx.__exportStar(oy(),Eu);Gx.__exportStar(Hx(),Eu)});var ay=c(Su=>{"use strict";Object.defineProperty(Su,"__esModule",{value:!0});Su.getCanonicalQuery=void 0;var vu=sy(),ZL=ii(),eU=({query:t={}})=>{let e=[],r={};for(let n of Object.keys(t).sort()){if(n.toLowerCase()===ZL.SIGNATURE_HEADER)continue;e.push(n);let i=t[n];typeof i=="string"?r[n]=`${(0,vu.escapeUri)(n)}=${(0,vu.escapeUri)(i)}`:Array.isArray(i)&&(r[n]=i.slice(0).reduce((o,s)=>o.concat([`${(0,vu.escapeUri)(n)}=${(0,vu.escapeUri)(s)}`]),[]).sort().join("&"))}return e.map(n=>r[n]).filter(n=>n).join("&")};Su.getCanonicalQuery=eU});var cy=c(wu=>{"use strict";Object.defineProperty(wu,"__esModule",{value:!0});wu.getPayloadHash=void 0;var tU=J_(),rU=lo(),nU=zt(),Kx=ii(),iU=async({headers:t,body:e},r)=>{for(let n of Object.keys(t))if(n.toLowerCase()===Kx.SHA256_HEADER)return t[n];if(e==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof e=="string"||ArrayBuffer.isView(e)||(0,tU.isArrayBuffer)(e)){let n=new r;return n.update((0,nU.toUint8Array)(e)),(0,rU.toHex)(await n.digest())}return Kx.UNSIGNED_PAYLOAD};wu.getPayloadHash=iU});var Qx=c(fn=>{"use strict";Object.defineProperty(fn,"__esModule",{value:!0});fn.deleteHeader=fn.getHeaderValue=fn.hasHeader=void 0;var oU=(t,e)=>{t=t.toLowerCase();for(let r of Object.keys(e))if(t===r.toLowerCase())return!0;return!1};fn.hasHeader=oU;var sU=(t,e)=>{t=t.toLowerCase();for(let r of Object.keys(e))if(t===r.toLowerCase())return e[r]};fn.getHeaderValue=sU;var aU=(t,e)=>{t=t.toLowerCase();for(let r of Object.keys(e))t===r.toLowerCase()&&delete e[r]};fn.deleteHeader=aU});var dy=c(oi=>{"use strict";Object.defineProperty(oi,"__esModule",{value:!0});oi.cloneQuery=oi.cloneRequest=void 0;var cU=({headers:t,query:e,...r})=>({...r,headers:{...t},query:e?(0,oi.cloneQuery)(e):void 0});oi.cloneRequest=cU;var dU=t=>Object.keys(t).reduce((e,r)=>{let n=t[r];return{...e,[r]:Array.isArray(n)?[...n]:n}},{});oi.cloneQuery=dU});var uy=c(Nu=>{"use strict";Object.defineProperty(Nu,"__esModule",{value:!0});Nu.moveHeadersToQuery=void 0;var uU=dy(),lU=(t,e={})=>{var r;let{headers:n,query:i={}}=typeof t.clone=="function"?t.clone():(0,uU.cloneRequest)(t);for(let o of Object.keys(n)){let s=o.toLowerCase();s.slice(0,6)==="x-amz-"&&!(!((r=e.unhoistableHeaders)===null||r===void 0)&&r.has(s))&&(i[o]=n[o],delete n[o])}return{...t,headers:n,query:i}};Nu.moveHeadersToQuery=lU});var ly=c(xu=>{"use strict";Object.defineProperty(xu,"__esModule",{value:!0});xu.prepareRequest=void 0;var pU=dy(),fU=ii(),mU=t=>{t=typeof t.clone=="function"?t.clone():(0,pU.cloneRequest)(t);for(let e of Object.keys(t.headers))fU.GENERATED_HEADERS.indexOf(e.toLowerCase())>-1&&delete t.headers[e];return t};xu.prepareRequest=mU});var Yx=c(si=>{"use strict";Object.defineProperty(si,"__esModule",{value:!0});si.toDate=si.iso8601=void 0;var hU=t=>(0,si.toDate)(t).toISOString().replace(/\.\d{3}Z$/,"Z");si.iso8601=hU;var _U=t=>typeof t=="number"?new Date(t*1e3):typeof t=="string"?Number(t)?new Date(Number(t)*1e3):new Date(t):t;si.toDate=_U});var tb=c(Au=>{"use strict";Object.defineProperty(Au,"__esModule",{value:!0});Au.SignatureV4=void 0;var yU=Lx(),bu=lo(),Jx=ln(),Ra=zt(),Ae=ii(),Cu=ry(),Xx=iy(),gU=ay(),py=cy(),EU=Qx(),vU=uy(),Zx=ly(),SU=Yx(),fy=class{constructor({applyChecksum:e,credentials:r,region:n,service:i,sha256:o,uriEscapePath:s=!0}){this.headerMarshaller=new yU.HeaderMarshaller(Ra.toUtf8,Ra.fromUtf8),this.service=i,this.sha256=o,this.uriEscapePath=s,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=(0,Jx.normalizeProvider)(n),this.credentialProvider=(0,Jx.normalizeProvider)(r)}async presign(e,r={}){let{signingDate:n=new Date,expiresIn:i=3600,unsignableHeaders:o,unhoistableHeaders:s,signableHeaders:a,signingRegion:d,signingService:l}=r,p=await this.credentialProvider();this.validateResolvedCredentials(p);let f=d??await this.regionProvider(),{longDate:m,shortDate:h}=Ou(n);if(i>Ae.MAX_PRESIGNED_TTL)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let _=(0,Cu.createScope)(h,f,l??this.service),E=(0,vU.moveHeadersToQuery)((0,Zx.prepareRequest)(e),{unhoistableHeaders:s});p.sessionToken&&(E.query[Ae.TOKEN_QUERY_PARAM]=p.sessionToken),E.query[Ae.ALGORITHM_QUERY_PARAM]=Ae.ALGORITHM_IDENTIFIER,E.query[Ae.CREDENTIAL_QUERY_PARAM]=`${p.accessKeyId}/${_}`,E.query[Ae.AMZ_DATE_QUERY_PARAM]=m,E.query[Ae.EXPIRES_QUERY_PARAM]=i.toString(10);let v=(0,Xx.getCanonicalHeaders)(E,o,a);return E.query[Ae.SIGNED_HEADERS_QUERY_PARAM]=eb(v),E.query[Ae.SIGNATURE_QUERY_PARAM]=await this.getSignature(m,_,this.getSigningKey(p,f,h,l),this.createCanonicalRequest(E,v,await(0,py.getPayloadHash)(e,this.sha256))),E}async sign(e,r){return typeof e=="string"?this.signString(e,r):e.headers&&e.payload?this.signEvent(e,r):e.message?this.signMessage(e,r):this.signRequest(e,r)}async signEvent({headers:e,payload:r},{signingDate:n=new Date,priorSignature:i,signingRegion:o,signingService:s}){let a=o??await this.regionProvider(),{shortDate:d,longDate:l}=Ou(n),p=(0,Cu.createScope)(d,a,s??this.service),f=await(0,py.getPayloadHash)({headers:{},body:r},this.sha256),m=new this.sha256;m.update(e);let h=(0,bu.toHex)(await m.digest()),_=[Ae.EVENT_ALGORITHM_IDENTIFIER,l,p,i,h,f].join(`
`);return this.signString(_,{signingDate:n,signingRegion:a,signingService:s})}async signMessage(e,{signingDate:r=new Date,signingRegion:n,signingService:i}){return this.signEvent({headers:this.headerMarshaller.format(e.message.headers),payload:e.message.body},{signingDate:r,signingRegion:n,signingService:i,priorSignature:e.priorSignature}).then(s=>({message:e.message,signature:s}))}async signString(e,{signingDate:r=new Date,signingRegion:n,signingService:i}={}){let o=await this.credentialProvider();this.validateResolvedCredentials(o);let s=n??await this.regionProvider(),{shortDate:a}=Ou(r),d=new this.sha256(await this.getSigningKey(o,s,a,i));return d.update((0,Ra.toUint8Array)(e)),(0,bu.toHex)(await d.digest())}async signRequest(e,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:i,signingRegion:o,signingService:s}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let d=o??await this.regionProvider(),l=(0,Zx.prepareRequest)(e),{longDate:p,shortDate:f}=Ou(r),m=(0,Cu.createScope)(f,d,s??this.service);l.headers[Ae.AMZ_DATE_HEADER]=p,a.sessionToken&&(l.headers[Ae.TOKEN_HEADER]=a.sessionToken);let h=await(0,py.getPayloadHash)(l,this.sha256);!(0,EU.hasHeader)(Ae.SHA256_HEADER,l.headers)&&this.applyChecksum&&(l.headers[Ae.SHA256_HEADER]=h);let _=(0,Xx.getCanonicalHeaders)(l,i,n),E=await this.getSignature(p,m,this.getSigningKey(a,d,f,s),this.createCanonicalRequest(l,_,h));return l.headers[Ae.AUTH_HEADER]=`${Ae.ALGORITHM_IDENTIFIER} Credential=${a.accessKeyId}/${m}, SignedHeaders=${eb(_)}, Signature=${E}`,l}createCanonicalRequest(e,r,n){let i=Object.keys(r).sort();return`${e.method}
${this.getCanonicalPath(e)}
${(0,gU.getCanonicalQuery)(e)}
${i.map(o=>`${o}:${r[o]}`).join(`
`)}

${i.join(";")}
${n}`}async createStringToSign(e,r,n){let i=new this.sha256;i.update((0,Ra.toUint8Array)(n));let o=await i.digest();return`${Ae.ALGORITHM_IDENTIFIER}
${e}
${r}
${(0,bu.toHex)(o)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){let r=[];for(let o of e.split("/"))o?.length!==0&&o!=="."&&(o===".."?r.pop():r.push(o));let n=`${e?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&e?.endsWith("/")?"/":""}`;return encodeURIComponent(n).replace(/%2F/g,"/")}return e}async getSignature(e,r,n,i){let o=await this.createStringToSign(e,r,i),s=new this.sha256(await n);return s.update((0,Ra.toUint8Array)(o)),(0,bu.toHex)(await s.digest())}getSigningKey(e,r,n,i){return(0,Cu.getSigningKey)(this.sha256,e,n,r,i||this.service)}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}};Au.SignatureV4=fy;var Ou=t=>{let e=(0,SU.iso8601)(t).replace(/[\-:]/g,"");return{longDate:e,shortDate:e.slice(0,8)}},eb=t=>Object.keys(t).sort().join(";")});var nb=c(Ke=>{"use strict";Object.defineProperty(Ke,"__esModule",{value:!0});Ke.prepareRequest=Ke.moveHeadersToQuery=Ke.getPayloadHash=Ke.getCanonicalQuery=Ke.getCanonicalHeaders=void 0;var rb=(x(),S(N));rb.__exportStar(tb(),Ke);var wU=iy();Object.defineProperty(Ke,"getCanonicalHeaders",{enumerable:!0,get:function(){return wU.getCanonicalHeaders}});var NU=ay();Object.defineProperty(Ke,"getCanonicalQuery",{enumerable:!0,get:function(){return NU.getCanonicalQuery}});var xU=cy();Object.defineProperty(Ke,"getPayloadHash",{enumerable:!0,get:function(){return xU.getPayloadHash}});var bU=uy();Object.defineProperty(Ke,"moveHeadersToQuery",{enumerable:!0,get:function(){return bU.moveHeadersToQuery}});var CU=ly();Object.defineProperty(Ke,"prepareRequest",{enumerable:!0,get:function(){return CU.prepareRequest}});rb.__exportStar(ry(),Ke)});var ob=c(_o=>{"use strict";Object.defineProperty(_o,"__esModule",{value:!0});_o.resolveSigV4AuthConfig=_o.resolveAwsAuthConfig=void 0;var OU=Gd(),my=nb(),ho=ln(),AU=3e5,TU=t=>{let e=t.credentials?ib(t.credentials):t.credentialDefaultProvider(t),{signingEscapePath:r=!0,systemClockOffset:n=t.systemClockOffset||0,sha256:i}=t,o;return t.signer?o=(0,ho.normalizeProvider)(t.signer):t.regionInfoProvider?o=()=>(0,ho.normalizeProvider)(t.region)().then(async s=>[await t.regionInfoProvider(s,{useFipsEndpoint:await t.useFipsEndpoint(),useDualstackEndpoint:await t.useDualstackEndpoint()})||{},s]).then(([s,a])=>{let{signingRegion:d,signingService:l}=s;t.signingRegion=t.signingRegion||d||a,t.signingName=t.signingName||l||t.serviceId;let p={...t,credentials:e,region:t.signingRegion,service:t.signingName,sha256:i,uriEscapePath:r},f=t.signerConstructor||my.SignatureV4;return new f(p)}):o=async s=>{s=Object.assign({},{name:"sigv4",signingName:t.signingName||t.defaultSigningName,signingRegion:await(0,ho.normalizeProvider)(t.region)(),properties:{}},s);let a=s.signingRegion,d=s.signingName;t.signingRegion=t.signingRegion||a,t.signingName=t.signingName||d||t.serviceId;let l={...t,credentials:e,region:t.signingRegion,service:t.signingName,sha256:i,uriEscapePath:r},p=t.signerConstructor||my.SignatureV4;return new p(l)},{...t,systemClockOffset:n,signingEscapePath:r,credentials:e,signer:o}};_o.resolveAwsAuthConfig=TU;var PU=t=>{let e=t.credentials?ib(t.credentials):t.credentialDefaultProvider(t),{signingEscapePath:r=!0,systemClockOffset:n=t.systemClockOffset||0,sha256:i}=t,o;return t.signer?o=(0,ho.normalizeProvider)(t.signer):o=(0,ho.normalizeProvider)(new my.SignatureV4({credentials:e,region:t.region,service:t.signingName,sha256:i,uriEscapePath:r})),{...t,systemClockOffset:n,signingEscapePath:r,credentials:e,signer:o}};_o.resolveSigV4AuthConfig=PU;var ib=t=>typeof t=="function"?(0,OU.memoize)(t,e=>e.expiration!==void 0&&e.expiration.getTime()-Date.now()<AU,e=>e.expiration!==void 0):(0,ho.normalizeProvider)(t)});var hy=c(Tu=>{"use strict";Object.defineProperty(Tu,"__esModule",{value:!0});Tu.getSkewCorrectedDate=void 0;var IU=t=>new Date(Date.now()+t);Tu.getSkewCorrectedDate=IU});var sb=c(Pu=>{"use strict";Object.defineProperty(Pu,"__esModule",{value:!0});Pu.isClockSkewed=void 0;var RU=hy(),qU=(t,e)=>Math.abs((0,RU.getSkewCorrectedDate)(e).getTime()-t)>=3e5;Pu.isClockSkewed=qU});var ab=c(Iu=>{"use strict";Object.defineProperty(Iu,"__esModule",{value:!0});Iu.getUpdatedSystemClockOffset=void 0;var DU=sb(),MU=(t,e)=>{let r=Date.parse(t);return(0,DU.isClockSkewed)(r,e)?r-Date.now():e};Iu.getUpdatedSystemClockOffset=MU});var lb=c(nt=>{"use strict";Object.defineProperty(nt,"__esModule",{value:!0});nt.getSigV4AuthPlugin=nt.getAwsAuthPlugin=nt.awsAuthMiddlewareOptions=nt.awsAuthMiddleware=void 0;var ub=ve(),kU=hy(),cb=ab(),FU=t=>(e,r)=>async function(n){var i,o,s,a;if(!ub.HttpRequest.isInstance(n.request))return e(n);let d=(s=(o=(i=r.endpointV2)===null||i===void 0?void 0:i.properties)===null||o===void 0?void 0:o.authSchemes)===null||s===void 0?void 0:s[0],l=d?.name==="sigv4a"?(a=d?.signingRegionSet)===null||a===void 0?void 0:a.join(","):void 0,p=await t.signer(d),f=await e({...n,request:await p.sign(n.request,{signingDate:(0,kU.getSkewCorrectedDate)(t.systemClockOffset),signingRegion:l||r.signing_region,signingService:r.signing_service})}).catch(h=>{var _;let E=(_=h.ServerTime)!==null&&_!==void 0?_:db(h.$response);throw E&&(t.systemClockOffset=(0,cb.getUpdatedSystemClockOffset)(E,t.systemClockOffset)),h}),m=db(f.response);return m&&(t.systemClockOffset=(0,cb.getUpdatedSystemClockOffset)(m,t.systemClockOffset)),f};nt.awsAuthMiddleware=FU;var db=t=>{var e,r,n;return ub.HttpResponse.isInstance(t)?(r=(e=t.headers)===null||e===void 0?void 0:e.date)!==null&&r!==void 0?r:(n=t.headers)===null||n===void 0?void 0:n.Date:void 0};nt.awsAuthMiddlewareOptions={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0};var LU=t=>({applyToStack:e=>{e.addRelativeTo((0,nt.awsAuthMiddleware)(t),nt.awsAuthMiddlewareOptions)}});nt.getAwsAuthPlugin=LU;nt.getSigV4AuthPlugin=nt.getAwsAuthPlugin});var Tr=c(Ru=>{"use strict";Object.defineProperty(Ru,"__esModule",{value:!0});var pb=(x(),S(N));pb.__exportStar(ob(),Ru);pb.__exportStar(lb(),Ru)});var fb=c(qu=>{"use strict";Object.defineProperty(qu,"__esModule",{value:!0});qu.resolveUserAgentConfig=void 0;function UU(t){return{...t,customUserAgent:typeof t.customUserAgent=="string"?[[t.customUserAgent]]:t.customUserAgent}}qu.resolveUserAgentConfig=UU});var _y=c(Du=>{"use strict";Object.defineProperty(Du,"__esModule",{value:!0});Du.isIpAddress=void 0;var jU=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),WU=t=>jU.test(t)||t.startsWith("[")&&t.endsWith("]");Du.isIpAddress=WU});var yy=c(qa=>{"use strict";Object.defineProperty(qa,"__esModule",{value:!0});qa.isValidHostLabel=void 0;var BU=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),VU=(t,e=!1)=>{if(!e)return BU.test(t);let r=t.split(".");for(let n of r)if(!(0,qa.isValidHostLabel)(n))return!1;return!0};qa.isValidHostLabel=VU});var ku=c(Mu=>{"use strict";Object.defineProperty(Mu,"__esModule",{value:!0});Mu.customEndpointFunctions=void 0;Mu.customEndpointFunctions={}});var mb=c(Fu=>{"use strict";Object.defineProperty(Fu,"__esModule",{value:!0});Fu.debugId=void 0;Fu.debugId="endpoints"});var hb=c(Lu=>{"use strict";Object.defineProperty(Lu,"__esModule",{value:!0});Lu.toDebugString=void 0;function gy(t){return typeof t!="object"||t==null?t:"ref"in t?`$${gy(t.ref)}`:"fn"in t?`${t.fn}(${(t.argv||[]).map(gy).join(", ")})`:JSON.stringify(t,null,2)}Lu.toDebugString=gy});var Da=c(Uu=>{"use strict";Object.defineProperty(Uu,"__esModule",{value:!0});var _b=(x(),S(N));_b.__exportStar(mb(),Uu);_b.__exportStar(hb(),Uu)});var yb=c(ju=>{"use strict";Object.defineProperty(ju,"__esModule",{value:!0});ju.EndpointError=void 0;var Ey=class extends Error{constructor(e){super(e),this.name="EndpointError"}};ju.EndpointError=Ey});var Eb=c(gb=>{"use strict";Object.defineProperty(gb,"__esModule",{value:!0})});var Sb=c(vb=>{"use strict";Object.defineProperty(vb,"__esModule",{value:!0})});var Nb=c(wb=>{"use strict";Object.defineProperty(wb,"__esModule",{value:!0})});var bb=c(xb=>{"use strict";Object.defineProperty(xb,"__esModule",{value:!0})});var Ob=c(Cb=>{"use strict";Object.defineProperty(Cb,"__esModule",{value:!0})});var Tb=c(Ab=>{"use strict";Object.defineProperty(Ab,"__esModule",{value:!0})});var pt=c(Pr=>{"use strict";Object.defineProperty(Pr,"__esModule",{value:!0});var ai=(x(),S(N));ai.__exportStar(yb(),Pr);ai.__exportStar(Eb(),Pr);ai.__exportStar(Sb(),Pr);ai.__exportStar(Nb(),Pr);ai.__exportStar(bb(),Pr);ai.__exportStar(Ob(),Pr);ai.__exportStar(Tb(),Pr)});var Pb=c(Wu=>{"use strict";Object.defineProperty(Wu,"__esModule",{value:!0});Wu.booleanEquals=void 0;var $U=(t,e)=>t===e;Wu.booleanEquals=$U});var Rb=c(Bu=>{"use strict";Object.defineProperty(Bu,"__esModule",{value:!0});Bu.getAttrPathList=void 0;var Ib=pt(),zU=t=>{let e=t.split("."),r=[];for(let n of e){let i=n.indexOf("[");if(i!==-1){if(n.indexOf("]")!==n.length-1)throw new Ib.EndpointError(`Path: '${t}' does not end with ']'`);let o=n.slice(i+1,-1);if(Number.isNaN(parseInt(o)))throw new Ib.EndpointError(`Invalid array index: '${o}' in path: '${t}'`);i!==0&&r.push(n.slice(0,i)),r.push(o)}else r.push(n)}return r};Bu.getAttrPathList=zU});var qb=c(Vu=>{"use strict";Object.defineProperty(Vu,"__esModule",{value:!0});Vu.getAttr=void 0;var HU=pt(),GU=Rb(),KU=(t,e)=>(0,GU.getAttrPathList)(e).reduce((r,n)=>{if(typeof r!="object")throw new HU.EndpointError(`Index '${n}' in '${e}' not found in '${JSON.stringify(t)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},t);Vu.getAttr=KU});var Db=c($u=>{"use strict";Object.defineProperty($u,"__esModule",{value:!0});$u.isSet=void 0;var QU=t=>t!=null;$u.isSet=QU});var Mb=c(zu=>{"use strict";Object.defineProperty(zu,"__esModule",{value:!0});zu.not=void 0;var YU=t=>!t;zu.not=YU});var kb=c(Hu=>{"use strict";Object.defineProperty(Hu,"__esModule",{value:!0});Hu.parseURL=void 0;var Sy=$(),JU=_y(),vy={[Sy.EndpointURLScheme.HTTP]:80,[Sy.EndpointURLScheme.HTTPS]:443},XU=t=>{let e=(()=>{try{if(t instanceof URL)return t;if(typeof t=="object"&&"hostname"in t){let{hostname:m,port:h,protocol:_="",path:E="",query:v={}}=t,T=new URL(`${_}//${m}${h?`:${h}`:""}${E}`);return T.search=Object.entries(v).map(([I,Se])=>`${I}=${Se}`).join("&"),T}return new URL(t)}catch{return null}})();if(!e)return console.error(`Unable to parse ${JSON.stringify(t)} as a whatwg URL.`),null;let r=e.href,{host:n,hostname:i,pathname:o,protocol:s,search:a}=e;if(a)return null;let d=s.slice(0,-1);if(!Object.values(Sy.EndpointURLScheme).includes(d))return null;let l=(0,JU.isIpAddress)(i),p=r.includes(`${n}:${vy[d]}`)||typeof t=="string"&&t.includes(`${n}:${vy[d]}`),f=`${n}${p?`:${vy[d]}`:""}`;return{scheme:d,authority:f,path:o,normalizedPath:o.endsWith("/")?o:`${o}/`,isIp:l}};Hu.parseURL=XU});var Fb=c(Gu=>{"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});Gu.stringEquals=void 0;var ZU=(t,e)=>t===e;Gu.stringEquals=ZU});var Lb=c(Ku=>{"use strict";Object.defineProperty(Ku,"__esModule",{value:!0});Ku.substring=void 0;var ej=(t,e,r,n)=>e>=r||t.length<r?null:n?t.substring(t.length-r,t.length-e):t.substring(e,r);Ku.substring=ej});var Ub=c(Qu=>{"use strict";Object.defineProperty(Qu,"__esModule",{value:!0});Qu.uriEncode=void 0;var tj=t=>encodeURIComponent(t).replace(/[!*'()]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`);Qu.uriEncode=tj});var wy=c(At=>{"use strict";Object.defineProperty(At,"__esModule",{value:!0});var Ir=(x(),S(N));Ir.__exportStar(Pb(),At);Ir.__exportStar(qb(),At);Ir.__exportStar(Db(),At);Ir.__exportStar(yy(),At);Ir.__exportStar(Mb(),At);Ir.__exportStar(kb(),At);Ir.__exportStar(Fb(),At);Ir.__exportStar(Lb(),At);Ir.__exportStar(Ub(),At)});var jb=c(Yu=>{"use strict";Object.defineProperty(Yu,"__esModule",{value:!0});Yu.endpointFunctions=void 0;var Rr=wy();Yu.endpointFunctions={booleanEquals:Rr.booleanEquals,getAttr:Rr.getAttr,isSet:Rr.isSet,isValidHostLabel:Rr.isValidHostLabel,not:Rr.not,parseURL:Rr.parseURL,stringEquals:Rr.stringEquals,substring:Rr.substring,uriEncode:Rr.uriEncode}});var Ny=c(Ju=>{"use strict";Object.defineProperty(Ju,"__esModule",{value:!0});Ju.evaluateTemplate=void 0;var rj=wy(),nj=(t,e)=>{let r=[],n={...e.endpointParams,...e.referenceRecord},i=0;for(;i<t.length;){let o=t.indexOf("{",i);if(o===-1){r.push(t.slice(i));break}r.push(t.slice(i,o));let s=t.indexOf("}",o);if(s===-1){r.push(t.slice(o));break}t[o+1]==="{"&&t[s+1]==="}"&&(r.push(t.slice(o+1,s)),i=s+2);let a=t.substring(o+1,s);if(a.includes("#")){let[d,l]=a.split("#");r.push((0,rj.getAttr)(n[d],l))}else r.push(n[a]);i=s+1}return r.join("")};Ju.evaluateTemplate=nj});var Wb=c(Xu=>{"use strict";Object.defineProperty(Xu,"__esModule",{value:!0});Xu.getReferenceValue=void 0;var ij=({ref:t},e)=>({...e.endpointParams,...e.referenceRecord})[t];Xu.getReferenceValue=ij});var Ma=c(Zu=>{"use strict";Object.defineProperty(Zu,"__esModule",{value:!0});Zu.evaluateExpression=void 0;var oj=pt(),sj=xy(),aj=Ny(),cj=Wb(),dj=(t,e,r)=>{if(typeof t=="string")return(0,aj.evaluateTemplate)(t,r);if(t.fn)return(0,sj.callFunction)(t,r);if(t.ref)return(0,cj.getReferenceValue)(t,r);throw new oj.EndpointError(`'${e}': ${String(t)} is not a string, function or reference.`)};Zu.evaluateExpression=dj});var xy=c(el=>{"use strict";Object.defineProperty(el,"__esModule",{value:!0});el.callFunction=void 0;var Bb=ku(),uj=jb(),lj=Ma(),pj=({fn:t,argv:e},r)=>{let n=e.map(o=>["boolean","number"].includes(typeof o)?o:(0,lj.evaluateExpression)(o,"arg",r)),i=t.split(".");return i[0]in Bb.customEndpointFunctions&&i[1]!=null?Bb.customEndpointFunctions[i[0]][i[1]](...n):uj.endpointFunctions[t](...n)};el.callFunction=pj});var Vb=c(tl=>{"use strict";Object.defineProperty(tl,"__esModule",{value:!0});tl.evaluateCondition=void 0;var by=Da(),fj=pt(),mj=xy(),hj=({assign:t,...e},r)=>{var n,i;if(t&&t in r.referenceRecord)throw new fj.EndpointError(`'${t}' is already defined in Reference Record.`);let o=(0,mj.callFunction)(e,r);return(i=(n=r.logger)===null||n===void 0?void 0:n.debug)===null||i===void 0||i.call(n,by.debugId,`evaluateCondition: ${(0,by.toDebugString)(e)} = ${(0,by.toDebugString)(o)}`),{result:o===""?!0:!!o,...t!=null&&{toAssign:{name:t,value:o}}}};tl.evaluateCondition=hj});var nl=c(rl=>{"use strict";Object.defineProperty(rl,"__esModule",{value:!0});rl.evaluateConditions=void 0;var $b=Da(),_j=Vb(),yj=(t=[],e)=>{var r,n;let i={};for(let o of t){let{result:s,toAssign:a}=(0,_j.evaluateCondition)(o,{...e,referenceRecord:{...e.referenceRecord,...i}});if(!s)return{result:s};a&&(i[a.name]=a.value,(n=(r=e.logger)===null||r===void 0?void 0:r.debug)===null||n===void 0||n.call(r,$b.debugId,`assign: ${a.name} := ${(0,$b.toDebugString)(a.value)}`))}return{result:!0,referenceRecord:i}};rl.evaluateConditions=yj});var zb=c(il=>{"use strict";Object.defineProperty(il,"__esModule",{value:!0});il.getEndpointHeaders=void 0;var gj=pt(),Ej=Ma(),vj=(t,e)=>Object.entries(t).reduce((r,[n,i])=>({...r,[n]:i.map(o=>{let s=(0,Ej.evaluateExpression)(o,"Header value entry",e);if(typeof s!="string")throw new gj.EndpointError(`Header '${n}' value '${s}' is not a string`);return s})}),{});il.getEndpointHeaders=vj});var Gb=c(ka=>{"use strict";Object.defineProperty(ka,"__esModule",{value:!0});ka.getEndpointProperty=void 0;var Hb=pt(),Sj=Ny(),wj=Cy(),Nj=(t,e)=>{if(Array.isArray(t))return t.map(r=>(0,ka.getEndpointProperty)(r,e));switch(typeof t){case"string":return(0,Sj.evaluateTemplate)(t,e);case"object":if(t===null)throw new Hb.EndpointError(`Unexpected endpoint property: ${t}`);return(0,wj.getEndpointProperties)(t,e);case"boolean":return t;default:throw new Hb.EndpointError(`Unexpected endpoint property type: ${typeof t}`)}};ka.getEndpointProperty=Nj});var Cy=c(ol=>{"use strict";Object.defineProperty(ol,"__esModule",{value:!0});ol.getEndpointProperties=void 0;var xj=Gb(),bj=(t,e)=>Object.entries(t).reduce((r,[n,i])=>({...r,[n]:(0,xj.getEndpointProperty)(i,e)}),{});ol.getEndpointProperties=bj});var Kb=c(sl=>{"use strict";Object.defineProperty(sl,"__esModule",{value:!0});sl.getEndpointUrl=void 0;var Cj=pt(),Oj=Ma(),Aj=(t,e)=>{let r=(0,Oj.evaluateExpression)(t,"Endpoint URL",e);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new Cj.EndpointError(`Endpoint URL must be a string, got ${typeof r}`)};sl.getEndpointUrl=Aj});var Yb=c(al=>{"use strict";Object.defineProperty(al,"__esModule",{value:!0});al.evaluateEndpointRule=void 0;var Qb=Da(),Tj=nl(),Pj=zb(),Ij=Cy(),Rj=Kb(),qj=(t,e)=>{var r,n;let{conditions:i,endpoint:o}=t,{result:s,referenceRecord:a}=(0,Tj.evaluateConditions)(i,e);if(!s)return;let d={...e,referenceRecord:{...e.referenceRecord,...a}},{url:l,properties:p,headers:f}=o;return(n=(r=e.logger)===null||r===void 0?void 0:r.debug)===null||n===void 0||n.call(r,Qb.debugId,`Resolving endpoint from template: ${(0,Qb.toDebugString)(o)}`),{...f!=null&&{headers:(0,Pj.getEndpointHeaders)(f,d)},...p!=null&&{properties:(0,Ij.getEndpointProperties)(p,d)},url:(0,Rj.getEndpointUrl)(l,d)}};al.evaluateEndpointRule=qj});var Jb=c(cl=>{"use strict";Object.defineProperty(cl,"__esModule",{value:!0});cl.evaluateErrorRule=void 0;var Dj=pt(),Mj=nl(),kj=Ma(),Fj=(t,e)=>{let{conditions:r,error:n}=t,{result:i,referenceRecord:o}=(0,Mj.evaluateConditions)(r,e);if(i)throw new Dj.EndpointError((0,kj.evaluateExpression)(n,"Error",{...e,referenceRecord:{...e.referenceRecord,...o}}))};cl.evaluateErrorRule=Fj});var Xb=c(dl=>{"use strict";Object.defineProperty(dl,"__esModule",{value:!0});dl.evaluateTreeRule=void 0;var Lj=nl(),Uj=Oy(),jj=(t,e)=>{let{conditions:r,rules:n}=t,{result:i,referenceRecord:o}=(0,Lj.evaluateConditions)(r,e);if(i)return(0,Uj.evaluateRules)(n,{...e,referenceRecord:{...e.referenceRecord,...o}})};dl.evaluateTreeRule=jj});var Oy=c(ul=>{"use strict";Object.defineProperty(ul,"__esModule",{value:!0});ul.evaluateRules=void 0;var Zb=pt(),Wj=Yb(),Bj=Jb(),Vj=Xb(),$j=(t,e)=>{for(let r of t)if(r.type==="endpoint"){let n=(0,Wj.evaluateEndpointRule)(r,e);if(n)return n}else if(r.type==="error")(0,Bj.evaluateErrorRule)(r,e);else if(r.type==="tree"){let n=(0,Vj.evaluateTreeRule)(r,e);if(n)return n}else throw new Zb.EndpointError(`Unknown endpoint rule: ${r}`);throw new Zb.EndpointError("Rules evaluation failed")};ul.evaluateRules=$j});var tC=c(ll=>{"use strict";Object.defineProperty(ll,"__esModule",{value:!0});var eC=(x(),S(N));eC.__exportStar(ku(),ll);eC.__exportStar(Oy(),ll)});var rC=c(fl=>{"use strict";Object.defineProperty(fl,"__esModule",{value:!0});fl.resolveEndpoint=void 0;var pl=Da(),zj=pt(),Hj=tC(),Gj=(t,e)=>{var r,n,i,o,s,a;let{endpointParams:d,logger:l}=e,{parameters:p,rules:f}=t;(n=(r=e.logger)===null||r===void 0?void 0:r.debug)===null||n===void 0||n.call(r,`${pl.debugId} Initial EndpointParams: ${(0,pl.toDebugString)(d)}`);let m=Object.entries(p).filter(([,E])=>E.default!=null).map(([E,v])=>[E,v.default]);if(m.length>0)for(let[E,v]of m)d[E]=(i=d[E])!==null&&i!==void 0?i:v;let h=Object.entries(p).filter(([,E])=>E.required).map(([E])=>E);for(let E of h)if(d[E]==null)throw new zj.EndpointError(`Missing required parameter: '${E}'`);let _=(0,Hj.evaluateRules)(f,{endpointParams:d,logger:l,referenceRecord:{}});if(!((o=e.endpointParams)===null||o===void 0)&&o.Endpoint)try{let E=new URL(e.endpointParams.Endpoint),{protocol:v,port:T}=E;_.url.protocol=v,_.url.port=T}catch{}return(a=(s=e.logger)===null||s===void 0?void 0:s.debug)===null||a===void 0||a.call(s,`${pl.debugId} Resolved endpoint: ${(0,pl.toDebugString)(_)}`),_};fl.resolveEndpoint=Gj});var Ht=c(ci=>{"use strict";Object.defineProperty(ci,"__esModule",{value:!0});var Fa=(x(),S(N));Fa.__exportStar(_y(),ci);Fa.__exportStar(yy(),ci);Fa.__exportStar(ku(),ci);Fa.__exportStar(rC(),ci);Fa.__exportStar(pt(),ci)});var Ay=c(ml=>{"use strict";Object.defineProperty(ml,"__esModule",{value:!0});ml.isIpAddress=void 0;var Kj=Ht();Object.defineProperty(ml,"isIpAddress",{enumerable:!0,get:function(){return Kj.isIpAddress}})});var nC=c(La=>{"use strict";Object.defineProperty(La,"__esModule",{value:!0});La.isVirtualHostableS3Bucket=void 0;var Qj=Ht(),Yj=Ay(),Jj=(t,e=!1)=>{if(e){for(let r of t.split("."))if(!(0,La.isVirtualHostableS3Bucket)(r))return!1;return!0}return!(!(0,Qj.isValidHostLabel)(t)||t.length<3||t.length>63||t!==t.toLowerCase()||(0,Yj.isIpAddress)(t))};La.isVirtualHostableS3Bucket=Jj});var iC=c(hl=>{"use strict";Object.defineProperty(hl,"__esModule",{value:!0});hl.parseArn=void 0;var Xj=t=>{let e=t.split(":");if(e.length<6)return null;let[r,n,i,o,s,...a]=e;return r!=="arn"||n===""||i===""||a[0]===""?null:{partition:n,service:i,region:o,accountId:s,resourceId:a[0].includes("/")?a[0].split("/"):a}};hl.parseArn=Xj});var oC=c((_he,Zj)=>{Zj.exports={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{}}],version:"1.1"}});var Ty=c(Tt=>{"use strict";Object.defineProperty(Tt,"__esModule",{value:!0});Tt.getUserAgentPrefix=Tt.useDefaultPartitionInfo=Tt.setPartitionInfo=Tt.partition=void 0;var eW=(x(),S(N)),sC=eW.__importDefault(oC()),aC=sC.default,cC="",tW=t=>{let{partitions:e}=aC;for(let n of e){let{regions:i,outputs:o}=n;for(let[s,a]of Object.entries(i))if(s===t)return{...o,...a}}for(let n of e){let{regionRegex:i,outputs:o}=n;if(new RegExp(i).test(t))return{...o}}let r=e.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}};Tt.partition=tW;var rW=(t,e="")=>{aC=t,cC=e};Tt.setPartitionInfo=rW;var nW=()=>{(0,Tt.setPartitionInfo)(sC.default,"")};Tt.useDefaultPartitionInfo=nW;var iW=()=>cC;Tt.getUserAgentPrefix=iW});var uC=c(dC=>{"use strict";Object.defineProperty(dC,"__esModule",{value:!0});var oW=Ht(),sW=nC(),aW=iC(),cW=Ty(),dW={isVirtualHostableS3Bucket:sW.isVirtualHostableS3Bucket,parseArn:aW.parseArn,partition:cW.partition};oW.customEndpointFunctions.aws=dW});var lC=c(_l=>{"use strict";Object.defineProperty(_l,"__esModule",{value:!0});_l.resolveEndpoint=void 0;var uW=Ht();Object.defineProperty(_l,"resolveEndpoint",{enumerable:!0,get:function(){return uW.resolveEndpoint}})});var pC=c(yl=>{"use strict";Object.defineProperty(yl,"__esModule",{value:!0});yl.EndpointError=void 0;var lW=Ht();Object.defineProperty(yl,"EndpointError",{enumerable:!0,get:function(){return lW.EndpointError}})});var mC=c(fC=>{"use strict";Object.defineProperty(fC,"__esModule",{value:!0})});var _C=c(hC=>{"use strict";Object.defineProperty(hC,"__esModule",{value:!0})});var gC=c(yC=>{"use strict";Object.defineProperty(yC,"__esModule",{value:!0})});var vC=c(EC=>{"use strict";Object.defineProperty(EC,"__esModule",{value:!0})});var wC=c(SC=>{"use strict";Object.defineProperty(SC,"__esModule",{value:!0})});var NC=c(mn=>{"use strict";Object.defineProperty(mn,"__esModule",{value:!0});var yo=(x(),S(N));yo.__exportStar(pC(),mn);yo.__exportStar(mC(),mn);yo.__exportStar(_C(),mn);yo.__exportStar(gC(),mn);yo.__exportStar(vC(),mn);yo.__exportStar(wC(),mn)});var ja=c(di=>{"use strict";Object.defineProperty(di,"__esModule",{value:!0});var Ua=(x(),S(N));Ua.__exportStar(uC(),di);Ua.__exportStar(Ty(),di);Ua.__exportStar(Ay(),di);Ua.__exportStar(lC(),di);Ua.__exportStar(NC(),di)});var xC=c(Me=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});Me.UA_ESCAPE_CHAR=Me.UA_VALUE_ESCAPE_REGEX=Me.UA_NAME_ESCAPE_REGEX=Me.UA_NAME_SEPARATOR=Me.SPACE=Me.X_AMZ_USER_AGENT=Me.USER_AGENT=void 0;Me.USER_AGENT="user-agent";Me.X_AMZ_USER_AGENT="x-amz-user-agent";Me.SPACE=" ";Me.UA_NAME_SEPARATOR="/";Me.UA_NAME_ESCAPE_REGEX=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g;Me.UA_VALUE_ESCAPE_REGEX=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g;Me.UA_ESCAPE_CHAR="-"});var bC=c(Gt=>{"use strict";Object.defineProperty(Gt,"__esModule",{value:!0});Gt.getUserAgentPlugin=Gt.getUserAgentMiddlewareOptions=Gt.userAgentMiddleware=void 0;var pW=ja(),fW=ve(),Qe=xC(),mW=t=>(e,r)=>async n=>{var i,o;let{request:s}=n;if(!fW.HttpRequest.isInstance(s))return e(n);let{headers:a}=s,d=((i=r?.userAgent)===null||i===void 0?void 0:i.map(Py))||[],l=(await t.defaultUserAgentProvider()).map(Py),p=((o=t?.customUserAgent)===null||o===void 0?void 0:o.map(Py))||[],f=(0,pW.getUserAgentPrefix)(),m=(f?[f]:[]).concat([...l,...d,...p]).join(Qe.SPACE),h=[...l.filter(_=>_.startsWith("aws-sdk-")),...p].join(Qe.SPACE);return t.runtime!=="browser"?(h&&(a[Qe.X_AMZ_USER_AGENT]=a[Qe.X_AMZ_USER_AGENT]?`${a[Qe.USER_AGENT]} ${h}`:h),a[Qe.USER_AGENT]=m):a[Qe.X_AMZ_USER_AGENT]=m,e({...n,request:s})};Gt.userAgentMiddleware=mW;var Py=t=>{var e;let r=t[0].split(Qe.UA_NAME_SEPARATOR).map(a=>a.replace(Qe.UA_NAME_ESCAPE_REGEX,Qe.UA_ESCAPE_CHAR)).join(Qe.UA_NAME_SEPARATOR),n=(e=t[1])===null||e===void 0?void 0:e.replace(Qe.UA_VALUE_ESCAPE_REGEX,Qe.UA_ESCAPE_CHAR),i=r.indexOf(Qe.UA_NAME_SEPARATOR),o=r.substring(0,i),s=r.substring(i+1);return o==="api"&&(s=s.toLowerCase()),[o,s,n].filter(a=>a&&a.length>0).reduce((a,d,l)=>{switch(l){case 0:return d;case 1:return`${a}/${d}`;default:return`${a}#${d}`}},"")};Gt.getUserAgentMiddlewareOptions={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0};var hW=t=>({applyToStack:e=>{e.add((0,Gt.userAgentMiddleware)(t),Gt.getUserAgentMiddlewareOptions)}});Gt.getUserAgentPlugin=hW});var Wa=c(gl=>{"use strict";Object.defineProperty(gl,"__esModule",{value:!0});var CC=(x(),S(N));CC.__exportStar(fb(),gl);CC.__exportStar(bC(),gl)});var OC=c(ui=>{"use strict";Object.defineProperty(ui,"__esModule",{value:!0});ui.booleanSelector=ui.SelectorType=void 0;var _W;(function(t){t.ENV="env",t.CONFIG="shared config entry"})(_W=ui.SelectorType||(ui.SelectorType={}));var yW=(t,e,r)=>{if(e in t){if(t[e]==="true")return!0;if(t[e]==="false")return!1;throw new Error(`Cannot load ${r} "${e}". Expected "true" or "false", got ${t[e]}.`)}};ui.booleanSelector=yW});var Ry=c(Iy=>{"use strict";Object.defineProperty(Iy,"__esModule",{value:!0});var gW=(x(),S(N));gW.__exportStar(OC(),Iy)});var AC=c(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});ft.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS=ft.DEFAULT_USE_DUALSTACK_ENDPOINT=ft.CONFIG_USE_DUALSTACK_ENDPOINT=ft.ENV_USE_DUALSTACK_ENDPOINT=void 0;var El=Ry();ft.ENV_USE_DUALSTACK_ENDPOINT="AWS_USE_DUALSTACK_ENDPOINT";ft.CONFIG_USE_DUALSTACK_ENDPOINT="use_dualstack_endpoint";ft.DEFAULT_USE_DUALSTACK_ENDPOINT=!1;ft.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS={environmentVariableSelector:t=>(0,El.booleanSelector)(t,ft.ENV_USE_DUALSTACK_ENDPOINT,El.SelectorType.ENV),configFileSelector:t=>(0,El.booleanSelector)(t,ft.CONFIG_USE_DUALSTACK_ENDPOINT,El.SelectorType.CONFIG),default:!1}});var TC=c(mt=>{"use strict";Object.defineProperty(mt,"__esModule",{value:!0});mt.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS=mt.DEFAULT_USE_FIPS_ENDPOINT=mt.CONFIG_USE_FIPS_ENDPOINT=mt.ENV_USE_FIPS_ENDPOINT=void 0;var vl=Ry();mt.ENV_USE_FIPS_ENDPOINT="AWS_USE_FIPS_ENDPOINT";mt.CONFIG_USE_FIPS_ENDPOINT="use_fips_endpoint";mt.DEFAULT_USE_FIPS_ENDPOINT=!1;mt.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS={environmentVariableSelector:t=>(0,vl.booleanSelector)(t,mt.ENV_USE_FIPS_ENDPOINT,vl.SelectorType.ENV),configFileSelector:t=>(0,vl.booleanSelector)(t,mt.CONFIG_USE_FIPS_ENDPOINT,vl.SelectorType.CONFIG),default:!1}});var IC=c(Sl=>{"use strict";Object.defineProperty(Sl,"__esModule",{value:!0});Sl.resolveCustomEndpointsConfig=void 0;var PC=ln(),EW=t=>{var e,r;let{endpoint:n,urlParser:i}=t;return{...t,tls:(e=t.tls)!==null&&e!==void 0?e:!0,endpoint:(0,PC.normalizeProvider)(typeof n=="string"?i(n):n),isCustomEndpoint:!0,useDualstackEndpoint:(0,PC.normalizeProvider)((r=t.useDualstackEndpoint)!==null&&r!==void 0?r:!1)}};Sl.resolveCustomEndpointsConfig=EW});var RC=c(wl=>{"use strict";Object.defineProperty(wl,"__esModule",{value:!0});wl.getEndpointFromRegion=void 0;var vW=async t=>{var e;let{tls:r=!0}=t,n=await t.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(n))throw new Error("Invalid region in client config");let o=await t.useDualstackEndpoint(),s=await t.useFipsEndpoint(),{hostname:a}=(e=await t.regionInfoProvider(n,{useDualstackEndpoint:o,useFipsEndpoint:s}))!==null&&e!==void 0?e:{};if(!a)throw new Error("Cannot resolve hostname from client config");return t.urlParser(`${r?"https:":"http:"}//${a}`)};wl.getEndpointFromRegion=vW});var DC=c(Nl=>{"use strict";Object.defineProperty(Nl,"__esModule",{value:!0});Nl.resolveEndpointsConfig=void 0;var qC=ln(),SW=RC(),wW=t=>{var e,r;let n=(0,qC.normalizeProvider)((e=t.useDualstackEndpoint)!==null&&e!==void 0?e:!1),{endpoint:i,useFipsEndpoint:o,urlParser:s}=t;return{...t,tls:(r=t.tls)!==null&&r!==void 0?r:!0,endpoint:i?(0,qC.normalizeProvider)(typeof i=="string"?s(i):i):()=>(0,SW.getEndpointFromRegion)({...t,useDualstackEndpoint:n,useFipsEndpoint:o}),isCustomEndpoint:!!i,useDualstackEndpoint:n}};Nl.resolveEndpointsConfig=wW});var MC=c(go=>{"use strict";Object.defineProperty(go,"__esModule",{value:!0});var xl=(x(),S(N));xl.__exportStar(AC(),go);xl.__exportStar(TC(),go);xl.__exportStar(IC(),go);xl.__exportStar(DC(),go)});var kC=c(ht=>{"use strict";Object.defineProperty(ht,"__esModule",{value:!0});ht.NODE_REGION_CONFIG_FILE_OPTIONS=ht.NODE_REGION_CONFIG_OPTIONS=ht.REGION_INI_NAME=ht.REGION_ENV_NAME=void 0;ht.REGION_ENV_NAME="AWS_REGION";ht.REGION_INI_NAME="region";ht.NODE_REGION_CONFIG_OPTIONS={environmentVariableSelector:t=>t[ht.REGION_ENV_NAME],configFileSelector:t=>t[ht.REGION_INI_NAME],default:()=>{throw new Error("Region is missing")}};ht.NODE_REGION_CONFIG_FILE_OPTIONS={preferredFile:"credentials"}});var qy=c(bl=>{"use strict";Object.defineProperty(bl,"__esModule",{value:!0});bl.isFipsRegion=void 0;var NW=t=>typeof t=="string"&&(t.startsWith("fips-")||t.endsWith("-fips"));bl.isFipsRegion=NW});var FC=c(Cl=>{"use strict";Object.defineProperty(Cl,"__esModule",{value:!0});Cl.getRealRegion=void 0;var xW=qy(),bW=t=>(0,xW.isFipsRegion)(t)?["fips-aws-global","aws-fips"].includes(t)?"us-east-1":t.replace(/fips-(dkr-|prod-)?|-fips/,""):t;Cl.getRealRegion=bW});var UC=c(Ol=>{"use strict";Object.defineProperty(Ol,"__esModule",{value:!0});Ol.resolveRegionConfig=void 0;var LC=FC(),CW=qy(),OW=t=>{let{region:e,useFipsEndpoint:r}=t;if(!e)throw new Error("Region is missing");return{...t,region:async()=>{if(typeof e=="string")return(0,LC.getRealRegion)(e);let n=await e();return(0,LC.getRealRegion)(n)},useFipsEndpoint:async()=>{let n=typeof e=="string"?e:await e();return(0,CW.isFipsRegion)(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}};Ol.resolveRegionConfig=OW});var WC=c(Al=>{"use strict";Object.defineProperty(Al,"__esModule",{value:!0});var jC=(x(),S(N));jC.__exportStar(kC(),Al);jC.__exportStar(UC(),Al)});var VC=c(BC=>{"use strict";Object.defineProperty(BC,"__esModule",{value:!0})});var zC=c($C=>{"use strict";Object.defineProperty($C,"__esModule",{value:!0})});var HC=c(Tl=>{"use strict";Object.defineProperty(Tl,"__esModule",{value:!0});Tl.getHostnameFromVariants=void 0;var AW=(t=[],{useFipsEndpoint:e,useDualstackEndpoint:r})=>{var n;return(n=t.find(({tags:i})=>e===i.includes("fips")&&r===i.includes("dualstack")))===null||n===void 0?void 0:n.hostname};Tl.getHostnameFromVariants=AW});var GC=c(Pl=>{"use strict";Object.defineProperty(Pl,"__esModule",{value:!0});Pl.getResolvedHostname=void 0;var TW=(t,{regionHostname:e,partitionHostname:r})=>e||(r?r.replace("{region}",t):void 0);Pl.getResolvedHostname=TW});var KC=c(Il=>{"use strict";Object.defineProperty(Il,"__esModule",{value:!0});Il.getResolvedPartition=void 0;var PW=(t,{partitionHash:e})=>{var r;return(r=Object.keys(e||{}).find(n=>e[n].regions.includes(t)))!==null&&r!==void 0?r:"aws"};Il.getResolvedPartition=PW});var QC=c(Rl=>{"use strict";Object.defineProperty(Rl,"__esModule",{value:!0});Rl.getResolvedSigningRegion=void 0;var IW=(t,{signingRegion:e,regionRegex:r,useFipsEndpoint:n})=>{if(e)return e;if(n){let i=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),o=t.match(i);if(o)return o[0].slice(1,-1)}};Rl.getResolvedSigningRegion=IW});var JC=c(ql=>{"use strict";Object.defineProperty(ql,"__esModule",{value:!0});ql.getRegionInfo=void 0;var YC=HC(),RW=GC(),qW=KC(),DW=QC(),MW=(t,{useFipsEndpoint:e=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:i,partitionHash:o})=>{var s,a,d,l,p,f;let m=(0,qW.getResolvedPartition)(t,{partitionHash:o}),h=t in i?t:(a=(s=o[m])===null||s===void 0?void 0:s.endpoint)!==null&&a!==void 0?a:t,_={useFipsEndpoint:e,useDualstackEndpoint:r},E=(0,YC.getHostnameFromVariants)((d=i[h])===null||d===void 0?void 0:d.variants,_),v=(0,YC.getHostnameFromVariants)((l=o[m])===null||l===void 0?void 0:l.variants,_),T=(0,RW.getResolvedHostname)(h,{regionHostname:E,partitionHostname:v});if(T===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:h,useFipsEndpoint:e,useDualstackEndpoint:r}}`);let I=(0,DW.getResolvedSigningRegion)(T,{signingRegion:(p=i[h])===null||p===void 0?void 0:p.signingRegion,regionRegex:o[m].regionRegex,useFipsEndpoint:e});return{partition:m,signingService:n,hostname:T,...I&&{signingRegion:I},...((f=i[h])===null||f===void 0?void 0:f.signingService)&&{signingService:i[h].signingService}}};ql.getRegionInfo=MW});var XC=c(Ba=>{"use strict";Object.defineProperty(Ba,"__esModule",{value:!0});var Dy=(x(),S(N));Dy.__exportStar(VC(),Ba);Dy.__exportStar(zC(),Ba);Dy.__exportStar(JC(),Ba)});var Kt=c(Va=>{"use strict";Object.defineProperty(Va,"__esModule",{value:!0});var My=(x(),S(N));My.__exportStar(MC(),Va);My.__exportStar(WC(),Va);My.__exportStar(XC(),Va)});var $a=c(qr=>{"use strict";Object.defineProperty(qr,"__esModule",{value:!0});qr.getContentLengthPlugin=qr.contentLengthMiddlewareOptions=qr.contentLengthMiddleware=void 0;var kW=ve(),ZC="content-length";function eO(t){return e=>async r=>{let n=r.request;if(kW.HttpRequest.isInstance(n)){let{body:i,headers:o}=n;if(i&&Object.keys(o).map(s=>s.toLowerCase()).indexOf(ZC)===-1)try{let s=t(i);n.headers={...n.headers,[ZC]:String(s)}}catch{}}return e({...r,request:n})}}qr.contentLengthMiddleware=eO;qr.contentLengthMiddlewareOptions={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0};var FW=t=>({applyToStack:e=>{e.add(eO(t.bodyLengthChecker),qr.contentLengthMiddlewareOptions)}});qr.getContentLengthPlugin=FW});var tO=c(Ye=>{"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});Ye.isArnBucketName=Ye.isDnsCompatibleBucketName=Ye.S3_HOSTNAME_PATTERN=Ye.DOT_PATTERN=Ye.resolveParamsForS3=void 0;var LW=async t=>{let e=t?.Bucket||"";if(typeof t.Bucket=="string"&&(t.Bucket=e.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),(0,Ye.isArnBucketName)(e)){if(t.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!(0,Ye.isDnsCompatibleBucketName)(e)||e.indexOf(".")!==-1&&!String(t.Endpoint).startsWith("http:")||e.toLowerCase()!==e||e.length<3)&&(t.ForcePathStyle=!0);return t.DisableMultiRegionAccessPoints&&(t.disableMultiRegionAccessPoints=!0,t.DisableMRAP=!0),t};Ye.resolveParamsForS3=LW;var UW=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,jW=/(\d+\.){3}\d+/,WW=/\.\./;Ye.DOT_PATTERN=/\./;Ye.S3_HOSTNAME_PATTERN=/^(.+\.)?s3(-fips)?(\.dualstack)?[.-]([a-z0-9-]+)\./;var BW=t=>UW.test(t)&&!jW.test(t)&&!WW.test(t);Ye.isDnsCompatibleBucketName=BW;var VW=t=>{let[e,r,n,i,o,s]=t.split(":"),a=e==="arn"&&t.split(":").length>=6,d=[e,r,n,o,s].filter(Boolean).length===5;if(a&&!d)throw new Error(`Invalid ARN: ${t} was an invalid ARN.`);return e==="arn"&&!!r&&!!n&&!!o&&!!s};Ye.isArnBucketName=VW});var rO=c(ky=>{"use strict";Object.defineProperty(ky,"__esModule",{value:!0});var $W=(x(),S(N));$W.__exportStar(tO(),ky)});var nO=c(Dl=>{"use strict";Object.defineProperty(Dl,"__esModule",{value:!0});Dl.createConfigValueProvider=void 0;var zW=(t,e,r)=>{let n=async()=>{var i;let o=(i=r[t])!==null&&i!==void 0?i:r[e];return typeof o=="function"?o():o};return t==="endpoint"||e==="endpoint"?async()=>{let i=await n();if(i&&typeof i=="object"){if("url"in i)return i.url.href;if("hostname"in i){let{protocol:o,hostname:s,port:a,path:d}=i;return`${o}//${s}${a?":"+a:""}${d}`}}return i}:n};Dl.createConfigValueProvider=zW});var za=c(Ml=>{"use strict";Object.defineProperty(Ml,"__esModule",{value:!0});Ml.ProviderError=void 0;var Fy=class t extends Error{constructor(e,r=!0){super(e),this.tryNextLink=r,this.name="ProviderError",Object.setPrototypeOf(this,t.prototype)}static from(e,r=!0){return Object.assign(new this(e.message,r),e)}};Ml.ProviderError=Fy});var iO=c(kl=>{"use strict";Object.defineProperty(kl,"__esModule",{value:!0});kl.CredentialsProviderError=void 0;var HW=za(),Ly=class t extends HW.ProviderError{constructor(e,r=!0){super(e,r),this.tryNextLink=r,this.name="CredentialsProviderError",Object.setPrototypeOf(this,t.prototype)}};kl.CredentialsProviderError=Ly});var oO=c(Fl=>{"use strict";Object.defineProperty(Fl,"__esModule",{value:!0});Fl.TokenProviderError=void 0;var GW=za(),Uy=class t extends GW.ProviderError{constructor(e,r=!0){super(e,r),this.tryNextLink=r,this.name="TokenProviderError",Object.setPrototypeOf(this,t.prototype)}};Fl.TokenProviderError=Uy});var sO=c(Ll=>{"use strict";Object.defineProperty(Ll,"__esModule",{value:!0});Ll.chain=void 0;var KW=za(),QW=(...t)=>async()=>{if(t.length===0)throw new KW.ProviderError("No providers in chain");let e;for(let r of t)try{return await r()}catch(n){if(e=n,n?.tryNextLink)continue;throw n}throw e};Ll.chain=QW});var aO=c(Ul=>{"use strict";Object.defineProperty(Ul,"__esModule",{value:!0});Ul.fromStatic=void 0;var YW=t=>()=>Promise.resolve(t);Ul.fromStatic=YW});var cO=c(jl=>{"use strict";Object.defineProperty(jl,"__esModule",{value:!0});jl.memoize=void 0;var JW=(t,e,r)=>{let n,i,o,s=!1,a=async()=>{i||(i=t());try{n=await i,o=!0,s=!1}finally{i=void 0}return n};return e===void 0?async d=>((!o||d?.forceRefresh)&&(n=await a()),n):async d=>((!o||d?.forceRefresh)&&(n=await a()),s?n:r&&!r(n)?(s=!0,n):(e(n)&&await a(),n))};jl.memoize=JW});var G=c(hn=>{"use strict";Object.defineProperty(hn,"__esModule",{value:!0});var Eo=(x(),S(N));Eo.__exportStar(iO(),hn);Eo.__exportStar(za(),hn);Eo.__exportStar(oO(),hn);Eo.__exportStar(sO(),hn);Eo.__exportStar(aO(),hn);Eo.__exportStar(cO(),hn)});var dO=c(Wl=>{"use strict";Object.defineProperty(Wl,"__esModule",{value:!0});Wl.fromEnv=void 0;var XW=G(),ZW=t=>async()=>{try{let e=t(process.env);if(e===void 0)throw new Error;return e}catch(e){throw new XW.CredentialsProviderError(e.message||`Cannot load config from environment variables with getter: ${t}`)}};Wl.fromEnv=ZW});var Ha=c(Bl=>{"use strict";Object.defineProperty(Bl,"__esModule",{value:!0});Bl.getHomeDir=void 0;var eB=M("os"),tB=M("path"),jy={},rB=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",nB=()=>{let{HOME:t,USERPROFILE:e,HOMEPATH:r,HOMEDRIVE:n=`C:${tB.sep}`}=process.env;if(t)return t;if(e)return e;if(r)return`${n}${r}`;let i=rB();return jy[i]||(jy[i]=(0,eB.homedir)()),jy[i]};Bl.getHomeDir=nB});var uO=c(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});Qt.getProfileName=Qt.DEFAULT_PROFILE=Qt.ENV_PROFILE=void 0;Qt.ENV_PROFILE="AWS_PROFILE";Qt.DEFAULT_PROFILE="default";var iB=t=>t.profile||process.env[Qt.ENV_PROFILE]||Qt.DEFAULT_PROFILE;Qt.getProfileName=iB});var Wy=c(Vl=>{"use strict";Object.defineProperty(Vl,"__esModule",{value:!0});Vl.getSSOTokenFilepath=void 0;var oB=M("crypto"),sB=M("path"),aB=Ha(),cB=t=>{let r=(0,oB.createHash)("sha1").update(t).digest("hex");return(0,sB.join)((0,aB.getHomeDir)(),".aws","sso","cache",`${r}.json`)};Vl.getSSOTokenFilepath=cB});var lO=c($l=>{"use strict";Object.defineProperty($l,"__esModule",{value:!0});$l.getSSOTokenFromFile=void 0;var dB=M("fs"),uB=Wy(),{readFile:lB}=dB.promises,pB=async t=>{let e=(0,uB.getSSOTokenFilepath)(t),r=await lB(e,"utf8");return JSON.parse(r)};$l.getSSOTokenFromFile=pB});var mO=c(zl=>{"use strict";Object.defineProperty(zl,"__esModule",{value:!0});zl.getConfigData=void 0;var pO=$(),fO=vo(),fB=t=>Object.entries(t).filter(([e])=>{let r=e.split(fO.CONFIG_PREFIX_SEPARATOR);return!!(r.length===2&&Object.values(pO.IniSectionType).includes(r[0]))}).reduce((e,[r,n])=>{let i=r.startsWith(pO.IniSectionType.PROFILE)?r.split(fO.CONFIG_PREFIX_SEPARATOR)[1]:r;return e[i]=n,e},{...t.default&&{default:t.default}});zl.getConfigData=fB});var By=c(li=>{"use strict";Object.defineProperty(li,"__esModule",{value:!0});li.getConfigFilepath=li.ENV_CONFIG_PATH=void 0;var mB=M("path"),hB=Ha();li.ENV_CONFIG_PATH="AWS_CONFIG_FILE";var _B=()=>process.env[li.ENV_CONFIG_PATH]||(0,mB.join)((0,hB.getHomeDir)(),".aws","config");li.getConfigFilepath=_B});var hO=c(pi=>{"use strict";Object.defineProperty(pi,"__esModule",{value:!0});pi.getCredentialsFilepath=pi.ENV_CREDENTIALS_PATH=void 0;var yB=M("path"),gB=Ha();pi.ENV_CREDENTIALS_PATH="AWS_SHARED_CREDENTIALS_FILE";var EB=()=>process.env[pi.ENV_CREDENTIALS_PATH]||(0,yB.join)((0,gB.getHomeDir)(),".aws","credentials");pi.getCredentialsFilepath=EB});var Vy=c(Hl=>{"use strict";Object.defineProperty(Hl,"__esModule",{value:!0});Hl.parseIni=void 0;var vB=$(),_O=vo(),SB=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,wB=["__proto__","profile __proto__"],NB=t=>{let e={},r,n;for(let i of t.split(/\r?\n/)){let o=i.split(/(^|\s)[;#]/)[0].trim();if(o[0]==="["&&o[o.length-1]==="]"){r=void 0,n=void 0;let a=o.substring(1,o.length-1),d=SB.exec(a);if(d){let[,l,,p]=d;Object.values(vB.IniSectionType).includes(l)&&(r=[l,p].join(_O.CONFIG_PREFIX_SEPARATOR))}else r=a;if(wB.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=o.indexOf("=");if(![0,-1].includes(a)){let[d,l]=[o.substring(0,a).trim(),o.substring(a+1).trim()];if(l==="")n=d;else{n&&i.trimStart()===i&&(n=void 0),e[r]=e[r]||{};let p=n?[n,d].join(_O.CONFIG_PREFIX_SEPARATOR):d;e[r][p]=l}}}}return e};Hl.parseIni=NB});var zy=c(Gl=>{"use strict";Object.defineProperty(Gl,"__esModule",{value:!0});Gl.slurpFile=void 0;var xB=M("fs"),{readFile:bB}=xB.promises,$y={},CB=(t,e)=>((!$y[t]||e?.ignoreCache)&&($y[t]=bB(t,"utf8")),$y[t]);Gl.slurpFile=CB});var vo=c(So=>{"use strict";Object.defineProperty(So,"__esModule",{value:!0});So.loadSharedConfigFiles=So.CONFIG_PREFIX_SEPARATOR=void 0;var OB=mO(),AB=By(),TB=hO(),yO=Vy(),gO=zy(),EO=()=>({});So.CONFIG_PREFIX_SEPARATOR=".";var PB=async(t={})=>{let{filepath:e=(0,TB.getCredentialsFilepath)(),configFilepath:r=(0,AB.getConfigFilepath)()}=t,n=await Promise.all([(0,gO.slurpFile)(r,{ignoreCache:t.ignoreCache}).then(yO.parseIni).then(OB.getConfigData).catch(EO),(0,gO.slurpFile)(e,{ignoreCache:t.ignoreCache}).then(yO.parseIni).catch(EO)]);return{configFile:n[0],credentialsFile:n[1]}};So.loadSharedConfigFiles=PB});var SO=c(Kl=>{"use strict";Object.defineProperty(Kl,"__esModule",{value:!0});Kl.getSsoSessionData=void 0;var IB=$(),vO=vo(),RB=t=>Object.entries(t).filter(([e])=>e.startsWith(IB.IniSectionType.SSO_SESSION+vO.CONFIG_PREFIX_SEPARATOR)).reduce((e,[r,n])=>({...e,[r.split(vO.CONFIG_PREFIX_SEPARATOR)[1]]:n}),{});Kl.getSsoSessionData=RB});var wO=c(Ql=>{"use strict";Object.defineProperty(Ql,"__esModule",{value:!0});Ql.loadSsoSessionData=void 0;var qB=By(),DB=SO(),MB=Vy(),kB=zy(),FB=()=>({}),LB=async(t={})=>{var e;return(0,kB.slurpFile)((e=t.configFilepath)!==null&&e!==void 0?e:(0,qB.getConfigFilepath)()).then(MB.parseIni).then(DB.getSsoSessionData).catch(FB)};Ql.loadSsoSessionData=LB});var NO=c(Yl=>{"use strict";Object.defineProperty(Yl,"__esModule",{value:!0});Yl.mergeConfigFiles=void 0;var UB=(...t)=>{let e={};for(let r of t)for(let[n,i]of Object.entries(r))e[n]!==void 0?Object.assign(e[n],i):e[n]=i;return e};Yl.mergeConfigFiles=UB});var xO=c(Jl=>{"use strict";Object.defineProperty(Jl,"__esModule",{value:!0});Jl.parseKnownFiles=void 0;var jB=vo(),WB=NO(),BB=async t=>{let e=await(0,jB.loadSharedConfigFiles)(t);return(0,WB.mergeConfigFiles)(e.configFile,e.credentialsFile)};Jl.parseKnownFiles=BB});var CO=c(bO=>{"use strict";Object.defineProperty(bO,"__esModule",{value:!0})});var Jt=c(Yt=>{"use strict";Object.defineProperty(Yt,"__esModule",{value:!0});var _n=(x(),S(N));_n.__exportStar(Ha(),Yt);_n.__exportStar(uO(),Yt);_n.__exportStar(Wy(),Yt);_n.__exportStar(lO(),Yt);_n.__exportStar(vo(),Yt);_n.__exportStar(wO(),Yt);_n.__exportStar(xO(),Yt);_n.__exportStar(CO(),Yt)});var AO=c(Xl=>{"use strict";Object.defineProperty(Xl,"__esModule",{value:!0});Xl.fromSharedConfigFiles=void 0;var VB=G(),OO=Jt(),$B=(t,{preferredFile:e="config",...r}={})=>async()=>{let n=(0,OO.getProfileName)(r),{configFile:i,credentialsFile:o}=await(0,OO.loadSharedConfigFiles)(r),s=o[n]||{},a=i[n]||{},d=e==="config"?{...s,...a}:{...a,...s};try{let p=t(d,e==="config"?i:o);if(p===void 0)throw new Error;return p}catch(l){throw new VB.CredentialsProviderError(l.message||`Cannot load config for profile ${n} in SDK configuration files with getter: ${t}`)}};Xl.fromSharedConfigFiles=$B});var TO=c(Zl=>{"use strict";Object.defineProperty(Zl,"__esModule",{value:!0});Zl.fromStatic=void 0;var zB=G(),HB=t=>typeof t=="function",GB=t=>HB(t)?async()=>await t():(0,zB.fromStatic)(t);Zl.fromStatic=GB});var IO=c(ep=>{"use strict";Object.defineProperty(ep,"__esModule",{value:!0});ep.loadConfig=void 0;var PO=G(),KB=dO(),QB=AO(),YB=TO(),JB=({environmentVariableSelector:t,configFileSelector:e,default:r},n={})=>(0,PO.memoize)((0,PO.chain)((0,KB.fromEnv)(t),(0,QB.fromSharedConfigFiles)(e,n),(0,YB.fromStatic)(r)));ep.loadConfig=JB});var Pt=c(Hy=>{"use strict";Object.defineProperty(Hy,"__esModule",{value:!0});var XB=(x(),S(N));XB.__exportStar(IO(),Hy)});var MO=c(tp=>{"use strict";Object.defineProperty(tp,"__esModule",{value:!0});tp.getEndpointUrlConfig=void 0;var RO=Jt(),qO="AWS_ENDPOINT_URL",DO="endpoint_url",ZB=t=>({environmentVariableSelector:e=>{let r=t.split(" ").map(o=>o.toUpperCase()),n=e[[qO,...r].join("_")];if(n)return n;let i=e[qO];if(i)return i},configFileSelector:(e,r)=>{if(r&&e.services){let i=r[["services",e.services].join(RO.CONFIG_PREFIX_SEPARATOR)];if(i){let o=t.split(" ").map(a=>a.toLowerCase()),s=i[[o.join("_"),DO].join(RO.CONFIG_PREFIX_SEPARATOR)];if(s)return s}}let n=e[DO];if(n)return n},default:void 0});tp.getEndpointUrlConfig=ZB});var kO=c(rp=>{"use strict";Object.defineProperty(rp,"__esModule",{value:!0});rp.getEndpointFromConfig=void 0;var eV=Pt(),tV=MO(),rV=async t=>(0,eV.loadConfig)((0,tV.getEndpointUrlConfig)(t))();rp.getEndpointFromConfig=rV});var FO=c(np=>{"use strict";Object.defineProperty(np,"__esModule",{value:!0});np.parseQueryString=void 0;function nV(t){let e={};if(t=t.replace(/^\?/,""),t)for(let r of t.split("&")){let[n,i=null]=r.split("=");n=decodeURIComponent(n),i&&(i=decodeURIComponent(i)),n in e?Array.isArray(e[n])?e[n].push(i):e[n]=[e[n],i]:e[n]=i}return e}np.parseQueryString=nV});var yn=c(Ga=>{"use strict";Object.defineProperty(Ga,"__esModule",{value:!0});Ga.parseUrl=void 0;var iV=FO(),oV=t=>{if(typeof t=="string")return(0,Ga.parseUrl)(new URL(t));let{hostname:e,pathname:r,port:n,protocol:i,search:o}=t,s;return o&&(s=(0,iV.parseQueryString)(o)),{hostname:e,port:n?parseInt(n):void 0,protocol:i,path:r,query:s}};Ga.parseUrl=oV});var op=c(ip=>{"use strict";Object.defineProperty(ip,"__esModule",{value:!0});ip.toEndpointV1=void 0;var LO=yn(),sV=t=>typeof t=="object"?"url"in t?(0,LO.parseUrl)(t.url):t:(0,LO.parseUrl)(t);ip.toEndpointV1=sV});var Gy=c(fi=>{"use strict";Object.defineProperty(fi,"__esModule",{value:!0});fi.resolveParams=fi.getEndpointFromInstructions=void 0;var aV=rO(),cV=nO(),dV=kO(),uV=op(),lV=async(t,e,r,n)=>{if(!r.endpoint){let s=await(0,dV.getEndpointFromConfig)(r.serviceId||"");s&&(r.endpoint=()=>Promise.resolve((0,uV.toEndpointV1)(s)))}let i=await(0,fi.resolveParams)(t,e,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(i,n)};fi.getEndpointFromInstructions=lV;var pV=async(t,e,r)=>{var n;let i={},o=((n=e?.getEndpointParameterInstructions)===null||n===void 0?void 0:n.call(e))||{};for(let[s,a]of Object.entries(o))switch(a.type){case"staticContextParams":i[s]=a.value;break;case"contextParams":i[s]=t[a.name];break;case"clientContextParams":case"builtInParams":i[s]=await(0,cV.createConfigValueProvider)(a.name,s,r)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(o).length===0&&Object.assign(i,r),String(r.serviceId).toLowerCase()==="s3"&&await(0,aV.resolveParamsForS3)(i),i};fi.resolveParams=pV});var jO=c(sp=>{"use strict";Object.defineProperty(sp,"__esModule",{value:!0});var UO=(x(),S(N));UO.__exportStar(Gy(),sp);UO.__exportStar(op(),sp)});var Ky=c(ap=>{"use strict";Object.defineProperty(ap,"__esModule",{value:!0});ap.endpointMiddleware=void 0;var fV=ln(),mV=Gy(),hV=({config:t,instructions:e})=>(r,n)=>async i=>{var o,s,a;let d=await(0,mV.getEndpointFromInstructions)(i.input,{getEndpointParameterInstructions(){return e}},{...t},n);n.endpointV2=d,n.authSchemes=(o=d.properties)===null||o===void 0?void 0:o.authSchemes;let l=(s=n.authSchemes)===null||s===void 0?void 0:s[0];if(l){n.signing_region=l.signingRegion,n.signing_service=l.signingName;let p=(0,fV.getSmithyContext)(n),f=(a=p?.selectedHttpAuthScheme)===null||a===void 0?void 0:a.httpAuthOption;f&&(f.signingProperties=Object.assign(f.signingProperties||{},{signing_region:l.signingRegion,signingRegion:l.signingRegion,signing_service:l.signingName,signingName:l.signingName,signingRegionSet:l.signingRegionSet},l.properties))}return r({...i})};ap.endpointMiddleware=hV});var Qy=c(cp=>{"use strict";Object.defineProperty(cp,"__esModule",{value:!0});cp.deserializerMiddleware=void 0;var _V=(t,e)=>(r,n)=>async i=>{let{response:o}=await r(i);try{let s=await e(o,t);return{response:o,output:s}}catch(s){if(Object.defineProperty(s,"$response",{value:o}),!("$metadata"in s)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";s.message+=`
  `+a}throw s}};cp.deserializerMiddleware=_V});var Yy=c(dp=>{"use strict";Object.defineProperty(dp,"__esModule",{value:!0});dp.serializerMiddleware=void 0;var yV=(t,e)=>(r,n)=>async i=>{var o;let s=!((o=n.endpointV2)===null||o===void 0)&&o.url&&t.urlParser?async()=>t.urlParser(n.endpointV2.url):t.endpoint;if(!s)throw new Error("No valid endpoint provider available.");let a=await e(i.input,{...t,endpoint:s});return r({...i,request:a})};dp.serializerMiddleware=yV});var WO=c(Xt=>{"use strict";Object.defineProperty(Xt,"__esModule",{value:!0});Xt.getSerdePlugin=Xt.serializerMiddlewareOption=Xt.deserializerMiddlewareOption=void 0;var gV=Qy(),EV=Yy();Xt.deserializerMiddlewareOption={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0};Xt.serializerMiddlewareOption={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function vV(t,e,r){return{applyToStack:n=>{n.add((0,gV.deserializerMiddleware)(t,r),Xt.deserializerMiddlewareOption),n.add((0,EV.serializerMiddleware)(t,e),Xt.serializerMiddlewareOption)}}}Xt.getSerdePlugin=vV});var se=c(Ka=>{"use strict";Object.defineProperty(Ka,"__esModule",{value:!0});var Jy=(x(),S(N));Jy.__exportStar(Qy(),Ka);Jy.__exportStar(WO(),Ka);Jy.__exportStar(Yy(),Ka)});var BO=c(mi=>{"use strict";Object.defineProperty(mi,"__esModule",{value:!0});mi.getEndpointPlugin=mi.endpointMiddlewareOptions=void 0;var SV=se(),wV=Ky();mi.endpointMiddlewareOptions={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:SV.serializerMiddlewareOption.name};var NV=(t,e)=>({applyToStack:r=>{r.addRelativeTo((0,wV.endpointMiddleware)({config:t,instructions:e}),mi.endpointMiddlewareOptions)}});mi.getEndpointPlugin=NV});var VO=c(up=>{"use strict";Object.defineProperty(up,"__esModule",{value:!0});up.resolveEndpointConfig=void 0;var Xy=ln(),xV=op(),bV=t=>{var e,r,n;let i=(e=t.tls)!==null&&e!==void 0?e:!0,{endpoint:o}=t,s=o!=null?async()=>(0,xV.toEndpointV1)(await(0,Xy.normalizeProvider)(o)()):void 0;return{...t,endpoint:s,tls:i,isCustomEndpoint:!!o,useDualstackEndpoint:(0,Xy.normalizeProvider)((r=t.useDualstackEndpoint)!==null&&r!==void 0?r:!1),useFipsEndpoint:(0,Xy.normalizeProvider)((n=t.useFipsEndpoint)!==null&&n!==void 0?n:!1)}};up.resolveEndpointConfig=bV});var zO=c($O=>{"use strict";Object.defineProperty($O,"__esModule",{value:!0})});var Q=c(hi=>{"use strict";Object.defineProperty(hi,"__esModule",{value:!0});var Qa=(x(),S(N));Qa.__exportStar(jO(),hi);Qa.__exportStar(Ky(),hi);Qa.__exportStar(BO(),hi);Qa.__exportStar(VO(),hi);Qa.__exportStar(zO(),hi)});var lp=c(Dr=>{"use strict";Object.defineProperty(Dr,"__esModule",{value:!0});Dr.DEFAULT_RETRY_MODE=Dr.DEFAULT_MAX_ATTEMPTS=Dr.RETRY_MODES=void 0;var HO;(function(t){t.STANDARD="standard",t.ADAPTIVE="adaptive"})(HO=Dr.RETRY_MODES||(Dr.RETRY_MODES={}));Dr.DEFAULT_MAX_ATTEMPTS=3;Dr.DEFAULT_RETRY_MODE=HO.STANDARD});var GO=c(_t=>{"use strict";Object.defineProperty(_t,"__esModule",{value:!0});_t.NODEJS_TIMEOUT_ERROR_CODES=_t.TRANSIENT_ERROR_STATUS_CODES=_t.TRANSIENT_ERROR_CODES=_t.THROTTLING_ERROR_CODES=_t.CLOCK_SKEW_ERROR_CODES=void 0;_t.CLOCK_SKEW_ERROR_CODES=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"];_t.THROTTLING_ERROR_CODES=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"];_t.TRANSIENT_ERROR_CODES=["TimeoutError","RequestTimeout","RequestTimeoutException"];_t.TRANSIENT_ERROR_STATUS_CODES=[500,502,503,504];_t.NODEJS_TIMEOUT_ERROR_CODES=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"]});var Ja=c(it=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});it.isServerError=it.isTransientError=it.isThrottlingError=it.isClockSkewError=it.isRetryableByTrait=void 0;var Ya=GO(),CV=t=>t.$retryable!==void 0;it.isRetryableByTrait=CV;var OV=t=>Ya.CLOCK_SKEW_ERROR_CODES.includes(t.name);it.isClockSkewError=OV;var AV=t=>{var e,r;return((e=t.$metadata)===null||e===void 0?void 0:e.httpStatusCode)===429||Ya.THROTTLING_ERROR_CODES.includes(t.name)||((r=t.$retryable)===null||r===void 0?void 0:r.throttling)==!0};it.isThrottlingError=AV;var TV=t=>{var e;return Ya.TRANSIENT_ERROR_CODES.includes(t.name)||Ya.NODEJS_TIMEOUT_ERROR_CODES.includes(t?.code||"")||Ya.TRANSIENT_ERROR_STATUS_CODES.includes(((e=t.$metadata)===null||e===void 0?void 0:e.httpStatusCode)||0)};it.isTransientError=TV;var PV=t=>{var e;if(((e=t.$metadata)===null||e===void 0?void 0:e.httpStatusCode)!==void 0){let r=t.$metadata.httpStatusCode;return 500<=r&&r<=599&&!(0,it.isTransientError)(t)}return!1};it.isServerError=PV});var eg=c(pp=>{"use strict";Object.defineProperty(pp,"__esModule",{value:!0});pp.DefaultRateLimiter=void 0;var IV=Ja(),Zy=class{constructor(e){var r,n,i,o,s;this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=(r=e?.beta)!==null&&r!==void 0?r:.7,this.minCapacity=(n=e?.minCapacity)!==null&&n!==void 0?n:1,this.minFillRate=(i=e?.minFillRate)!==null&&i!==void 0?i:.5,this.scaleConstant=(o=e?.scaleConstant)!==null&&o!==void 0?o:.4,this.smooth=(s=e?.smooth)!==null&&s!==void 0?s:.8;let a=this.getCurrentTimeInSeconds();this.lastThrottleTime=a,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){let r=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>setTimeout(n,r))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){let e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=e;return}let r=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=e}updateClientSendingRate(e){let r;if(this.updateMeasuredRate(),(0,IV.isThrottlingError)(e)){let i=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=i,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(i),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let e=this.getCurrentTimeInSeconds(),r=Math.floor(e*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(e){return parseFloat(e.toFixed(8))}};pp.DefaultRateLimiter=Zy});var wo=c(he=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0});he.REQUEST_HEADER=he.INVOCATION_ID_HEADER=he.NO_RETRY_INCREMENT=he.TIMEOUT_RETRY_COST=he.RETRY_COST=he.INITIAL_RETRY_TOKENS=he.THROTTLING_RETRY_DELAY_BASE=he.MAXIMUM_RETRY_DELAY=he.DEFAULT_RETRY_DELAY_BASE=void 0;he.DEFAULT_RETRY_DELAY_BASE=100;he.MAXIMUM_RETRY_DELAY=20*1e3;he.THROTTLING_RETRY_DELAY_BASE=500;he.INITIAL_RETRY_TOKENS=500;he.RETRY_COST=5;he.TIMEOUT_RETRY_COST=10;he.NO_RETRY_INCREMENT=1;he.INVOCATION_ID_HEADER="amz-sdk-invocation-id";he.REQUEST_HEADER="amz-sdk-request"});var QO=c(fp=>{"use strict";Object.defineProperty(fp,"__esModule",{value:!0});fp.getDefaultRetryBackoffStrategy=void 0;var KO=wo(),RV=()=>{let t=KO.DEFAULT_RETRY_DELAY_BASE;return{computeNextBackoffDelay:n=>Math.floor(Math.min(KO.MAXIMUM_RETRY_DELAY,Math.random()*2**n*t)),setDelayBase:n=>{t=n}}};fp.getDefaultRetryBackoffStrategy=RV});var YO=c(mp=>{"use strict";Object.defineProperty(mp,"__esModule",{value:!0});mp.createDefaultRetryToken=void 0;var qV=wo(),DV=({retryDelay:t,retryCount:e,retryCost:r})=>({getRetryCount:()=>e,getRetryDelay:()=>Math.min(qV.MAXIMUM_RETRY_DELAY,t),getRetryCost:()=>r});mp.createDefaultRetryToken=DV});var _p=c(hp=>{"use strict";Object.defineProperty(hp,"__esModule",{value:!0});hp.StandardRetryStrategy=void 0;var tg=lp(),gn=wo(),MV=QO(),JO=YO(),rg=class{constructor(e){this.maxAttempts=e,this.mode=tg.RETRY_MODES.STANDARD,this.capacity=gn.INITIAL_RETRY_TOKENS,this.retryBackoffStrategy=(0,MV.getDefaultRetryBackoffStrategy)(),this.maxAttemptsProvider=typeof e=="function"?e:async()=>e}async acquireInitialRetryToken(e){return(0,JO.createDefaultRetryToken)({retryDelay:gn.DEFAULT_RETRY_DELAY_BASE,retryCount:0})}async refreshRetryTokenForRetry(e,r){let n=await this.getMaxAttempts();if(this.shouldRetry(e,r,n)){let i=r.errorType;this.retryBackoffStrategy.setDelayBase(i==="THROTTLING"?gn.THROTTLING_RETRY_DELAY_BASE:gn.DEFAULT_RETRY_DELAY_BASE);let o=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),s=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,o):o,a=this.getCapacityCost(i);return this.capacity-=a,(0,JO.createDefaultRetryToken)({retryDelay:s,retryCount:e.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(e){var r;this.capacity=Math.max(gn.INITIAL_RETRY_TOKENS,this.capacity+((r=e.getRetryCost())!==null&&r!==void 0?r:gn.NO_RETRY_INCREMENT))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${tg.DEFAULT_MAX_ATTEMPTS}`),tg.DEFAULT_MAX_ATTEMPTS}}shouldRetry(e,r,n){return e.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(e){return e==="TRANSIENT"?gn.TIMEOUT_RETRY_COST:gn.RETRY_COST}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}};hp.StandardRetryStrategy=rg});var XO=c(yp=>{"use strict";Object.defineProperty(yp,"__esModule",{value:!0});yp.AdaptiveRetryStrategy=void 0;var kV=lp(),FV=eg(),LV=_p(),ng=class{constructor(e,r){this.maxAttemptsProvider=e,this.mode=kV.RETRY_MODES.ADAPTIVE;let{rateLimiter:n}=r??{};this.rateLimiter=n??new FV.DefaultRateLimiter,this.standardRetryStrategy=new LV.StandardRetryStrategy(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(e,r)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}};yp.AdaptiveRetryStrategy=ng});var ZO=c(gp=>{"use strict";Object.defineProperty(gp,"__esModule",{value:!0});gp.ConfiguredRetryStrategy=void 0;var UV=wo(),jV=_p(),ig=class extends jV.StandardRetryStrategy{constructor(e,r=UV.DEFAULT_RETRY_DELAY_BASE){super(typeof e=="function"?e:async()=>e),typeof r=="number"?this.computeNextBackoffDelay=()=>r:this.computeNextBackoffDelay=r}async refreshRetryTokenForRetry(e,r){let n=await super.refreshRetryTokenForRetry(e,r);return n.getRetryDelay=()=>this.computeNextBackoffDelay(n.getRetryCount()),n}};gp.ConfiguredRetryStrategy=ig});var tA=c(eA=>{"use strict";Object.defineProperty(eA,"__esModule",{value:!0})});var yt=c(Mr=>{"use strict";Object.defineProperty(Mr,"__esModule",{value:!0});var _i=(x(),S(N));_i.__exportStar(XO(),Mr);_i.__exportStar(ZO(),Mr);_i.__exportStar(eg(),Mr);_i.__exportStar(_p(),Mr);_i.__exportStar(lp(),Mr);_i.__exportStar(wo(),Mr);_i.__exportStar(tA(),Mr)});import WV from"crypto";function Xa(){return Ep>vp.length-16&&(WV.randomFillSync(vp),Ep=0),vp.slice(Ep,Ep+=16)}var vp,Ep,og=Ce(()=>{vp=new Uint8Array(256),Ep=vp.length});var rA,nA=Ce(()=>{rA=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function BV(t){return typeof t=="string"&&rA.test(t)}var En,Za=Ce(()=>{nA();En=BV});function VV(t,e=0){let r=(Te[t[e+0]]+Te[t[e+1]]+Te[t[e+2]]+Te[t[e+3]]+"-"+Te[t[e+4]]+Te[t[e+5]]+"-"+Te[t[e+6]]+Te[t[e+7]]+"-"+Te[t[e+8]]+Te[t[e+9]]+"-"+Te[t[e+10]]+Te[t[e+11]]+Te[t[e+12]]+Te[t[e+13]]+Te[t[e+14]]+Te[t[e+15]]).toLowerCase();if(!En(r))throw TypeError("Stringified UUID is invalid");return r}var Te,vn,ec=Ce(()=>{Za();Te=[];for(let t=0;t<256;++t)Te.push((t+256).toString(16).substr(1));vn=VV});function $V(t,e,r){let n=e&&r||0,i=e||new Array(16);t=t||{};let o=t.node||iA,s=t.clockseq!==void 0?t.clockseq:sg;if(o==null||s==null){let m=t.random||(t.rng||Xa)();o==null&&(o=iA=[m[0]|1,m[1],m[2],m[3],m[4],m[5]]),s==null&&(s=sg=(m[6]<<8|m[7])&16383)}let a=t.msecs!==void 0?t.msecs:Date.now(),d=t.nsecs!==void 0?t.nsecs:cg+1,l=a-ag+(d-cg)/1e4;if(l<0&&t.clockseq===void 0&&(s=s+1&16383),(l<0||a>ag)&&t.nsecs===void 0&&(d=0),d>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");ag=a,cg=d,sg=s,a+=122192928e5;let p=((a&268435455)*1e4+d)%4294967296;i[n++]=p>>>24&255,i[n++]=p>>>16&255,i[n++]=p>>>8&255,i[n++]=p&255;let f=a/4294967296*1e4&268435455;i[n++]=f>>>8&255,i[n++]=f&255,i[n++]=f>>>24&15|16,i[n++]=f>>>16&255,i[n++]=s>>>8|128,i[n++]=s&255;for(let m=0;m<6;++m)i[n+m]=o[m];return e||vn(i)}var iA,sg,ag,cg,oA,sA=Ce(()=>{og();ec();ag=0,cg=0;oA=$V});function zV(t){if(!En(t))throw TypeError("Invalid UUID");let e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}var Sp,dg=Ce(()=>{Za();Sp=zV});function HV(t){t=unescape(encodeURIComponent(t));let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}function wp(t,e,r){function n(i,o,s,a){if(typeof i=="string"&&(i=HV(i)),typeof o=="string"&&(o=Sp(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let d=new Uint8Array(16+i.length);if(d.set(o),d.set(i,o.length),d=r(d),d[6]=d[6]&15|e,d[8]=d[8]&63|128,s){a=a||0;for(let l=0;l<16;++l)s[a+l]=d[l];return s}return vn(d)}try{n.name=t}catch{}return n.DNS=GV,n.URL=KV,n}var GV,KV,ug=Ce(()=>{ec();dg();GV="6ba7b810-9dad-11d1-80b4-00c04fd430c8",KV="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});import QV from"crypto";function YV(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),QV.createHash("md5").update(t).digest()}var aA,cA=Ce(()=>{aA=YV});var JV,dA,uA=Ce(()=>{ug();cA();JV=wp("v3",48,aA),dA=JV});function XV(t,e,r){t=t||{};let n=t.random||(t.rng||Xa)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return vn(n)}var lA,pA=Ce(()=>{og();ec();lA=XV});import ZV from"crypto";function e$(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),ZV.createHash("sha1").update(t).digest()}var fA,mA=Ce(()=>{fA=e$});var t$,hA,_A=Ce(()=>{ug();mA();t$=wp("v5",80,fA),hA=t$});var yA,gA=Ce(()=>{yA="00000000-0000-0000-0000-000000000000"});function r$(t){if(!En(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}var EA,vA=Ce(()=>{Za();EA=r$});var lg={};Mh(lg,{NIL:()=>yA,parse:()=>Sp,stringify:()=>vn,v1:()=>oA,v3:()=>dA,v4:()=>lA,v5:()=>hA,validate:()=>En,version:()=>EA});var pg=Ce(()=>{sA();uA();pA();_A();gA();vA();Za();ec();dg()});var SA=c(Np=>{"use strict";Object.defineProperty(Np,"__esModule",{value:!0});Np.getDefaultRetryQuota=void 0;var fg=yt(),n$=(t,e)=>{var r,n,i;let o=t,s=(r=e?.noRetryIncrement)!==null&&r!==void 0?r:fg.NO_RETRY_INCREMENT,a=(n=e?.retryCost)!==null&&n!==void 0?n:fg.RETRY_COST,d=(i=e?.timeoutRetryCost)!==null&&i!==void 0?i:fg.TIMEOUT_RETRY_COST,l=t,p=_=>_.name==="TimeoutError"?d:a,f=_=>p(_)<=l;return Object.freeze({hasRetryTokens:f,retrieveRetryTokens:_=>{if(!f(_))throw new Error("No retry token available");let E=p(_);return l-=E,E},releaseRetryTokens:_=>{l+=_??s,l=Math.min(l,o)}})};Np.getDefaultRetryQuota=n$});var mg=c(xp=>{"use strict";Object.defineProperty(xp,"__esModule",{value:!0});xp.defaultDelayDecider=void 0;var i$=yt(),o$=(t,e)=>Math.floor(Math.min(i$.MAXIMUM_RETRY_DELAY,Math.random()*2**e*t));xp.defaultDelayDecider=o$});var hg=c(Cp=>{"use strict";Object.defineProperty(Cp,"__esModule",{value:!0});Cp.defaultRetryDecider=void 0;var bp=Ja(),s$=t=>t?(0,bp.isRetryableByTrait)(t)||(0,bp.isClockSkewError)(t)||(0,bp.isThrottlingError)(t)||(0,bp.isTransientError)(t):!1;Cp.defaultRetryDecider=s$});var _g=c(Op=>{"use strict";Object.defineProperty(Op,"__esModule",{value:!0});Op.asSdkError=void 0;var a$=t=>t instanceof Error?t:t instanceof Object?Object.assign(new Error,t):typeof t=="string"?new Error(t):new Error(`AWS SDK error wrapper for ${t}`);Op.asSdkError=a$});var Eg=c(Ap=>{"use strict";Object.defineProperty(Ap,"__esModule",{value:!0});Ap.StandardRetryStrategy=void 0;var yg=ve(),c$=Ja(),yi=yt(),d$=(pg(),S(lg)),u$=SA(),l$=mg(),p$=hg(),f$=_g(),gg=class{constructor(e,r){var n,i,o;this.maxAttemptsProvider=e,this.mode=yi.RETRY_MODES.STANDARD,this.retryDecider=(n=r?.retryDecider)!==null&&n!==void 0?n:p$.defaultRetryDecider,this.delayDecider=(i=r?.delayDecider)!==null&&i!==void 0?i:l$.defaultDelayDecider,this.retryQuota=(o=r?.retryQuota)!==null&&o!==void 0?o:(0,u$.getDefaultRetryQuota)(yi.INITIAL_RETRY_TOKENS)}shouldRetry(e,r,n){return r<n&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)}async getMaxAttempts(){let e;try{e=await this.maxAttemptsProvider()}catch{e=yi.DEFAULT_MAX_ATTEMPTS}return e}async retry(e,r,n){let i,o=0,s=0,a=await this.getMaxAttempts(),{request:d}=r;for(yg.HttpRequest.isInstance(d)&&(d.headers[yi.INVOCATION_ID_HEADER]=(0,d$.v4)());;)try{yg.HttpRequest.isInstance(d)&&(d.headers[yi.REQUEST_HEADER]=`attempt=${o+1}; max=${a}`),n?.beforeRequest&&await n.beforeRequest();let{response:l,output:p}=await e(r);return n?.afterRequest&&n.afterRequest(l),this.retryQuota.releaseRetryTokens(i),p.$metadata.attempts=o+1,p.$metadata.totalRetryDelay=s,{response:l,output:p}}catch(l){let p=(0,f$.asSdkError)(l);if(o++,this.shouldRetry(p,o,a)){i=this.retryQuota.retrieveRetryTokens(p);let f=this.delayDecider((0,c$.isThrottlingError)(p)?yi.THROTTLING_RETRY_DELAY_BASE:yi.DEFAULT_RETRY_DELAY_BASE,o),m=m$(p.$response),h=Math.max(m||0,f);s+=h,await new Promise(_=>setTimeout(_,h));continue}throw p.$metadata||(p.$metadata={}),p.$metadata.attempts=o,p.$metadata.totalRetryDelay=s,p}}};Ap.StandardRetryStrategy=gg;var m$=t=>{if(!yg.HttpResponse.isInstance(t))return;let e=Object.keys(t.headers).find(o=>o.toLowerCase()==="retry-after");if(!e)return;let r=t.headers[e],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3}});var NA=c(Tp=>{"use strict";Object.defineProperty(Tp,"__esModule",{value:!0});Tp.AdaptiveRetryStrategy=void 0;var wA=yt(),h$=Eg(),vg=class extends h$.StandardRetryStrategy{constructor(e,r){let{rateLimiter:n,...i}=r??{};super(e,i),this.rateLimiter=n??new wA.DefaultRateLimiter,this.mode=wA.RETRY_MODES.ADAPTIVE}async retry(e,r){return super.retry(e,r,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:n=>{this.rateLimiter.updateClientSendingRate(n)}})}};Tp.AdaptiveRetryStrategy=vg});var bA=c(ue=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0});ue.NODE_RETRY_MODE_CONFIG_OPTIONS=ue.CONFIG_RETRY_MODE=ue.ENV_RETRY_MODE=ue.resolveRetryConfig=ue.NODE_MAX_ATTEMPT_CONFIG_OPTIONS=ue.CONFIG_MAX_ATTEMPTS=ue.ENV_MAX_ATTEMPTS=void 0;var xA=ln(),No=yt();ue.ENV_MAX_ATTEMPTS="AWS_MAX_ATTEMPTS";ue.CONFIG_MAX_ATTEMPTS="max_attempts";ue.NODE_MAX_ATTEMPT_CONFIG_OPTIONS={environmentVariableSelector:t=>{let e=t[ue.ENV_MAX_ATTEMPTS];if(!e)return;let r=parseInt(e);if(Number.isNaN(r))throw new Error(`Environment variable ${ue.ENV_MAX_ATTEMPTS} mast be a number, got "${e}"`);return r},configFileSelector:t=>{let e=t[ue.CONFIG_MAX_ATTEMPTS];if(!e)return;let r=parseInt(e);if(Number.isNaN(r))throw new Error(`Shared config file entry ${ue.CONFIG_MAX_ATTEMPTS} mast be a number, got "${e}"`);return r},default:No.DEFAULT_MAX_ATTEMPTS};var _$=t=>{var e;let{retryStrategy:r}=t,n=(0,xA.normalizeProvider)((e=t.maxAttempts)!==null&&e!==void 0?e:No.DEFAULT_MAX_ATTEMPTS);return{...t,maxAttempts:n,retryStrategy:async()=>r||(await(0,xA.normalizeProvider)(t.retryMode)()===No.RETRY_MODES.ADAPTIVE?new No.AdaptiveRetryStrategy(n):new No.StandardRetryStrategy(n))}};ue.resolveRetryConfig=_$;ue.ENV_RETRY_MODE="AWS_RETRY_MODE";ue.CONFIG_RETRY_MODE="retry_mode";ue.NODE_RETRY_MODE_CONFIG_OPTIONS={environmentVariableSelector:t=>t[ue.ENV_RETRY_MODE],configFileSelector:t=>t[ue.CONFIG_RETRY_MODE],default:No.DEFAULT_RETRY_MODE}});var OA=c(Zt=>{"use strict";Object.defineProperty(Zt,"__esModule",{value:!0});Zt.getOmitRetryHeadersPlugin=Zt.omitRetryHeadersMiddlewareOptions=Zt.omitRetryHeadersMiddleware=void 0;var y$=ve(),CA=yt(),g$=()=>t=>async e=>{let{request:r}=e;return y$.HttpRequest.isInstance(r)&&(delete r.headers[CA.INVOCATION_ID_HEADER],delete r.headers[CA.REQUEST_HEADER]),t(e)};Zt.omitRetryHeadersMiddleware=g$;Zt.omitRetryHeadersMiddlewareOptions={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0};var E$=t=>({applyToStack:e=>{e.addRelativeTo((0,Zt.omitRetryHeadersMiddleware)(),Zt.omitRetryHeadersMiddlewareOptions)}});Zt.getOmitRetryHeadersPlugin=E$});var TA=c(ot=>{"use strict";Object.defineProperty(ot,"__esModule",{value:!0});ot.getRetryAfterHint=ot.getRetryPlugin=ot.retryMiddlewareOptions=ot.retryMiddleware=void 0;var wg=ve(),Sg=Ja(),AA=yt(),v$=(pg(),S(lg)),S$=_g(),w$=t=>(e,r)=>async n=>{let i=await t.retryStrategy(),o=await t.maxAttempts();if(N$(i)){i=i;let s=await i.acquireInitialRetryToken(r.partition_id),a=new Error,d=0,l=0,{request:p}=n;for(wg.HttpRequest.isInstance(p)&&(p.headers[AA.INVOCATION_ID_HEADER]=(0,v$.v4)());;)try{wg.HttpRequest.isInstance(p)&&(p.headers[AA.REQUEST_HEADER]=`attempt=${d+1}; max=${o}`);let{response:f,output:m}=await e(n);return i.recordSuccess(s),m.$metadata.attempts=d+1,m.$metadata.totalRetryDelay=l,{response:f,output:m}}catch(f){let m=x$(f);a=(0,S$.asSdkError)(f);try{s=await i.refreshRetryTokenForRetry(s,m)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=d+1,a.$metadata.totalRetryDelay=l,a}d=s.getRetryCount();let h=s.getRetryDelay();l+=h,await new Promise(_=>setTimeout(_,h))}}else return i=i,i?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",i.mode]]),i.retry(e,n)};ot.retryMiddleware=w$;var N$=t=>typeof t.acquireInitialRetryToken<"u"&&typeof t.refreshRetryTokenForRetry<"u"&&typeof t.recordSuccess<"u",x$=t=>{let e={errorType:b$(t)},r=(0,ot.getRetryAfterHint)(t.$response);return r&&(e.retryAfterHint=r),e},b$=t=>(0,Sg.isThrottlingError)(t)?"THROTTLING":(0,Sg.isTransientError)(t)?"TRANSIENT":(0,Sg.isServerError)(t)?"SERVER_ERROR":"CLIENT_ERROR";ot.retryMiddlewareOptions={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0};var C$=t=>({applyToStack:e=>{e.add((0,ot.retryMiddleware)(t),ot.retryMiddlewareOptions)}});ot.getRetryPlugin=C$;var O$=t=>{if(!wg.HttpResponse.isInstance(t))return;let e=Object.keys(t.headers).find(o=>o.toLowerCase()==="retry-after");if(!e)return;let r=t.headers[e],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)};ot.getRetryAfterHint=O$});var Fr=c(kr=>{"use strict";Object.defineProperty(kr,"__esModule",{value:!0});var gi=(x(),S(N));gi.__exportStar(NA(),kr);gi.__exportStar(Eg(),kr);gi.__exportStar(bA(),kr);gi.__exportStar(mg(),kr);gi.__exportStar(OA(),kr);gi.__exportStar(hg(),kr);gi.__exportStar(TA(),kr)});var PA=c(Pp=>{"use strict";Object.defineProperty(Pp,"__esModule",{value:!0});Pp.NoOpLogger=void 0;var Ng=class{trace(){}debug(){}info(){}warn(){}error(){}};Pp.NoOpLogger=Ng});var qA=c(xo=>{"use strict";Object.defineProperty(xo,"__esModule",{value:!0});xo.constructStack=void 0;var Ei=(t,e)=>{let r=[];if(t&&r.push(t),e)for(let n of e)r.push(n);return r},Sn=(t,e)=>`${t||"anonymous"}${e&&e.length>0?` (a.k.a. ${e.join(",")})`:""}`,A$=()=>{let t=[],e=[],r=!1,n=new Set,i=f=>f.sort((m,h)=>IA[h.step]-IA[m.step]||RA[h.priority||"normal"]-RA[m.priority||"normal"]),o=f=>{let m=!1,h=_=>{let E=Ei(_.name,_.aliases);if(E.includes(f)){m=!0;for(let v of E)n.delete(v);return!1}return!0};return t=t.filter(h),e=e.filter(h),m},s=f=>{let m=!1,h=_=>{if(_.middleware===f){m=!0;for(let E of Ei(_.name,_.aliases))n.delete(E);return!1}return!0};return t=t.filter(h),e=e.filter(h),m},a=f=>{var m;return t.forEach(h=>{f.add(h.middleware,{...h})}),e.forEach(h=>{f.addRelativeTo(h.middleware,{...h})}),(m=f.identifyOnResolve)===null||m===void 0||m.call(f,p.identifyOnResolve()),f},d=f=>{let m=[];return f.before.forEach(h=>{h.before.length===0&&h.after.length===0?m.push(h):m.push(...d(h))}),m.push(f),f.after.reverse().forEach(h=>{h.before.length===0&&h.after.length===0?m.push(h):m.push(...d(h))}),m},l=(f=!1)=>{let m=[],h=[],_={};return t.forEach(v=>{let T={...v,before:[],after:[]};for(let I of Ei(T.name,T.aliases))_[I]=T;m.push(T)}),e.forEach(v=>{let T={...v,before:[],after:[]};for(let I of Ei(T.name,T.aliases))_[I]=T;h.push(T)}),h.forEach(v=>{if(v.toMiddleware){let T=_[v.toMiddleware];if(T===void 0){if(f)return;throw new Error(`${v.toMiddleware} is not found when adding ${Sn(v.name,v.aliases)} middleware ${v.relation} ${v.toMiddleware}`)}v.relation==="after"&&T.after.push(v),v.relation==="before"&&T.before.push(v)}}),i(m).map(d).reduce((v,T)=>(v.push(...T),v),[])},p={add:(f,m={})=>{let{name:h,override:_,aliases:E}=m,v={step:"initialize",priority:"normal",middleware:f,...m},T=Ei(h,E);if(T.length>0){if(T.some(I=>n.has(I))){if(!_)throw new Error(`Duplicate middleware name '${Sn(h,E)}'`);for(let I of T){let Se=t.findIndex($n=>{var Ue;return $n.name===I||((Ue=$n.aliases)===null||Ue===void 0?void 0:Ue.some(qt=>qt===I))});if(Se===-1)continue;let Re=t[Se];if(Re.step!==v.step||v.priority!==Re.priority)throw new Error(`"${Sn(Re.name,Re.aliases)}" middleware with ${Re.priority} priority in ${Re.step} step cannot be overridden by "${Sn(h,E)}" middleware with ${v.priority} priority in ${v.step} step.`);t.splice(Se,1)}}for(let I of T)n.add(I)}t.push(v)},addRelativeTo:(f,m)=>{let{name:h,override:_,aliases:E}=m,v={middleware:f,...m},T=Ei(h,E);if(T.length>0){if(T.some(I=>n.has(I))){if(!_)throw new Error(`Duplicate middleware name '${Sn(h,E)}'`);for(let I of T){let Se=e.findIndex($n=>{var Ue;return $n.name===I||((Ue=$n.aliases)===null||Ue===void 0?void 0:Ue.some(qt=>qt===I))});if(Se===-1)continue;let Re=e[Se];if(Re.toMiddleware!==v.toMiddleware||Re.relation!==v.relation)throw new Error(`"${Sn(Re.name,Re.aliases)}" middleware ${Re.relation} "${Re.toMiddleware}" middleware cannot be overridden by "${Sn(h,E)}" middleware ${v.relation} "${v.toMiddleware}" middleware.`);e.splice(Se,1)}}for(let I of T)n.add(I)}e.push(v)},clone:()=>a((0,xo.constructStack)()),use:f=>{f.applyToStack(p)},remove:f=>typeof f=="string"?o(f):s(f),removeByTag:f=>{let m=!1,h=_=>{let{tags:E,name:v,aliases:T}=_;if(E&&E.includes(f)){let I=Ei(v,T);for(let Se of I)n.delete(Se);return m=!0,!1}return!0};return t=t.filter(h),e=e.filter(h),m},concat:f=>{var m,h;let _=a((0,xo.constructStack)());return _.use(f),_.identifyOnResolve(r||_.identifyOnResolve()||((h=(m=f.identifyOnResolve)===null||m===void 0?void 0:m.call(f))!==null&&h!==void 0?h:!1)),_},applyToStack:a,identify:()=>l(!0).map(f=>{var m;let h=(m=f.step)!==null&&m!==void 0?m:f.relation+" "+f.toMiddleware;return Sn(f.name,f.aliases)+" - "+h}),identifyOnResolve(f){return typeof f=="boolean"&&(r=f),r},resolve:(f,m)=>{for(let h of l().map(_=>_.middleware).reverse())f=h(f,m);return r&&console.log(p.identify()),f}};return p};xo.constructStack=A$;var IA={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},RA={high:3,normal:2,low:1}});var bg=c(xg=>{"use strict";Object.defineProperty(xg,"__esModule",{value:!0});var T$=(x(),S(N));T$.__exportStar(qA(),xg)});var DA=c(Ip=>{"use strict";Object.defineProperty(Ip,"__esModule",{value:!0});Ip.Client=void 0;var P$=bg(),Cg=class{constructor(e){this.middlewareStack=(0,P$.constructStack)(),this.config=e}send(e,r,n){let i=typeof r!="function"?r:void 0,o=typeof r=="function"?r:n,s=e.resolveMiddleware(this.middlewareStack,this.config,i);if(o)s(e).then(a=>o(null,a.output),a=>o(a)).catch(()=>{});else return s(e).then(a=>a.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}};Ip.Client=Cg});var MA=c(Rp=>{"use strict";Object.defineProperty(Rp,"__esModule",{value:!0});Rp.fromBase64=void 0;var I$=ni(),R$=/^[A-Za-z0-9+/]*={0,2}$/,q$=t=>{if(t.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!R$.exec(t))throw new TypeError("Invalid base64 string.");let e=(0,I$.fromString)(t,"base64");return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)};Rp.fromBase64=q$});var kA=c(qp=>{"use strict";Object.defineProperty(qp,"__esModule",{value:!0});qp.toBase64=void 0;var D$=ni(),M$=t=>(0,D$.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64");qp.toBase64=M$});var bo=c(Dp=>{"use strict";Object.defineProperty(Dp,"__esModule",{value:!0});var FA=(x(),S(N));FA.__exportStar(MA(),Dp);FA.__exportStar(kA(),Dp)});var WA=c(Co=>{"use strict";Object.defineProperty(Co,"__esModule",{value:!0});Co.transformFromString=Co.transformToString=void 0;var UA=bo(),jA=zt(),LA=Og();function k$(t,e="utf-8"){return e==="base64"?(0,UA.toBase64)(t):(0,jA.toUtf8)(t)}Co.transformToString=k$;function F$(t,e){return e==="base64"?LA.Uint8ArrayBlobAdapter.mutate((0,UA.fromBase64)(t)):LA.Uint8ArrayBlobAdapter.mutate((0,jA.fromUtf8)(t))}Co.transformFromString=F$});var Og=c(Mp=>{"use strict";Object.defineProperty(Mp,"__esModule",{value:!0});Mp.Uint8ArrayBlobAdapter=void 0;var BA=WA(),Ag=class t extends Uint8Array{static fromString(e,r="utf-8"){switch(typeof e){case"string":return(0,BA.transformFromString)(e,r);default:throw new Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}}static mutate(e){return Object.setPrototypeOf(e,t.prototype),e}transformToString(e="utf-8"){return(0,BA.transformToString)(this,e)}};Mp.Uint8ArrayBlobAdapter=Ag});var VA=c(kp=>{"use strict";Object.defineProperty(kp,"__esModule",{value:!0});kp.getAwsChunkedEncodingStream=void 0;var L$=M("stream"),U$=(t,e)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:i,checksumLocationName:o,streamHasher:s}=e,a=r!==void 0&&i!==void 0&&o!==void 0&&s!==void 0,d=a?s(i,t):void 0,l=new L$.Readable({read:()=>{}});return t.on("data",p=>{let f=n(p)||0;l.push(`${f.toString(16)}\r
`),l.push(p),l.push(`\r
`)}),t.on("end",async()=>{if(l.push(`0\r
`),a){let p=r(await d);l.push(`${o}:${p}\r
`),l.push(`\r
`)}l.push(null)}),l};kp.getAwsChunkedEncodingStream=U$});var Pg=c(Fp=>{"use strict";Object.defineProperty(Fp,"__esModule",{value:!0});Fp.buildQueryString=void 0;var Tg=sy();function j$(t){let e=[];for(let r of Object.keys(t).sort()){let n=t[r];if(r=(0,Tg.escapeUri)(r),Array.isArray(n))for(let i=0,o=n.length;i<o;i++)e.push(`${r}=${(0,Tg.escapeUri)(n[i])}`);else{let i=r;(n||typeof n=="string")&&(i+=`=${(0,Tg.escapeUri)(n)}`),e.push(i)}}return e.join("&")}Fp.buildQueryString=j$});var $A=c(Lp=>{"use strict";Object.defineProperty(Lp,"__esModule",{value:!0});Lp.NODEJS_TIMEOUT_ERROR_CODES=void 0;Lp.NODEJS_TIMEOUT_ERROR_CODES=["ECONNRESET","EPIPE","ETIMEDOUT"]});var Ig=c(Up=>{"use strict";Object.defineProperty(Up,"__esModule",{value:!0});Up.getTransformedHeaders=void 0;var W$=t=>{let e={};for(let r of Object.keys(t)){let n=t[r];e[r]=Array.isArray(n)?n.join(","):n}return e};Up.getTransformedHeaders=W$});var zA=c(jp=>{"use strict";Object.defineProperty(jp,"__esModule",{value:!0});jp.setConnectionTimeout=void 0;var B$=(t,e,r=0)=>{if(!r)return;let n=setTimeout(()=>{t.destroy(),e(Object.assign(new Error(`Socket timed out without establishing a connection within ${r} ms`),{name:"TimeoutError"}))},r);t.on("socket",i=>{i.connecting?i.on("connect",()=>{clearTimeout(n)}):clearTimeout(n)})};jp.setConnectionTimeout=B$});var HA=c(Wp=>{"use strict";Object.defineProperty(Wp,"__esModule",{value:!0});Wp.setSocketKeepAlive=void 0;var V$=(t,{keepAlive:e,keepAliveMsecs:r})=>{e===!0&&t.on("socket",n=>{n.setKeepAlive(e,r||0)})};Wp.setSocketKeepAlive=V$});var GA=c(Bp=>{"use strict";Object.defineProperty(Bp,"__esModule",{value:!0});Bp.setSocketTimeout=void 0;var $$=(t,e,r=0)=>{t.setTimeout(r,()=>{t.destroy(),e(Object.assign(new Error(`Connection timed out after ${r} ms`),{name:"TimeoutError"}))})};Bp.setSocketTimeout=$$});var Rg=c(Vp=>{"use strict";Object.defineProperty(Vp,"__esModule",{value:!0});Vp.writeRequestBody=void 0;var z$=M("stream"),KA=1e3;async function H$(t,e,r=KA){var n;let i=(n=e.headers)!==null&&n!==void 0?n:{},o=i.Expect||i.expect,s=-1,a=!1;o==="100-continue"&&await Promise.race([new Promise(d=>{s=Number(setTimeout(d,Math.max(KA,r)))}),new Promise(d=>{t.on("continue",()=>{clearTimeout(s),d()}),t.on("error",()=>{a=!0,clearTimeout(s),d()})})]),a||G$(t,e.body)}Vp.writeRequestBody=H$;function G$(t,e){e instanceof z$.Readable?e.pipe(t):e?t.end(Buffer.from(e)):t.end()}});var JA=c(Oo=>{"use strict";Object.defineProperty(Oo,"__esModule",{value:!0});Oo.NodeHttpHandler=Oo.DEFAULT_REQUEST_TIMEOUT=void 0;var K$=ve(),Q$=Pg(),QA=M("http"),YA=M("https"),Y$=$A(),J$=Ig(),X$=zA(),Z$=HA(),e2=GA(),t2=Rg();Oo.DEFAULT_REQUEST_TIMEOUT=0;var qg=class{constructor(e){this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((r,n)=>{typeof e=="function"?e().then(i=>{r(this.resolveDefaultConfig(i))}).catch(n):r(this.resolveDefaultConfig(e))})}resolveDefaultConfig(e){let{requestTimeout:r,connectionTimeout:n,socketTimeout:i,httpAgent:o,httpsAgent:s}=e||{},a=!0,d=50;return{connectionTimeout:n,requestTimeout:r??i,httpAgent:o||new QA.Agent({keepAlive:a,maxSockets:d}),httpsAgent:s||new YA.Agent({keepAlive:a,maxSockets:d})}}destroy(){var e,r,n,i;(r=(e=this.config)===null||e===void 0?void 0:e.httpAgent)===null||r===void 0||r.destroy(),(i=(n=this.config)===null||n===void 0?void 0:n.httpsAgent)===null||i===void 0||i.destroy()}async handle(e,{abortSignal:r}={}){return this.config||(this.config=await this.configProvider),new Promise((n,i)=>{var o,s;let a,d=async I=>{await a,n(I)},l=async I=>{await a,i(I)};if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r?.aborted){let I=new Error("Request aborted");I.name="AbortError",l(I);return}let p=e.protocol==="https:",f=(0,Q$.buildQueryString)(e.query||{}),m;if(e.username!=null||e.password!=null){let I=(o=e.username)!==null&&o!==void 0?o:"",Se=(s=e.password)!==null&&s!==void 0?s:"";m=`${I}:${Se}`}let h=e.path;f&&(h+=`?${f}`),e.fragment&&(h+=`#${e.fragment}`);let _={headers:e.headers,host:e.hostname,method:e.method,path:h,port:e.port,agent:p?this.config.httpsAgent:this.config.httpAgent,auth:m},v=(p?YA.request:QA.request)(_,I=>{let Se=new K$.HttpResponse({statusCode:I.statusCode||-1,reason:I.statusMessage,headers:(0,J$.getTransformedHeaders)(I.headers),body:I});d({response:Se})});v.on("error",I=>{Y$.NODEJS_TIMEOUT_ERROR_CODES.includes(I.code)?l(Object.assign(I,{name:"TimeoutError"})):l(I)}),(0,X$.setConnectionTimeout)(v,l,this.config.connectionTimeout),(0,e2.setSocketTimeout)(v,l,this.config.requestTimeout),r&&(r.onabort=()=>{v.abort();let I=new Error("Request aborted");I.name="AbortError",l(I)});let T=_.agent;typeof T=="object"&&"keepAlive"in T&&(0,Z$.setSocketKeepAlive)(v,{keepAlive:T.keepAlive,keepAliveMsecs:T.keepAliveMsecs}),a=(0,t2.writeRequestBody)(v,e,this.config.requestTimeout).catch(i)})}updateHttpClientConfig(e,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[e]:r}))}httpHandlerConfigs(){var e;return(e=this.config)!==null&&e!==void 0?e:{}}};Oo.NodeHttpHandler=qg});var XA=c($p=>{"use strict";Object.defineProperty($p,"__esModule",{value:!0});$p.NodeHttp2ConnectionPool=void 0;var Dg=class{constructor(e){this.sessions=[],this.sessions=e??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(e){this.sessions.push(e)}contains(e){return this.sessions.includes(e)}remove(e){this.sessions=this.sessions.filter(r=>r!==e)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(e){for(let r of this.sessions)r===e&&(r.destroyed||r.destroy())}};$p.NodeHttp2ConnectionPool=Dg});var ZA=c(zp=>{"use strict";Object.defineProperty(zp,"__esModule",{value:!0});zp.NodeHttp2ConnectionManager=void 0;var r2=(x(),S(N)),n2=r2.__importDefault(M("http2")),i2=XA(),Mg=class{constructor(e){if(this.sessionCache=new Map,this.config=e,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}lease(e,r){let n=this.getUrlString(e),i=this.sessionCache.get(n);if(i){let d=i.poll();if(d&&!this.config.disableConcurrency)return d}let o=n2.default.connect(n);this.config.maxConcurrency&&o.settings({maxConcurrentStreams:this.config.maxConcurrency},d=>{if(d)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+e.destination.toString())}),o.unref();let s=()=>{o.destroy(),this.deleteSession(n,o)};o.on("goaway",s),o.on("error",s),o.on("frameError",s),o.on("close",()=>this.deleteSession(n,o)),r.requestTimeout&&o.setTimeout(r.requestTimeout,s);let a=this.sessionCache.get(n)||new i2.NodeHttp2ConnectionPool;return a.offerLast(o),this.sessionCache.set(n,a),o}deleteSession(e,r){let n=this.sessionCache.get(e);n&&n.contains(r)&&(n.remove(r),this.sessionCache.set(e,n))}release(e,r){var n;let i=this.getUrlString(e);(n=this.sessionCache.get(i))===null||n===void 0||n.offerLast(r)}destroy(){for(let[e,r]of this.sessionCache){for(let n of r)n.destroyed||n.destroy(),r.remove(n);this.sessionCache.delete(e)}}setMaxConcurrentStreams(e){if(this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=e}setDisableConcurrentStreams(e){this.config.disableConcurrency=e}getUrlString(e){return e.destination.toString()}};zp.NodeHttp2ConnectionManager=Mg});var tT=c(Hp=>{"use strict";Object.defineProperty(Hp,"__esModule",{value:!0});Hp.NodeHttp2Handler=void 0;var o2=ve(),s2=Pg(),eT=M("http2"),a2=Ig(),c2=ZA(),d2=Rg(),kg=class{constructor(e){this.metadata={handlerProtocol:"h2"},this.connectionManager=new c2.NodeHttp2ConnectionManager({}),this.configProvider=new Promise((r,n)=>{typeof e=="function"?e().then(i=>{r(i||{})}).catch(n):r(e||{})})}destroy(){this.connectionManager.destroy()}async handle(e,{abortSignal:r}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:n,disableConcurrentStreams:i}=this.config;return new Promise((o,s)=>{var a,d,l;let p=!1,f,m=async pe=>{await f,o(pe)},h=async pe=>{await f,s(pe)};if(r?.aborted){p=!0;let pe=new Error("Request aborted");pe.name="AbortError",h(pe);return}let{hostname:_,method:E,port:v,protocol:T,query:I}=e,Se="";if(e.username!=null||e.password!=null){let pe=(a=e.username)!==null&&a!==void 0?a:"",Fs=(d=e.password)!==null&&d!==void 0?d:"";Se=`${pe}:${Fs}@`}let Re=`${T}//${Se}${_}${v?`:${v}`:""}`,$n={destination:new URL(Re)},Ue=this.connectionManager.lease($n,{requestTimeout:(l=this.config)===null||l===void 0?void 0:l.sessionTimeout,disableConcurrentStreams:i||!1}),qt=pe=>{i&&this.destroySession(Ue),p=!0,h(pe)},LS=(0,s2.buildQueryString)(I||{}),Dh=e.path;LS&&(Dh+=`?${LS}`),e.fragment&&(Dh+=`#${e.fragment}`);let bt=Ue.request({...e.headers,[eT.constants.HTTP2_HEADER_PATH]:Dh,[eT.constants.HTTP2_HEADER_METHOD]:E});Ue.ref(),bt.on("response",pe=>{let Fs=new o2.HttpResponse({statusCode:pe[":status"]||-1,headers:(0,a2.getTransformedHeaders)(pe),body:bt});p=!0,m({response:Fs}),i&&(Ue.close(),this.connectionManager.deleteSession(Re,Ue))}),n&&bt.setTimeout(n,()=>{bt.close();let pe=new Error(`Stream timed out because of no activity for ${n} ms`);pe.name="TimeoutError",qt(pe)}),r&&(r.onabort=()=>{bt.close();let pe=new Error("Request aborted");pe.name="AbortError",qt(pe)}),bt.on("frameError",(pe,Fs,$M)=>{qt(new Error(`Frame type id ${pe} in stream id ${$M} has failed with code ${Fs}.`))}),bt.on("error",qt),bt.on("aborted",()=>{qt(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${bt.rstCode}.`))}),bt.on("close",()=>{Ue.unref(),i&&Ue.destroy(),p||qt(new Error("Unexpected error: http2 request did not get a response"))}),f=(0,d2.writeRequestBody)(bt,e,n)})}updateHttpClientConfig(e,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[e]:r}))}httpHandlerConfigs(){var e;return(e=this.config)!==null&&e!==void 0?e:{}}destroySession(e){e.destroyed||e.destroy()}};Hp.NodeHttp2Handler=kg});var rT=c(Gp=>{"use strict";Object.defineProperty(Gp,"__esModule",{value:!0});Gp.Collector=void 0;var u2=M("stream"),Fg=class extends u2.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}_write(e,r,n){this.bufferedBytes.push(e),n()}};Gp.Collector=Fg});var nT=c(Kp=>{"use strict";Object.defineProperty(Kp,"__esModule",{value:!0});Kp.streamCollector=void 0;var l2=rT(),p2=t=>new Promise((e,r)=>{let n=new l2.Collector;t.pipe(n),t.on("error",i=>{n.end(),r(i)}),n.on("error",r),n.on("finish",function(){let i=new Uint8Array(Buffer.concat(this.bufferedBytes));e(i)})});Kp.streamCollector=p2});var Ao=c(tc=>{"use strict";Object.defineProperty(tc,"__esModule",{value:!0});var Lg=(x(),S(N));Lg.__exportStar(JA(),tc);Lg.__exportStar(tT(),tc);Lg.__exportStar(nT(),tc)});var oT=c(Qp=>{"use strict";Object.defineProperty(Qp,"__esModule",{value:!0});Qp.sdkStreamMixin=void 0;var f2=Ao(),m2=ni(),Ug=M("stream"),h2=M("util"),iT="The stream has already been transformed.",_2=t=>{var e,r;if(!(t instanceof Ug.Readable)){let o=((r=(e=t?.__proto__)===null||e===void 0?void 0:e.constructor)===null||r===void 0?void 0:r.name)||t;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${o}`)}let n=!1,i=async()=>{if(n)throw new Error(iT);return n=!0,await(0,f2.streamCollector)(t)};return Object.assign(t,{transformToByteArray:i,transformToString:async o=>{let s=await i();return o===void 0||Buffer.isEncoding(o)?(0,m2.fromArrayBuffer)(s.buffer,s.byteOffset,s.byteLength).toString(o):new h2.TextDecoder(o).decode(s)},transformToWebStream:()=>{if(n)throw new Error(iT);if(t.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof Ug.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please make sure you are using Node.js >= 17.0.0, or polyfill is available.");return n=!0,Ug.Readable.toWeb(t)}})};Qp.sdkStreamMixin=_2});var sT=c(rc=>{"use strict";Object.defineProperty(rc,"__esModule",{value:!0});var jg=(x(),S(N));jg.__exportStar(Og(),rc);jg.__exportStar(VA(),rc);jg.__exportStar(oT(),rc)});var aT=c(Yp=>{"use strict";Object.defineProperty(Yp,"__esModule",{value:!0});Yp.collectBody=void 0;var Wg=sT(),y2=async(t=new Uint8Array,e)=>{if(t instanceof Uint8Array)return Wg.Uint8ArrayBlobAdapter.mutate(t);if(!t)return Wg.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=e.streamCollector(t);return Wg.Uint8ArrayBlobAdapter.mutate(await r)};Yp.collectBody=y2});var cT=c(Jp=>{"use strict";Object.defineProperty(Jp,"__esModule",{value:!0});Jp.Command=void 0;var g2=bg(),Bg=class{constructor(){this.middlewareStack=(0,g2.constructStack)()}};Jp.Command=Bg});var dT=c(Xp=>{"use strict";Object.defineProperty(Xp,"__esModule",{value:!0});Xp.SENSITIVE_STRING=void 0;Xp.SENSITIVE_STRING="***SensitiveInformation***"});var uT=c(Zp=>{"use strict";Object.defineProperty(Zp,"__esModule",{value:!0});Zp.createAggregatedClient=void 0;var E2=(t,e)=>{for(let r of Object.keys(t)){let n=t[r],i=async function(s,a,d){let l=new n(s);if(typeof a=="function")this.send(l,a);else if(typeof d=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(l,a||{},d)}else return this.send(l,a)},o=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");e.prototype[o]=i}};Zp.createAggregatedClient=E2});var $g=c(w=>{"use strict";Object.defineProperty(w,"__esModule",{value:!0});w.logger=w.strictParseByte=w.strictParseShort=w.strictParseInt32=w.strictParseInt=w.strictParseLong=w.limitedParseFloat32=w.limitedParseFloat=w.handleFloat=w.limitedParseDouble=w.strictParseFloat32=w.strictParseFloat=w.strictParseDouble=w.expectUnion=w.expectString=w.expectObject=w.expectNonNull=w.expectByte=w.expectShort=w.expectInt32=w.expectInt=w.expectLong=w.expectFloat32=w.expectNumber=w.expectBoolean=w.parseBoolean=void 0;var v2=t=>{switch(t){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${t}"`)}};w.parseBoolean=v2;var S2=t=>{if(t!=null){if(typeof t=="number"){if((t===0||t===1)&&w.logger.warn(ef(`Expected boolean, got ${typeof t}: ${t}`)),t===0)return!1;if(t===1)return!0}if(typeof t=="string"){let e=t.toLowerCase();if((e==="false"||e==="true")&&w.logger.warn(ef(`Expected boolean, got ${typeof t}: ${t}`)),e==="false")return!1;if(e==="true")return!0}if(typeof t=="boolean")return t;throw new TypeError(`Expected boolean, got ${typeof t}: ${t}`)}};w.expectBoolean=S2;var w2=t=>{if(t!=null){if(typeof t=="string"){let e=parseFloat(t);if(!Number.isNaN(e))return String(e)!==String(t)&&w.logger.warn(ef(`Expected number but observed string: ${t}`)),e}if(typeof t=="number")return t;throw new TypeError(`Expected number, got ${typeof t}: ${t}`)}};w.expectNumber=w2;var N2=Math.ceil(2**127*(2-2**-23)),x2=t=>{let e=(0,w.expectNumber)(t);if(e!==void 0&&!Number.isNaN(e)&&e!==1/0&&e!==-1/0&&Math.abs(e)>N2)throw new TypeError(`Expected 32-bit float, got ${t}`);return e};w.expectFloat32=x2;var b2=t=>{if(t!=null){if(Number.isInteger(t)&&!Number.isNaN(t))return t;throw new TypeError(`Expected integer, got ${typeof t}: ${t}`)}};w.expectLong=b2;w.expectInt=w.expectLong;var C2=t=>Vg(t,32);w.expectInt32=C2;var O2=t=>Vg(t,16);w.expectShort=O2;var A2=t=>Vg(t,8);w.expectByte=A2;var Vg=(t,e)=>{let r=(0,w.expectLong)(t);if(r!==void 0&&T2(r,e)!==r)throw new TypeError(`Expected ${e}-bit integer, got ${t}`);return r},T2=(t,e)=>{switch(e){case 32:return Int32Array.of(t)[0];case 16:return Int16Array.of(t)[0];case 8:return Int8Array.of(t)[0]}},P2=(t,e)=>{if(t==null)throw e?new TypeError(`Expected a non-null value for ${e}`):new TypeError("Expected a non-null value");return t};w.expectNonNull=P2;var I2=t=>{if(t==null)return;if(typeof t=="object"&&!Array.isArray(t))return t;let e=Array.isArray(t)?"array":typeof t;throw new TypeError(`Expected object, got ${e}: ${t}`)};w.expectObject=I2;var R2=t=>{if(t!=null){if(typeof t=="string")return t;if(["boolean","number","bigint"].includes(typeof t))return w.logger.warn(ef(`Expected string, got ${typeof t}: ${t}`)),String(t);throw new TypeError(`Expected string, got ${typeof t}: ${t}`)}};w.expectString=R2;var q2=t=>{if(t==null)return;let e=(0,w.expectObject)(t),r=Object.entries(e).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return e};w.expectUnion=q2;var D2=t=>typeof t=="string"?(0,w.expectNumber)(To(t)):(0,w.expectNumber)(t);w.strictParseDouble=D2;w.strictParseFloat=w.strictParseDouble;var M2=t=>typeof t=="string"?(0,w.expectFloat32)(To(t)):(0,w.expectFloat32)(t);w.strictParseFloat32=M2;var k2=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,To=t=>{let e=t.match(k2);if(e===null||e[0].length!==t.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(t)},F2=t=>typeof t=="string"?lT(t):(0,w.expectNumber)(t);w.limitedParseDouble=F2;w.handleFloat=w.limitedParseDouble;w.limitedParseFloat=w.limitedParseDouble;var L2=t=>typeof t=="string"?lT(t):(0,w.expectFloat32)(t);w.limitedParseFloat32=L2;var lT=t=>{switch(t){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${t}`)}},U2=t=>typeof t=="string"?(0,w.expectLong)(To(t)):(0,w.expectLong)(t);w.strictParseLong=U2;w.strictParseInt=w.strictParseLong;var j2=t=>typeof t=="string"?(0,w.expectInt32)(To(t)):(0,w.expectInt32)(t);w.strictParseInt32=j2;var W2=t=>typeof t=="string"?(0,w.expectShort)(To(t)):(0,w.expectShort)(t);w.strictParseShort=W2;var B2=t=>typeof t=="string"?(0,w.expectByte)(To(t)):(0,w.expectByte)(t);w.strictParseByte=B2;var ef=t=>String(new TypeError(t).stack||t).split(`
`).slice(0,5).filter(e=>!e.includes("stackTraceWarning")).join(`
`);w.logger={warn:console.warn}});var pT=c(gt=>{"use strict";Object.defineProperty(gt,"__esModule",{value:!0});gt.parseEpochTimestamp=gt.parseRfc7231DateTime=gt.parseRfc3339DateTimeWithOffset=gt.parseRfc3339DateTime=gt.dateToUtcString=void 0;var wn=$g(),V2=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Hg=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function $2(t){let e=t.getUTCFullYear(),r=t.getUTCMonth(),n=t.getUTCDay(),i=t.getUTCDate(),o=t.getUTCHours(),s=t.getUTCMinutes(),a=t.getUTCSeconds(),d=i<10?`0${i}`:`${i}`,l=o<10?`0${o}`:`${o}`,p=s<10?`0${s}`:`${s}`,f=a<10?`0${a}`:`${a}`;return`${V2[n]}, ${d} ${Hg[r]} ${e} ${l}:${p}:${f} GMT`}gt.dateToUtcString=$2;var z2=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),H2=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let e=z2.exec(t);if(!e)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,i,o,s,a,d,l]=e,p=(0,wn.strictParseShort)(Po(n)),f=er(i,"month",1,12),m=er(o,"day",1,31);return nc(p,f,m,{hours:s,minutes:a,seconds:d,fractionalMilliseconds:l})};gt.parseRfc3339DateTime=H2;var G2=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),K2=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let e=G2.exec(t);if(!e)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,i,o,s,a,d,l,p]=e,f=(0,wn.strictParseShort)(Po(n)),m=er(i,"month",1,12),h=er(o,"day",1,31),_=nc(f,m,h,{hours:s,minutes:a,seconds:d,fractionalMilliseconds:l});return p.toUpperCase()!="Z"&&_.setTime(_.getTime()-az(p)),_};gt.parseRfc3339DateTimeWithOffset=K2;var Q2=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Y2=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),J2=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),X2=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let e=Q2.exec(t);if(e){let[r,n,i,o,s,a,d,l]=e;return nc((0,wn.strictParseShort)(Po(o)),zg(i),er(n,"day",1,31),{hours:s,minutes:a,seconds:d,fractionalMilliseconds:l})}if(e=Y2.exec(t),e){let[r,n,i,o,s,a,d,l]=e;return rz(nc(ez(o),zg(i),er(n,"day",1,31),{hours:s,minutes:a,seconds:d,fractionalMilliseconds:l}))}if(e=J2.exec(t),e){let[r,n,i,o,s,a,d,l]=e;return nc((0,wn.strictParseShort)(Po(l)),zg(n),er(i.trimLeft(),"day",1,31),{hours:o,minutes:s,seconds:a,fractionalMilliseconds:d})}throw new TypeError("Invalid RFC-7231 date-time value")};gt.parseRfc7231DateTime=X2;var Z2=t=>{if(t==null)return;let e;if(typeof t=="number")e=t;else if(typeof t=="string")e=(0,wn.strictParseDouble)(t);else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(e)||e===1/0||e===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(e*1e3))};gt.parseEpochTimestamp=Z2;var nc=(t,e,r,n)=>{let i=e-1;return iz(t,i,r),new Date(Date.UTC(t,i,r,er(n.hours,"hour",0,23),er(n.minutes,"minute",0,59),er(n.seconds,"seconds",0,60),sz(n.fractionalMilliseconds)))},ez=t=>{let e=new Date().getUTCFullYear(),r=Math.floor(e/100)*100+(0,wn.strictParseShort)(Po(t));return r<e?r+100:r},tz=50*365*24*60*60*1e3,rz=t=>t.getTime()-new Date().getTime()>tz?new Date(Date.UTC(t.getUTCFullYear()-100,t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds())):t,zg=t=>{let e=Hg.indexOf(t);if(e<0)throw new TypeError(`Invalid month: ${t}`);return e+1},nz=[31,28,31,30,31,30,31,31,30,31,30,31],iz=(t,e,r)=>{let n=nz[e];if(e===1&&oz(t)&&(n=29),r>n)throw new TypeError(`Invalid day for ${Hg[e]} in ${t}: ${r}`)},oz=t=>t%4===0&&(t%100!==0||t%400===0),er=(t,e,r,n)=>{let i=(0,wn.strictParseByte)(Po(t));if(i<r||i>n)throw new TypeError(`${e} must be between ${r} and ${n}, inclusive`);return i},sz=t=>t==null?0:(0,wn.strictParseFloat32)("0."+t)*1e3,az=t=>{let e=t[0],r=1;if(e=="+")r=1;else if(e=="-")r=-1;else throw new TypeError(`Offset direction, ${e}, must be "+" or "-"`);let n=Number(t.substring(1,3)),i=Number(t.substring(4,6));return r*(n*60+i)*60*1e3},Po=t=>{let e=0;for(;e<t.length-1&&t.charAt(e)==="0";)e++;return e===0?t:t.slice(e)}});var Kg=c(Io=>{"use strict";Object.defineProperty(Io,"__esModule",{value:!0});Io.decorateServiceException=Io.ServiceException=void 0;var Gg=class t extends Error{constructor(e){super(e.message),Object.setPrototypeOf(this,t.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}};Io.ServiceException=Gg;var cz=(t,e={})=>{Object.entries(e).filter(([,n])=>n!==void 0).forEach(([n,i])=>{(t[n]==null||t[n]==="")&&(t[n]=i)});let r=t.message||t.Message||"UnknownError";return t.message=r,delete t.Message,t};Io.decorateServiceException=cz});var fT=c(vi=>{"use strict";Object.defineProperty(vi,"__esModule",{value:!0});vi.withBaseException=vi.throwDefaultError=void 0;var dz=Kg(),uz=({output:t,parsedBody:e,exceptionCtor:r,errorCode:n})=>{let i=pz(t),o=i.httpStatusCode?i.httpStatusCode+"":void 0,s=new r({name:e?.code||e?.Code||n||o||"UnknownError",$fault:"client",$metadata:i});throw(0,dz.decorateServiceException)(s,e)};vi.throwDefaultError=uz;var lz=t=>({output:e,parsedBody:r,errorCode:n})=>{(0,vi.throwDefaultError)({output:e,parsedBody:r,exceptionCtor:t,errorCode:n})};vi.withBaseException=lz;var pz=t=>{var e,r;return{httpStatusCode:t.statusCode,requestId:(r=(e=t.headers["x-amzn-requestid"])!==null&&e!==void 0?e:t.headers["x-amzn-request-id"])!==null&&r!==void 0?r:t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}}});var mT=c(tf=>{"use strict";Object.defineProperty(tf,"__esModule",{value:!0});tf.loadConfigsForDefaultMode=void 0;var fz=t=>{switch(t){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}};tf.loadConfigsForDefaultMode=fz});var _T=c(rf=>{"use strict";Object.defineProperty(rf,"__esModule",{value:!0});rf.emitWarningIfUnsupportedVersion=void 0;var hT=!1,mz=t=>{t&&!hT&&parseInt(t.substring(1,t.indexOf(".")))<14&&(hT=!0)};rf.emitWarningIfUnsupportedVersion=mz});var yT=c(Nn=>{"use strict";Object.defineProperty(Nn,"__esModule",{value:!0});Nn.resolveChecksumRuntimeConfig=Nn.getChecksumConfiguration=Nn.AlgorithmId=void 0;var Qg=$();Object.defineProperty(Nn,"AlgorithmId",{enumerable:!0,get:function(){return Qg.AlgorithmId}});var hz=t=>{let e=[];for(let r in Qg.AlgorithmId){let n=Qg.AlgorithmId[r];t[n]!==void 0&&e.push({algorithmId:()=>n,checksumConstructor:()=>t[n]})}return{_checksumAlgorithms:e,addChecksumAlgorithm(r){this._checksumAlgorithms.push(r)},checksumAlgorithms(){return this._checksumAlgorithms}}};Nn.getChecksumConfiguration=hz;var _z=t=>{let e={};return t.checksumAlgorithms().forEach(r=>{e[r.algorithmId()]=r.checksumConstructor()}),e};Nn.resolveChecksumRuntimeConfig=_z});var gT=c(Ro=>{"use strict";Object.defineProperty(Ro,"__esModule",{value:!0});Ro.resolveRetryRuntimeConfig=Ro.getRetryConfiguration=void 0;var yz=t=>{let e=t.retryStrategy;return{setRetryStrategy(r){e=r},retryStrategy(){return e}}};Ro.getRetryConfiguration=yz;var gz=t=>{let e={};return e.retryStrategy=t.retryStrategy(),e};Ro.resolveRetryRuntimeConfig=gz});var ST=c(Lr=>{"use strict";Object.defineProperty(Lr,"__esModule",{value:!0});Lr.resolveDefaultRuntimeConfig=Lr.getDefaultClientConfiguration=Lr.getDefaultExtensionConfiguration=void 0;var ET=yT(),vT=gT(),Ez=t=>({...(0,ET.getChecksumConfiguration)(t),...(0,vT.getRetryConfiguration)(t)});Lr.getDefaultExtensionConfiguration=Ez;Lr.getDefaultClientConfiguration=Lr.getDefaultExtensionConfiguration;var vz=t=>({...(0,ET.resolveChecksumRuntimeConfig)(t),...(0,vT.resolveRetryRuntimeConfig)(t)});Lr.resolveDefaultRuntimeConfig=vz});var wT=c(Yg=>{"use strict";Object.defineProperty(Yg,"__esModule",{value:!0});var Sz=(x(),S(N));Sz.__exportStar(ST(),Yg)});var Jg=c(nf=>{"use strict";Object.defineProperty(nf,"__esModule",{value:!0});nf.extendedEncodeURIComponent=void 0;function wz(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}nf.extendedEncodeURIComponent=wz});var NT=c(of=>{"use strict";Object.defineProperty(of,"__esModule",{value:!0});of.getArrayIfSingleItem=void 0;var Nz=t=>Array.isArray(t)?t:[t];of.getArrayIfSingleItem=Nz});var xT=c(ic=>{"use strict";Object.defineProperty(ic,"__esModule",{value:!0});ic.getValueFromTextNode=void 0;var xz=t=>{let e="#text";for(let r in t)t.hasOwnProperty(r)&&t[r][e]!==void 0?t[r]=t[r][e]:typeof t[r]=="object"&&t[r]!==null&&(t[r]=(0,ic.getValueFromTextNode)(t[r]));return t};ic.getValueFromTextNode=xz});var bT=c(tr=>{"use strict";Object.defineProperty(tr,"__esModule",{value:!0});tr.LazyJsonString=tr.StringWrapper=void 0;var bz=function(){let t=Object.getPrototypeOf(this).constructor,e=Function.bind.apply(String,[null,...arguments]),r=new e;return Object.setPrototypeOf(r,t.prototype),r};tr.StringWrapper=bz;tr.StringWrapper.prototype=Object.create(String.prototype,{constructor:{value:tr.StringWrapper,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(tr.StringWrapper,String);var Xg=class t extends tr.StringWrapper{deserializeJSON(){return JSON.parse(super.toString())}toJSON(){return super.toString()}static fromObject(e){return e instanceof t?e:e instanceof String||typeof e=="string"?new t(e):new t(JSON.stringify(e))}};tr.LazyJsonString=Xg});var AT=c(xn=>{"use strict";Object.defineProperty(xn,"__esModule",{value:!0});xn.take=xn.convertMap=xn.map=void 0;function CT(t,e,r){let n,i,o;if(typeof e>"u"&&typeof r>"u")n={},o=t;else{if(n=t,typeof e=="function")return i=e,o=r,Az(n,i,o);o=e}for(let s of Object.keys(o)){if(!Array.isArray(o[s])){n[s]=o[s];continue}OT(n,null,o,s)}return n}xn.map=CT;var Cz=t=>{let e={};for(let[r,n]of Object.entries(t||{}))e[r]=[,n];return e};xn.convertMap=Cz;var Oz=(t,e)=>{let r={};for(let n in e)OT(r,t,e,n);return r};xn.take=Oz;var Az=(t,e,r)=>CT(t,Object.entries(r).reduce((n,[i,o])=>(Array.isArray(o)?n[i]=o:typeof o=="function"?n[i]=[e,o()]:n[i]=[e,o],n),{})),OT=(t,e,r,n)=>{if(e!==null){let s=r[n];typeof s=="function"&&(s=[,s]);let[a=Tz,d=Pz,l=n]=s;(typeof a=="function"&&a(e[l])||typeof a!="function"&&a)&&(t[n]=d(e[l]));return}let[i,o]=r[n];if(typeof o=="function"){let s,a=i===void 0&&(s=o())!=null,d=typeof i=="function"&&!!i(void 0)||typeof i!="function"&&!!i;a?t[n]=s:d&&(t[n]=o())}else{let s=i===void 0&&o!=null,a=typeof i=="function"&&!!i(o)||typeof i!="function"&&!!i;(s||a)&&(t[n]=o)}},Tz=t=>t!=null,Pz=t=>t});var PT=c(sf=>{"use strict";Object.defineProperty(sf,"__esModule",{value:!0});sf.resolvedPath=void 0;var TT=Jg(),Iz=(t,e,r,n,i,o)=>{if(e!=null&&e[r]!==void 0){let s=n();if(s.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");t=t.replace(i,o?s.split("/").map(a=>(0,TT.extendedEncodeURIComponent)(a)).join("/"):(0,TT.extendedEncodeURIComponent)(s))}else throw new Error("No value provided for input HTTP label: "+r+".");return t};sf.resolvedPath=Iz});var IT=c(af=>{"use strict";Object.defineProperty(af,"__esModule",{value:!0});af.serializeFloat=void 0;var Rz=t=>{if(t!==t)return"NaN";switch(t){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return t}};af.serializeFloat=Rz});var RT=c(oc=>{"use strict";Object.defineProperty(oc,"__esModule",{value:!0});oc._json=void 0;var qz=t=>{if(t==null)return{};if(Array.isArray(t))return t.filter(e=>e!=null);if(typeof t=="object"){let e={};for(let r of Object.keys(t))t[r]!=null&&(e[r]=(0,oc._json)(t[r]));return e}return t};oc._json=qz});var qT=c(cf=>{"use strict";Object.defineProperty(cf,"__esModule",{value:!0});cf.splitEvery=void 0;function Dz(t,e,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=t.split(e);if(r===1)return n;let i=[],o="";for(let s=0;s<n.length;s++)o===""?o=n[s]:o+=e+n[s],(s+1)%r===0&&(i.push(o),o="");return o!==""&&i.push(o),i}cf.splitEvery=Dz});var A=c(te=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0});var le=(x(),S(N));le.__exportStar(PA(),te);le.__exportStar(DA(),te);le.__exportStar(aT(),te);le.__exportStar(cT(),te);le.__exportStar(dT(),te);le.__exportStar(uT(),te);le.__exportStar(pT(),te);le.__exportStar(fT(),te);le.__exportStar(mT(),te);le.__exportStar(_T(),te);le.__exportStar(wT(),te);le.__exportStar(Kg(),te);le.__exportStar(Jg(),te);le.__exportStar(NT(),te);le.__exportStar(xT(),te);le.__exportStar(bT(),te);le.__exportStar(AT(),te);le.__exportStar($g(),te);le.__exportStar(PT(),te);le.__exportStar(IT(),te);le.__exportStar(RT(),te);le.__exportStar(qT(),te)});var DT=c(df=>{"use strict";Object.defineProperty(df,"__esModule",{value:!0});df.resolveClientEndpointParameters=void 0;var Mz=t=>({...t,useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"rds-data"});df.resolveClientEndpointParameters=Mz});var MT=c((Xge,kz)=>{kz.exports={name:"@aws-sdk/client-rds-data",description:"AWS SDK for JavaScript Rds Data Client for Node.js, Browser and React Native",version:"3.454.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo rds-data"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.454.0","@aws-sdk/core":"3.451.0","@aws-sdk/credential-provider-node":"3.451.0","@aws-sdk/middleware-host-header":"3.451.0","@aws-sdk/middleware-logger":"3.451.0","@aws-sdk/middleware-recursion-detection":"3.451.0","@aws-sdk/middleware-signing":"3.451.0","@aws-sdk/middleware-user-agent":"3.451.0","@aws-sdk/region-config-resolver":"3.451.0","@aws-sdk/types":"3.451.0","@aws-sdk/util-endpoints":"3.451.0","@aws-sdk/util-user-agent-browser":"3.451.0","@aws-sdk/util-user-agent-node":"3.451.0","@smithy/config-resolver":"^2.0.18","@smithy/fetch-http-handler":"^2.2.6","@smithy/hash-node":"^2.0.15","@smithy/invalid-dependency":"^2.0.13","@smithy/middleware-content-length":"^2.0.15","@smithy/middleware-endpoint":"^2.2.0","@smithy/middleware-retry":"^2.0.20","@smithy/middleware-serde":"^2.0.13","@smithy/middleware-stack":"^2.0.7","@smithy/node-config-provider":"^2.1.5","@smithy/node-http-handler":"^2.1.9","@smithy/protocol-http":"^3.0.9","@smithy/smithy-client":"^2.1.15","@smithy/types":"^2.5.0","@smithy/url-parser":"^2.0.13","@smithy/util-base64":"^2.0.1","@smithy/util-body-length-browser":"^2.0.0","@smithy/util-body-length-node":"^2.1.0","@smithy/util-defaults-mode-browser":"^2.0.19","@smithy/util-defaults-mode-node":"^2.0.25","@smithy/util-endpoints":"^1.0.4","@smithy/util-retry":"^2.0.6","@smithy/util-utf8":"^2.0.2",tslib:"^2.5.0"},devDependencies:{"@smithy/service-client-documentation-generator":"^2.0.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-rds-data",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-rds-data"}}});var kT=c(uf=>{"use strict";Object.defineProperty(uf,"__esModule",{value:!0});uf.resolveStsAuthConfig=void 0;var Fz=Tr(),Lz=(t,{stsClientCtor:e})=>(0,Fz.resolveAwsAuthConfig)({...t,stsClientCtor:e});uf.resolveStsAuthConfig=Lz});var FT=c(lf=>{"use strict";Object.defineProperty(lf,"__esModule",{value:!0});lf.resolveClientEndpointParameters=void 0;var Uz=t=>({...t,useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,useGlobalEndpoint:t.useGlobalEndpoint??!1,defaultSigningName:"sts"});lf.resolveClientEndpointParameters=Uz});var LT=c((tEe,jz)=>{jz.exports={name:"@aws-sdk/client-sts",description:"AWS SDK for JavaScript Sts Client for Node.js, Browser and React Native",version:"3.454.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sts",test:"yarn test:unit","test:unit":"jest"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/core":"3.451.0","@aws-sdk/credential-provider-node":"3.451.0","@aws-sdk/middleware-host-header":"3.451.0","@aws-sdk/middleware-logger":"3.451.0","@aws-sdk/middleware-recursion-detection":"3.451.0","@aws-sdk/middleware-sdk-sts":"3.451.0","@aws-sdk/middleware-signing":"3.451.0","@aws-sdk/middleware-user-agent":"3.451.0","@aws-sdk/region-config-resolver":"3.451.0","@aws-sdk/types":"3.451.0","@aws-sdk/util-endpoints":"3.451.0","@aws-sdk/util-user-agent-browser":"3.451.0","@aws-sdk/util-user-agent-node":"3.451.0","@smithy/config-resolver":"^2.0.18","@smithy/fetch-http-handler":"^2.2.6","@smithy/hash-node":"^2.0.15","@smithy/invalid-dependency":"^2.0.13","@smithy/middleware-content-length":"^2.0.15","@smithy/middleware-endpoint":"^2.2.0","@smithy/middleware-retry":"^2.0.20","@smithy/middleware-serde":"^2.0.13","@smithy/middleware-stack":"^2.0.7","@smithy/node-config-provider":"^2.1.5","@smithy/node-http-handler":"^2.1.9","@smithy/protocol-http":"^3.0.9","@smithy/smithy-client":"^2.1.15","@smithy/types":"^2.5.0","@smithy/url-parser":"^2.0.13","@smithy/util-base64":"^2.0.1","@smithy/util-body-length-browser":"^2.0.0","@smithy/util-body-length-node":"^2.1.0","@smithy/util-defaults-mode-browser":"^2.0.19","@smithy/util-defaults-mode-node":"^2.0.25","@smithy/util-endpoints":"^1.0.4","@smithy/util-retry":"^2.0.6","@smithy/util-utf8":"^2.0.2","fast-xml-parser":"4.2.5",tslib:"^2.5.0"},devDependencies:{"@smithy/service-client-documentation-generator":"^2.0.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sts",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sts"}}});var pf=c(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});qo.STSServiceException=qo.__ServiceException=void 0;var UT=A();Object.defineProperty(qo,"__ServiceException",{enumerable:!0,get:function(){return UT.ServiceException}});var Zg=class t extends UT.ServiceException{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}};qo.STSServiceException=Zg});var Cn=c(F=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0});F.GetSessionTokenResponseFilterSensitiveLog=F.GetFederationTokenResponseFilterSensitiveLog=F.AssumeRoleWithWebIdentityResponseFilterSensitiveLog=F.AssumeRoleWithWebIdentityRequestFilterSensitiveLog=F.AssumeRoleWithSAMLResponseFilterSensitiveLog=F.AssumeRoleWithSAMLRequestFilterSensitiveLog=F.AssumeRoleResponseFilterSensitiveLog=F.CredentialsFilterSensitiveLog=F.InvalidAuthorizationMessageException=F.IDPCommunicationErrorException=F.InvalidIdentityTokenException=F.IDPRejectedClaimException=F.RegionDisabledException=F.PackedPolicyTooLargeException=F.MalformedPolicyDocumentException=F.ExpiredTokenException=void 0;var cE=A(),bn=pf(),eE=class t extends bn.STSServiceException{constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};F.ExpiredTokenException=eE;var tE=class t extends bn.STSServiceException{constructor(e){super({name:"MalformedPolicyDocumentException",$fault:"client",...e}),this.name="MalformedPolicyDocumentException",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};F.MalformedPolicyDocumentException=tE;var rE=class t extends bn.STSServiceException{constructor(e){super({name:"PackedPolicyTooLargeException",$fault:"client",...e}),this.name="PackedPolicyTooLargeException",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};F.PackedPolicyTooLargeException=rE;var nE=class t extends bn.STSServiceException{constructor(e){super({name:"RegionDisabledException",$fault:"client",...e}),this.name="RegionDisabledException",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};F.RegionDisabledException=nE;var iE=class t extends bn.STSServiceException{constructor(e){super({name:"IDPRejectedClaimException",$fault:"client",...e}),this.name="IDPRejectedClaimException",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};F.IDPRejectedClaimException=iE;var oE=class t extends bn.STSServiceException{constructor(e){super({name:"InvalidIdentityTokenException",$fault:"client",...e}),this.name="InvalidIdentityTokenException",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};F.InvalidIdentityTokenException=oE;var sE=class t extends bn.STSServiceException{constructor(e){super({name:"IDPCommunicationErrorException",$fault:"client",...e}),this.name="IDPCommunicationErrorException",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};F.IDPCommunicationErrorException=sE;var aE=class t extends bn.STSServiceException{constructor(e){super({name:"InvalidAuthorizationMessageException",$fault:"client",...e}),this.name="InvalidAuthorizationMessageException",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};F.InvalidAuthorizationMessageException=aE;var Wz=t=>({...t,...t.SecretAccessKey&&{SecretAccessKey:cE.SENSITIVE_STRING}});F.CredentialsFilterSensitiveLog=Wz;var Bz=t=>({...t,...t.Credentials&&{Credentials:(0,F.CredentialsFilterSensitiveLog)(t.Credentials)}});F.AssumeRoleResponseFilterSensitiveLog=Bz;var Vz=t=>({...t,...t.SAMLAssertion&&{SAMLAssertion:cE.SENSITIVE_STRING}});F.AssumeRoleWithSAMLRequestFilterSensitiveLog=Vz;var $z=t=>({...t,...t.Credentials&&{Credentials:(0,F.CredentialsFilterSensitiveLog)(t.Credentials)}});F.AssumeRoleWithSAMLResponseFilterSensitiveLog=$z;var zz=t=>({...t,...t.WebIdentityToken&&{WebIdentityToken:cE.SENSITIVE_STRING}});F.AssumeRoleWithWebIdentityRequestFilterSensitiveLog=zz;var Hz=t=>({...t,...t.Credentials&&{Credentials:(0,F.CredentialsFilterSensitiveLog)(t.Credentials)}});F.AssumeRoleWithWebIdentityResponseFilterSensitiveLog=Hz;var Gz=t=>({...t,...t.Credentials&&{Credentials:(0,F.CredentialsFilterSensitiveLog)(t.Credentials)}});F.GetFederationTokenResponseFilterSensitiveLog=Gz;var Kz=t=>({...t,...t.Credentials&&{Credentials:(0,F.CredentialsFilterSensitiveLog)(t.Credentials)}});F.GetSessionTokenResponseFilterSensitiveLog=Kz});var ff=c(Ur=>{"use strict";var jT=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",Qz=jT+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",WT="["+jT+"]["+Qz+"]*",Yz=new RegExp("^"+WT+"$"),Jz=function(t,e){let r=[],n=e.exec(t);for(;n;){let i=[];i.startIndex=e.lastIndex-n[0].length;let o=n.length;for(let s=0;s<o;s++)i.push(n[s]);r.push(i),n=e.exec(t)}return r},Xz=function(t){let e=Yz.exec(t);return!(e===null||typeof e>"u")};Ur.isExist=function(t){return typeof t<"u"};Ur.isEmptyObject=function(t){return Object.keys(t).length===0};Ur.merge=function(t,e,r){if(e){let n=Object.keys(e),i=n.length;for(let o=0;o<i;o++)r==="strict"?t[n[o]]=[e[n[o]]]:t[n[o]]=e[n[o]]}};Ur.getValue=function(t){return Ur.isExist(t)?t:""};Ur.isName=Xz;Ur.getAllMatches=Jz;Ur.nameRegexp=WT});var uE=c(HT=>{"use strict";var dE=ff(),Zz={allowBooleanAttributes:!1,unpairedTags:[]};HT.validate=function(t,e){e=Object.assign({},Zz,e);let r=[],n=!1,i=!1;t[0]==="\uFEFF"&&(t=t.substr(1));for(let o=0;o<t.length;o++)if(t[o]==="<"&&t[o+1]==="?"){if(o+=2,o=VT(t,o),o.err)return o}else if(t[o]==="<"){let s=o;if(o++,t[o]==="!"){o=$T(t,o);continue}else{let a=!1;t[o]==="/"&&(a=!0,o++);let d="";for(;o<t.length&&t[o]!==">"&&t[o]!==" "&&t[o]!=="	"&&t[o]!==`
`&&t[o]!=="\r";o++)d+=t[o];if(d=d.trim(),d[d.length-1]==="/"&&(d=d.substring(0,d.length-1),o--),!aH(d)){let f;return d.trim().length===0?f="Invalid space after '<'.":f="Tag '"+d+"' is an invalid name.",_e("InvalidTag",f,Je(t,o))}let l=rH(t,o);if(l===!1)return _e("InvalidAttr","Attributes for '"+d+"' have open quote.",Je(t,o));let p=l.value;if(o=l.index,p[p.length-1]==="/"){let f=o-p.length;p=p.substring(0,p.length-1);let m=zT(p,e);if(m===!0)n=!0;else return _e(m.err.code,m.err.msg,Je(t,f+m.err.line))}else if(a)if(l.tagClosed){if(p.trim().length>0)return _e("InvalidTag","Closing tag '"+d+"' can't have attributes or invalid starting.",Je(t,s));{let f=r.pop();if(d!==f.tagName){let m=Je(t,f.tagStartPos);return _e("InvalidTag","Expected closing tag '"+f.tagName+"' (opened in line "+m.line+", col "+m.col+") instead of closing tag '"+d+"'.",Je(t,s))}r.length==0&&(i=!0)}}else return _e("InvalidTag","Closing tag '"+d+"' doesn't have proper closing.",Je(t,o));else{let f=zT(p,e);if(f!==!0)return _e(f.err.code,f.err.msg,Je(t,o-p.length+f.err.line));if(i===!0)return _e("InvalidXml","Multiple possible root nodes found.",Je(t,o));e.unpairedTags.indexOf(d)!==-1||r.push({tagName:d,tagStartPos:s}),n=!0}for(o++;o<t.length;o++)if(t[o]==="<")if(t[o+1]==="!"){o++,o=$T(t,o);continue}else if(t[o+1]==="?"){if(o=VT(t,++o),o.err)return o}else break;else if(t[o]==="&"){let f=oH(t,o);if(f==-1)return _e("InvalidChar","char '&' is not expected.",Je(t,o));o=f}else if(i===!0&&!BT(t[o]))return _e("InvalidXml","Extra text at the end",Je(t,o));t[o]==="<"&&o--}}else{if(BT(t[o]))continue;return _e("InvalidChar","char '"+t[o]+"' is not expected.",Je(t,o))}if(n){if(r.length==1)return _e("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",Je(t,r[0].tagStartPos));if(r.length>0)return _e("InvalidXml","Invalid '"+JSON.stringify(r.map(o=>o.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return _e("InvalidXml","Start tag expected.",1);return!0};function BT(t){return t===" "||t==="	"||t===`
`||t==="\r"}function VT(t,e){let r=e;for(;e<t.length;e++)if(t[e]=="?"||t[e]==" "){let n=t.substr(r,e-r);if(e>5&&n==="xml")return _e("InvalidXml","XML declaration allowed only at the start of the document.",Je(t,e));if(t[e]=="?"&&t[e+1]==">"){e++;break}else continue}return e}function $T(t,e){if(t.length>e+5&&t[e+1]==="-"&&t[e+2]==="-"){for(e+=3;e<t.length;e++)if(t[e]==="-"&&t[e+1]==="-"&&t[e+2]===">"){e+=2;break}}else if(t.length>e+8&&t[e+1]==="D"&&t[e+2]==="O"&&t[e+3]==="C"&&t[e+4]==="T"&&t[e+5]==="Y"&&t[e+6]==="P"&&t[e+7]==="E"){let r=1;for(e+=8;e<t.length;e++)if(t[e]==="<")r++;else if(t[e]===">"&&(r--,r===0))break}else if(t.length>e+9&&t[e+1]==="["&&t[e+2]==="C"&&t[e+3]==="D"&&t[e+4]==="A"&&t[e+5]==="T"&&t[e+6]==="A"&&t[e+7]==="["){for(e+=8;e<t.length;e++)if(t[e]==="]"&&t[e+1]==="]"&&t[e+2]===">"){e+=2;break}}return e}var eH='"',tH="'";function rH(t,e){let r="",n="",i=!1;for(;e<t.length;e++){if(t[e]===eH||t[e]===tH)n===""?n=t[e]:n!==t[e]||(n="");else if(t[e]===">"&&n===""){i=!0;break}r+=t[e]}return n!==""?!1:{value:r,index:e,tagClosed:i}}var nH=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function zT(t,e){let r=dE.getAllMatches(t,nH),n={};for(let i=0;i<r.length;i++){if(r[i][1].length===0)return _e("InvalidAttr","Attribute '"+r[i][2]+"' has no space in starting.",sc(r[i]));if(r[i][3]!==void 0&&r[i][4]===void 0)return _e("InvalidAttr","Attribute '"+r[i][2]+"' is without value.",sc(r[i]));if(r[i][3]===void 0&&!e.allowBooleanAttributes)return _e("InvalidAttr","boolean attribute '"+r[i][2]+"' is not allowed.",sc(r[i]));let o=r[i][2];if(!sH(o))return _e("InvalidAttr","Attribute '"+o+"' is an invalid name.",sc(r[i]));if(!n.hasOwnProperty(o))n[o]=1;else return _e("InvalidAttr","Attribute '"+o+"' is repeated.",sc(r[i]))}return!0}function iH(t,e){let r=/\d/;for(t[e]==="x"&&(e++,r=/[\da-fA-F]/);e<t.length;e++){if(t[e]===";")return e;if(!t[e].match(r))break}return-1}function oH(t,e){if(e++,t[e]===";")return-1;if(t[e]==="#")return e++,iH(t,e);let r=0;for(;e<t.length;e++,r++)if(!(t[e].match(/\w/)&&r<20)){if(t[e]===";")break;return-1}return e}function _e(t,e,r){return{err:{code:t,msg:e,line:r.line||r,col:r.col}}}function sH(t){return dE.isName(t)}function aH(t){return dE.isName(t)}function Je(t,e){let r=t.substring(0,e).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function sc(t){return t.startIndex+t[1].length}});var KT=c(lE=>{var GT={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(t,e,r){return t}},cH=function(t){return Object.assign({},GT,t)};lE.buildOptions=cH;lE.defaultOptions=GT});var YT=c((aEe,QT)=>{"use strict";var pE=class{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,r){e==="__proto__"&&(e="#__proto__"),this.child.push({[e]:r})}addChild(e){e.tagname==="__proto__"&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}};QT.exports=pE});var XT=c((cEe,JT)=>{var dH=ff();function uH(t,e){let r={};if(t[e+3]==="O"&&t[e+4]==="C"&&t[e+5]==="T"&&t[e+6]==="Y"&&t[e+7]==="P"&&t[e+8]==="E"){e=e+9;let n=1,i=!1,o=!1,s="";for(;e<t.length;e++)if(t[e]==="<"&&!o){if(i&&fH(t,e))e+=7,[entityName,val,e]=lH(t,e+1),val.indexOf("&")===-1&&(r[yH(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(i&&mH(t,e))e+=8;else if(i&&hH(t,e))e+=8;else if(i&&_H(t,e))e+=9;else if(pH)o=!0;else throw new Error("Invalid DOCTYPE");n++,s=""}else if(t[e]===">"){if(o?t[e-1]==="-"&&t[e-2]==="-"&&(o=!1,n--):n--,n===0)break}else t[e]==="["?i=!0:s+=t[e];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:e}}function lH(t,e){let r="";for(;e<t.length&&t[e]!=="'"&&t[e]!=='"';e++)r+=t[e];if(r=r.trim(),r.indexOf(" ")!==-1)throw new Error("External entites are not supported");let n=t[e++],i="";for(;e<t.length&&t[e]!==n;e++)i+=t[e];return[r,i,e]}function pH(t,e){return t[e+1]==="!"&&t[e+2]==="-"&&t[e+3]==="-"}function fH(t,e){return t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="N"&&t[e+4]==="T"&&t[e+5]==="I"&&t[e+6]==="T"&&t[e+7]==="Y"}function mH(t,e){return t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="L"&&t[e+4]==="E"&&t[e+5]==="M"&&t[e+6]==="E"&&t[e+7]==="N"&&t[e+8]==="T"}function hH(t,e){return t[e+1]==="!"&&t[e+2]==="A"&&t[e+3]==="T"&&t[e+4]==="T"&&t[e+5]==="L"&&t[e+6]==="I"&&t[e+7]==="S"&&t[e+8]==="T"}function _H(t,e){return t[e+1]==="!"&&t[e+2]==="N"&&t[e+3]==="O"&&t[e+4]==="T"&&t[e+5]==="A"&&t[e+6]==="T"&&t[e+7]==="I"&&t[e+8]==="O"&&t[e+9]==="N"}function yH(t){if(dH.isName(t))return t;throw new Error(`Invalid entity name ${t}`)}JT.exports=uH});var eP=c((dEe,ZT)=>{var gH=/^[-+]?0x[a-fA-F0-9]+$/,EH=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var vH={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function SH(t,e={}){if(e=Object.assign({},vH,e),!t||typeof t!="string")return t;let r=t.trim();if(e.skipLike!==void 0&&e.skipLike.test(r))return t;if(e.hex&&gH.test(r))return Number.parseInt(r,16);{let n=EH.exec(r);if(n){let i=n[1],o=n[2],s=wH(n[3]),a=n[4]||n[6];if(!e.leadingZeros&&o.length>0&&i&&r[2]!==".")return t;if(!e.leadingZeros&&o.length>0&&!i&&r[1]!==".")return t;{let d=Number(r),l=""+d;return l.search(/[eE]/)!==-1||a?e.eNotation?d:t:r.indexOf(".")!==-1?l==="0"&&s===""||l===s||i&&l==="-"+s?d:t:o?s===l||i+s===l?d:t:r===l||r===i+l?d:t}}else return t}}function wH(t){return t&&t.indexOf(".")!==-1&&(t=t.replace(/0+$/,""),t==="."?t="0":t[0]==="."?t="0"+t:t[t.length-1]==="."&&(t=t.substr(0,t.length-1))),t}ZT.exports=SH});var rP=c((lEe,tP)=>{"use strict";var _E=ff(),ac=YT(),NH=XT(),xH=eP(),uEe="<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,_E.nameRegexp),fE=class{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"}},this.addExternalEntities=bH,this.parseXml=PH,this.parseTextData=CH,this.resolveNameSpace=OH,this.buildAttributesMap=TH,this.isItStopNode=DH,this.replaceEntitiesValue=RH,this.readStopNodeData=kH,this.saveTextToParentTag=qH,this.addChild=IH}};function bH(t){let e=Object.keys(t);for(let r=0;r<e.length;r++){let n=e[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:t[n]}}}function CH(t,e,r,n,i,o,s){if(t!==void 0&&(this.options.trimValues&&!n&&(t=t.trim()),t.length>0)){s||(t=this.replaceEntitiesValue(t));let a=this.options.tagValueProcessor(e,t,r,i,o);return a==null?t:typeof a!=typeof t||a!==t?a:this.options.trimValues?hE(t,this.options.parseTagValue,this.options.numberParseOptions):t.trim()===t?hE(t,this.options.parseTagValue,this.options.numberParseOptions):t}}function OH(t){if(this.options.removeNSPrefix){let e=t.split(":"),r=t.charAt(0)==="/"?"/":"";if(e[0]==="xmlns")return"";e.length===2&&(t=r+e[1])}return t}var AH=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function TH(t,e,r){if(!this.options.ignoreAttributes&&typeof t=="string"){let n=_E.getAllMatches(t,AH),i=n.length,o={};for(let s=0;s<i;s++){let a=this.resolveNameSpace(n[s][1]),d=n[s][4],l=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(l=this.options.transformAttributeName(l)),l==="__proto__"&&(l="#__proto__"),d!==void 0){this.options.trimValues&&(d=d.trim()),d=this.replaceEntitiesValue(d);let p=this.options.attributeValueProcessor(a,d,e);p==null?o[l]=d:typeof p!=typeof d||p!==d?o[l]=p:o[l]=hE(d,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(o[l]=!0)}if(!Object.keys(o).length)return;if(this.options.attributesGroupName){let s={};return s[this.options.attributesGroupName]=o,s}return o}}var PH=function(t){t=t.replace(/\r\n?/g,`
`);let e=new ac("!xml"),r=e,n="",i="";for(let o=0;o<t.length;o++)if(t[o]==="<")if(t[o+1]==="/"){let a=Si(t,">",o,"Closing Tag is not closed."),d=t.substring(o+2,a).trim();if(this.options.removeNSPrefix){let f=d.indexOf(":");f!==-1&&(d=d.substr(f+1))}this.options.transformTagName&&(d=this.options.transformTagName(d)),r&&(n=this.saveTextToParentTag(n,r,i));let l=i.substring(i.lastIndexOf(".")+1);if(d&&this.options.unpairedTags.indexOf(d)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${d}>`);let p=0;l&&this.options.unpairedTags.indexOf(l)!==-1?(p=i.lastIndexOf(".",i.lastIndexOf(".")-1),this.tagsNodeStack.pop()):p=i.lastIndexOf("."),i=i.substring(0,p),r=this.tagsNodeStack.pop(),n="",o=a}else if(t[o+1]==="?"){let a=mE(t,o,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,i),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let d=new ac(a.tagName);d.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(d[":@"]=this.buildAttributesMap(a.tagExp,i,a.tagName)),this.addChild(r,d,i)}o=a.closeIndex+1}else if(t.substr(o+1,3)==="!--"){let a=Si(t,"-->",o+4,"Comment is not closed.");if(this.options.commentPropName){let d=t.substring(o+4,a-2);n=this.saveTextToParentTag(n,r,i),r.add(this.options.commentPropName,[{[this.options.textNodeName]:d}])}o=a}else if(t.substr(o+1,2)==="!D"){let a=NH(t,o);this.docTypeEntities=a.entities,o=a.i}else if(t.substr(o+1,2)==="!["){let a=Si(t,"]]>",o,"CDATA is not closed.")-2,d=t.substring(o+9,a);if(n=this.saveTextToParentTag(n,r,i),this.options.cdataPropName)r.add(this.options.cdataPropName,[{[this.options.textNodeName]:d}]);else{let l=this.parseTextData(d,r.tagname,i,!0,!1,!0);l==null&&(l=""),r.add(this.options.textNodeName,l)}o=a+2}else{let a=mE(t,o,this.options.removeNSPrefix),d=a.tagName,l=a.tagExp,p=a.attrExpPresent,f=a.closeIndex;this.options.transformTagName&&(d=this.options.transformTagName(d)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,i,!1));let m=r;if(m&&this.options.unpairedTags.indexOf(m.tagname)!==-1&&(r=this.tagsNodeStack.pop(),i=i.substring(0,i.lastIndexOf("."))),d!==e.tagname&&(i+=i?"."+d:d),this.isItStopNode(this.options.stopNodes,i,d)){let h="";if(l.length>0&&l.lastIndexOf("/")===l.length-1)o=a.closeIndex;else if(this.options.unpairedTags.indexOf(d)!==-1)o=a.closeIndex;else{let E=this.readStopNodeData(t,d,f+1);if(!E)throw new Error(`Unexpected end of ${d}`);o=E.i,h=E.tagContent}let _=new ac(d);d!==l&&p&&(_[":@"]=this.buildAttributesMap(l,i,d)),h&&(h=this.parseTextData(h,d,i,!0,p,!0,!0)),i=i.substr(0,i.lastIndexOf(".")),_.add(this.options.textNodeName,h),this.addChild(r,_,i)}else{if(l.length>0&&l.lastIndexOf("/")===l.length-1){d[d.length-1]==="/"?(d=d.substr(0,d.length-1),l=d):l=l.substr(0,l.length-1),this.options.transformTagName&&(d=this.options.transformTagName(d));let h=new ac(d);d!==l&&p&&(h[":@"]=this.buildAttributesMap(l,i,d)),this.addChild(r,h,i),i=i.substr(0,i.lastIndexOf("."))}else{let h=new ac(d);this.tagsNodeStack.push(r),d!==l&&p&&(h[":@"]=this.buildAttributesMap(l,i,d)),this.addChild(r,h,i),r=h}n="",o=f}}else n+=t[o];return e.child};function IH(t,e,r){let n=this.options.updateTag(e.tagname,r,e[":@"]);n===!1||(typeof n=="string"&&(e.tagname=n),t.addChild(e))}var RH=function(t){if(this.options.processEntities){for(let e in this.docTypeEntities){let r=this.docTypeEntities[e];t=t.replace(r.regx,r.val)}for(let e in this.lastEntities){let r=this.lastEntities[e];t=t.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let e in this.htmlEntities){let r=this.htmlEntities[e];t=t.replace(r.regex,r.val)}t=t.replace(this.ampEntity.regex,this.ampEntity.val)}return t};function qH(t,e,r,n){return t&&(n===void 0&&(n=Object.keys(e.child).length===0),t=this.parseTextData(t,e.tagname,r,!1,e[":@"]?Object.keys(e[":@"]).length!==0:!1,n),t!==void 0&&t!==""&&e.add(this.options.textNodeName,t),t=""),t}function DH(t,e,r){let n="*."+r;for(let i in t){let o=t[i];if(n===o||e===o)return!0}return!1}function MH(t,e,r=">"){let n,i="";for(let o=e;o<t.length;o++){let s=t[o];if(n)s===n&&(n="");else if(s==='"'||s==="'")n=s;else if(s===r[0])if(r[1]){if(t[o+1]===r[1])return{data:i,index:o}}else return{data:i,index:o};else s==="	"&&(s=" ");i+=s}}function Si(t,e,r,n){let i=t.indexOf(e,r);if(i===-1)throw new Error(n);return i+e.length-1}function mE(t,e,r,n=">"){let i=MH(t,e+1,n);if(!i)return;let o=i.data,s=i.index,a=o.search(/\s/),d=o,l=!0;if(a!==-1&&(d=o.substr(0,a).replace(/\s\s*$/,""),o=o.substr(a+1)),r){let p=d.indexOf(":");p!==-1&&(d=d.substr(p+1),l=d!==i.data.substr(p+1))}return{tagName:d,tagExp:o,closeIndex:s,attrExpPresent:l}}function kH(t,e,r){let n=r,i=1;for(;r<t.length;r++)if(t[r]==="<")if(t[r+1]==="/"){let o=Si(t,">",r,`${e} is not closed`);if(t.substring(r+2,o).trim()===e&&(i--,i===0))return{tagContent:t.substring(n,r),i:o};r=o}else if(t[r+1]==="?")r=Si(t,"?>",r+1,"StopNode is not closed.");else if(t.substr(r+1,3)==="!--")r=Si(t,"-->",r+3,"StopNode is not closed.");else if(t.substr(r+1,2)==="![")r=Si(t,"]]>",r,"StopNode is not closed.")-2;else{let o=mE(t,r,">");o&&((o&&o.tagName)===e&&o.tagExp[o.tagExp.length-1]!=="/"&&i++,r=o.closeIndex)}}function hE(t,e,r){if(e&&typeof t=="string"){let n=t.trim();return n==="true"?!0:n==="false"?!1:xH(t,r)}else return _E.isExist(t)?t:""}tP.exports=fE});var oP=c(iP=>{"use strict";function FH(t,e){return nP(t,e)}function nP(t,e,r){let n,i={};for(let o=0;o<t.length;o++){let s=t[o],a=LH(s),d="";if(r===void 0?d=a:d=r+"."+a,a===e.textNodeName)n===void 0?n=s[a]:n+=""+s[a];else{if(a===void 0)continue;if(s[a]){let l=nP(s[a],e,d),p=jH(l,e);s[":@"]?UH(l,s[":@"],d,e):Object.keys(l).length===1&&l[e.textNodeName]!==void 0&&!e.alwaysCreateTextNode?l=l[e.textNodeName]:Object.keys(l).length===0&&(e.alwaysCreateTextNode?l[e.textNodeName]="":l=""),i[a]!==void 0&&i.hasOwnProperty(a)?(Array.isArray(i[a])||(i[a]=[i[a]]),i[a].push(l)):e.isArray(a,d,p)?i[a]=[l]:i[a]=l}}}return typeof n=="string"?n.length>0&&(i[e.textNodeName]=n):n!==void 0&&(i[e.textNodeName]=n),i}function LH(t){let e=Object.keys(t);for(let r=0;r<e.length;r++){let n=e[r];if(n!==":@")return n}}function UH(t,e,r,n){if(e){let i=Object.keys(e),o=i.length;for(let s=0;s<o;s++){let a=i[s];n.isArray(a,r+"."+a,!0,!0)?t[a]=[e[a]]:t[a]=e[a]}}}function jH(t,e){let{textNodeName:r}=e,n=Object.keys(t).length;return!!(n===0||n===1&&(t[r]||typeof t[r]=="boolean"||t[r]===0))}iP.prettify=FH});var aP=c((fEe,sP)=>{var{buildOptions:WH}=KT(),BH=rP(),{prettify:VH}=oP(),$H=uE(),yE=class{constructor(e){this.externalEntities={},this.options=WH(e)}parse(e,r){if(typeof e!="string")if(e.toString)e=e.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let o=$H.validate(e,r);if(o!==!0)throw Error(`${o.err.msg}:${o.err.line}:${o.err.col}`)}let n=new BH(this.options);n.addExternalEntities(this.externalEntities);let i=n.parseXml(e);return this.options.preserveOrder||i===void 0?i:VH(i,this.options)}addEntity(e,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(e.indexOf("&")!==-1||e.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=r}};sP.exports=yE});var pP=c((mEe,lP)=>{var zH=`
`;function HH(t,e){let r="";return e.format&&e.indentBy.length>0&&(r=zH),dP(t,e,"",r)}function dP(t,e,r,n){let i="",o=!1;for(let s=0;s<t.length;s++){let a=t[s],d=GH(a),l="";if(r.length===0?l=d:l=`${r}.${d}`,d===e.textNodeName){let _=a[d];KH(l,e)||(_=e.tagValueProcessor(d,_),_=uP(_,e)),o&&(i+=n),i+=_,o=!1;continue}else if(d===e.cdataPropName){o&&(i+=n),i+=`<![CDATA[${a[d][0][e.textNodeName]}]]>`,o=!1;continue}else if(d===e.commentPropName){i+=n+`<!--${a[d][0][e.textNodeName]}-->`,o=!0;continue}else if(d[0]==="?"){let _=cP(a[":@"],e),E=d==="?xml"?"":n,v=a[d][0][e.textNodeName];v=v.length!==0?" "+v:"",i+=E+`<${d}${v}${_}?>`,o=!0;continue}let p=n;p!==""&&(p+=e.indentBy);let f=cP(a[":@"],e),m=n+`<${d}${f}`,h=dP(a[d],e,l,p);e.unpairedTags.indexOf(d)!==-1?e.suppressUnpairedNode?i+=m+">":i+=m+"/>":(!h||h.length===0)&&e.suppressEmptyNode?i+=m+"/>":h&&h.endsWith(">")?i+=m+`>${h}${n}</${d}>`:(i+=m+">",h&&n!==""&&(h.includes("/>")||h.includes("</"))?i+=n+e.indentBy+h+n:i+=h,i+=`</${d}>`),o=!0}return i}function GH(t){let e=Object.keys(t);for(let r=0;r<e.length;r++){let n=e[r];if(n!==":@")return n}}function cP(t,e){let r="";if(t&&!e.ignoreAttributes)for(let n in t){let i=e.attributeValueProcessor(n,t[n]);i=uP(i,e),i===!0&&e.suppressBooleanAttributes?r+=` ${n.substr(e.attributeNamePrefix.length)}`:r+=` ${n.substr(e.attributeNamePrefix.length)}="${i}"`}return r}function KH(t,e){t=t.substr(0,t.length-e.textNodeName.length-1);let r=t.substr(t.lastIndexOf(".")+1);for(let n in e.stopNodes)if(e.stopNodes[n]===t||e.stopNodes[n]==="*."+r)return!0;return!1}function uP(t,e){if(t&&t.length>0&&e.processEntities)for(let r=0;r<e.entities.length;r++){let n=e.entities[r];t=t.replace(n.regex,n.val)}return t}lP.exports=HH});var mP=c((hEe,fP)=>{"use strict";var QH=pP(),YH={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function On(t){this.options=Object.assign({},YH,t),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=ZH),this.processTextOrObjNode=JH,this.options.format?(this.indentate=XH,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}On.prototype.build=function(t){return this.options.preserveOrder?QH(t,this.options):(Array.isArray(t)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(t={[this.options.arrayNodeName]:t}),this.j2x(t,0).val)};On.prototype.j2x=function(t,e){let r="",n="";for(let i in t)if(!(typeof t[i]>"u"))if(t[i]===null)i[0]==="?"?n+=this.indentate(e)+"<"+i+"?"+this.tagEndChar:n+=this.indentate(e)+"<"+i+"/"+this.tagEndChar;else if(t[i]instanceof Date)n+=this.buildTextValNode(t[i],i,"",e);else if(typeof t[i]!="object"){let o=this.isAttribute(i);if(o)r+=this.buildAttrPairStr(o,""+t[i]);else if(i===this.options.textNodeName){let s=this.options.tagValueProcessor(i,""+t[i]);n+=this.replaceEntitiesValue(s)}else n+=this.buildTextValNode(t[i],i,"",e)}else if(Array.isArray(t[i])){let o=t[i].length,s="";for(let a=0;a<o;a++){let d=t[i][a];typeof d>"u"||(d===null?i[0]==="?"?n+=this.indentate(e)+"<"+i+"?"+this.tagEndChar:n+=this.indentate(e)+"<"+i+"/"+this.tagEndChar:typeof d=="object"?this.options.oneListGroup?s+=this.j2x(d,e+1).val:s+=this.processTextOrObjNode(d,i,e):s+=this.buildTextValNode(d,i,"",e))}this.options.oneListGroup&&(s=this.buildObjectNode(s,i,"",e)),n+=s}else if(this.options.attributesGroupName&&i===this.options.attributesGroupName){let o=Object.keys(t[i]),s=o.length;for(let a=0;a<s;a++)r+=this.buildAttrPairStr(o[a],""+t[i][o[a]])}else n+=this.processTextOrObjNode(t[i],i,e);return{attrStr:r,val:n}};On.prototype.buildAttrPairStr=function(t,e){return e=this.options.attributeValueProcessor(t,""+e),e=this.replaceEntitiesValue(e),this.options.suppressBooleanAttributes&&e==="true"?" "+t:" "+t+'="'+e+'"'};function JH(t,e,r){let n=this.j2x(t,r+1);return t[this.options.textNodeName]!==void 0&&Object.keys(t).length===1?this.buildTextValNode(t[this.options.textNodeName],e,n.attrStr,r):this.buildObjectNode(n.val,e,n.attrStr,r)}On.prototype.buildObjectNode=function(t,e,r,n){if(t==="")return e[0]==="?"?this.indentate(n)+"<"+e+r+"?"+this.tagEndChar:this.indentate(n)+"<"+e+r+this.closeTag(e)+this.tagEndChar;{let i="</"+e+this.tagEndChar,o="";return e[0]==="?"&&(o="?",i=""),r&&t.indexOf("<")===-1?this.indentate(n)+"<"+e+r+o+">"+t+i:this.options.commentPropName!==!1&&e===this.options.commentPropName&&o.length===0?this.indentate(n)+`<!--${t}-->`+this.newLine:this.indentate(n)+"<"+e+r+o+this.tagEndChar+t+this.indentate(n)+i}};On.prototype.closeTag=function(t){let e="";return this.options.unpairedTags.indexOf(t)!==-1?this.options.suppressUnpairedNode||(e="/"):this.options.suppressEmptyNode?e="/":e=`></${t}`,e};On.prototype.buildTextValNode=function(t,e,r,n){if(this.options.cdataPropName!==!1&&e===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${t}]]>`+this.newLine;if(this.options.commentPropName!==!1&&e===this.options.commentPropName)return this.indentate(n)+`<!--${t}-->`+this.newLine;if(e[0]==="?")return this.indentate(n)+"<"+e+r+"?"+this.tagEndChar;{let i=this.options.tagValueProcessor(e,t);return i=this.replaceEntitiesValue(i),i===""?this.indentate(n)+"<"+e+r+this.closeTag(e)+this.tagEndChar:this.indentate(n)+"<"+e+r+">"+i+"</"+e+this.tagEndChar}};On.prototype.replaceEntitiesValue=function(t){if(t&&t.length>0&&this.options.processEntities)for(let e=0;e<this.options.entities.length;e++){let r=this.options.entities[e];t=t.replace(r.regex,r.val)}return t};function XH(t){return this.options.indentBy.repeat(t)}function ZH(t){return t.startsWith(this.options.attributeNamePrefix)?t.substr(this.attrPrefixLen):!1}fP.exports=On});var _P=c((_Ee,hP)=>{"use strict";var eG=uE(),tG=aP(),rG=mP();hP.exports={XMLParser:tG,XMLValidator:eG,XMLBuilder:rG}});var Wr=c(W=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0});W.de_GetSessionTokenCommand=W.de_GetFederationTokenCommand=W.de_GetCallerIdentityCommand=W.de_GetAccessKeyInfoCommand=W.de_DecodeAuthorizationMessageCommand=W.de_AssumeRoleWithWebIdentityCommand=W.de_AssumeRoleWithSAMLCommand=W.de_AssumeRoleCommand=W.se_GetSessionTokenCommand=W.se_GetFederationTokenCommand=W.se_GetCallerIdentityCommand=W.se_GetAccessKeyInfoCommand=W.se_DecodeAuthorizationMessageCommand=W.se_AssumeRoleWithWebIdentityCommand=W.se_AssumeRoleWithSAMLCommand=W.se_AssumeRoleCommand=void 0;var nG=ve(),P=A(),iG=_P(),An=Cn(),oG=pf(),sG=async(t,e)=>{let r=In,n;return n=qn({...RG(t,e),Action:"AssumeRole",Version:"2011-06-15"}),Pn(e,r,"/",void 0,n)};W.se_AssumeRoleCommand=sG;var aG=async(t,e)=>{let r=In,n;return n=qn({...qG(t,e),Action:"AssumeRoleWithSAML",Version:"2011-06-15"}),Pn(e,r,"/",void 0,n)};W.se_AssumeRoleWithSAMLCommand=aG;var cG=async(t,e)=>{let r=In,n;return n=qn({...DG(t,e),Action:"AssumeRoleWithWebIdentity",Version:"2011-06-15"}),Pn(e,r,"/",void 0,n)};W.se_AssumeRoleWithWebIdentityCommand=cG;var dG=async(t,e)=>{let r=In,n;return n=qn({...MG(t,e),Action:"DecodeAuthorizationMessage",Version:"2011-06-15"}),Pn(e,r,"/",void 0,n)};W.se_DecodeAuthorizationMessageCommand=dG;var uG=async(t,e)=>{let r=In,n;return n=qn({...kG(t,e),Action:"GetAccessKeyInfo",Version:"2011-06-15"}),Pn(e,r,"/",void 0,n)};W.se_GetAccessKeyInfoCommand=uG;var lG=async(t,e)=>{let r=In,n;return n=qn({...FG(t,e),Action:"GetCallerIdentity",Version:"2011-06-15"}),Pn(e,r,"/",void 0,n)};W.se_GetCallerIdentityCommand=lG;var pG=async(t,e)=>{let r=In,n;return n=qn({...LG(t,e),Action:"GetFederationToken",Version:"2011-06-15"}),Pn(e,r,"/",void 0,n)};W.se_GetFederationTokenCommand=pG;var fG=async(t,e)=>{let r=In,n;return n=qn({...UG(t,e),Action:"GetSessionToken",Version:"2011-06-15"}),Pn(e,r,"/",void 0,n)};W.se_GetSessionTokenCommand=fG;var mG=async(t,e)=>{if(t.statusCode>=300)return hG(t,e);let r=await jr(t.body,e),n={};return n=zG(r.AssumeRoleResult,e),{$metadata:ke(t),...n}};W.de_AssumeRoleCommand=mG;var hG=async(t,e)=>{let r={...t,body:await Rn(t.body,e)},n=Dn(t,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await gE(r,e);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await mf(r,e);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await hf(r,e);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await cc(r,e);default:let i=r.body;return Tn({output:t,parsedBody:i.Error,errorCode:n})}},_G=async(t,e)=>{if(t.statusCode>=300)return yG(t,e);let r=await jr(t.body,e),n={};return n=HG(r.AssumeRoleWithSAMLResult,e),{$metadata:ke(t),...n}};W.de_AssumeRoleWithSAMLCommand=_G;var yG=async(t,e)=>{let r={...t,body:await Rn(t.body,e)},n=Dn(t,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await gE(r,e);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await yP(r,e);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await gP(r,e);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await mf(r,e);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await hf(r,e);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await cc(r,e);default:let i=r.body;return Tn({output:t,parsedBody:i.Error,errorCode:n})}},gG=async(t,e)=>{if(t.statusCode>=300)return EG(t,e);let r=await jr(t.body,e),n={};return n=GG(r.AssumeRoleWithWebIdentityResult,e),{$metadata:ke(t),...n}};W.de_AssumeRoleWithWebIdentityCommand=gG;var EG=async(t,e)=>{let r={...t,body:await Rn(t.body,e)},n=Dn(t,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await gE(r,e);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await PG(r,e);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await yP(r,e);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await gP(r,e);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await mf(r,e);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await hf(r,e);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await cc(r,e);default:let i=r.body;return Tn({output:t,parsedBody:i.Error,errorCode:n})}},vG=async(t,e)=>{if(t.statusCode>=300)return SG(t,e);let r=await jr(t.body,e),n={};return n=KG(r.DecodeAuthorizationMessageResult,e),{$metadata:ke(t),...n}};W.de_DecodeAuthorizationMessageCommand=vG;var SG=async(t,e)=>{let r={...t,body:await Rn(t.body,e)},n=Dn(t,r.body);switch(n){case"InvalidAuthorizationMessageException":case"com.amazonaws.sts#InvalidAuthorizationMessageException":throw await IG(r,e);default:let i=r.body;return Tn({output:t,parsedBody:i.Error,errorCode:n})}},wG=async(t,e)=>{if(t.statusCode>=300)return NG(t,e);let r=await jr(t.body,e),n={};return n=JG(r.GetAccessKeyInfoResult,e),{$metadata:ke(t),...n}};W.de_GetAccessKeyInfoCommand=wG;var NG=async(t,e)=>{let r={...t,body:await Rn(t.body,e)},n=Dn(t,r.body),i=r.body;return Tn({output:t,parsedBody:i.Error,errorCode:n})},xG=async(t,e)=>{if(t.statusCode>=300)return bG(t,e);let r=await jr(t.body,e),n={};return n=XG(r.GetCallerIdentityResult,e),{$metadata:ke(t),...n}};W.de_GetCallerIdentityCommand=xG;var bG=async(t,e)=>{let r={...t,body:await Rn(t.body,e)},n=Dn(t,r.body),i=r.body;return Tn({output:t,parsedBody:i.Error,errorCode:n})},CG=async(t,e)=>{if(t.statusCode>=300)return OG(t,e);let r=await jr(t.body,e),n={};return n=ZG(r.GetFederationTokenResult,e),{$metadata:ke(t),...n}};W.de_GetFederationTokenCommand=CG;var OG=async(t,e)=>{let r={...t,body:await Rn(t.body,e)},n=Dn(t,r.body);switch(n){case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await mf(r,e);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await hf(r,e);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await cc(r,e);default:let i=r.body;return Tn({output:t,parsedBody:i.Error,errorCode:n})}},AG=async(t,e)=>{if(t.statusCode>=300)return TG(t,e);let r=await jr(t.body,e),n={};return n=e3(r.GetSessionTokenResult,e),{$metadata:ke(t),...n}};W.de_GetSessionTokenCommand=AG;var TG=async(t,e)=>{let r={...t,body:await Rn(t.body,e)},n=Dn(t,r.body);switch(n){case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await cc(r,e);default:let i=r.body;return Tn({output:t,parsedBody:i.Error,errorCode:n})}},gE=async(t,e)=>{let r=t.body,n=QG(r.Error,e),i=new An.ExpiredTokenException({$metadata:ke(t),...n});return(0,P.decorateServiceException)(i,r)},PG=async(t,e)=>{let r=t.body,n=t3(r.Error,e),i=new An.IDPCommunicationErrorException({$metadata:ke(t),...n});return(0,P.decorateServiceException)(i,r)},yP=async(t,e)=>{let r=t.body,n=r3(r.Error,e),i=new An.IDPRejectedClaimException({$metadata:ke(t),...n});return(0,P.decorateServiceException)(i,r)},IG=async(t,e)=>{let r=t.body,n=n3(r.Error,e),i=new An.InvalidAuthorizationMessageException({$metadata:ke(t),...n});return(0,P.decorateServiceException)(i,r)},gP=async(t,e)=>{let r=t.body,n=i3(r.Error,e),i=new An.InvalidIdentityTokenException({$metadata:ke(t),...n});return(0,P.decorateServiceException)(i,r)},mf=async(t,e)=>{let r=t.body,n=o3(r.Error,e),i=new An.MalformedPolicyDocumentException({$metadata:ke(t),...n});return(0,P.decorateServiceException)(i,r)},hf=async(t,e)=>{let r=t.body,n=s3(r.Error,e),i=new An.PackedPolicyTooLargeException({$metadata:ke(t),...n});return(0,P.decorateServiceException)(i,r)},cc=async(t,e)=>{let r=t.body,n=a3(r.Error,e),i=new An.RegionDisabledException({$metadata:ke(t),...n});return(0,P.decorateServiceException)(i,r)},RG=(t,e)=>{let r={};if(t.RoleArn!=null&&(r.RoleArn=t.RoleArn),t.RoleSessionName!=null&&(r.RoleSessionName=t.RoleSessionName),t.PolicyArns!=null){let n=_f(t.PolicyArns,e);t.PolicyArns?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([i,o])=>{let s=`PolicyArns.${i}`;r[s]=o})}if(t.Policy!=null&&(r.Policy=t.Policy),t.DurationSeconds!=null&&(r.DurationSeconds=t.DurationSeconds),t.Tags!=null){let n=EP(t.Tags,e);t.Tags?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([i,o])=>{let s=`Tags.${i}`;r[s]=o})}if(t.TransitiveTagKeys!=null){let n=$G(t.TransitiveTagKeys,e);t.TransitiveTagKeys?.length===0&&(r.TransitiveTagKeys=[]),Object.entries(n).forEach(([i,o])=>{let s=`TransitiveTagKeys.${i}`;r[s]=o})}if(t.ExternalId!=null&&(r.ExternalId=t.ExternalId),t.SerialNumber!=null&&(r.SerialNumber=t.SerialNumber),t.TokenCode!=null&&(r.TokenCode=t.TokenCode),t.SourceIdentity!=null&&(r.SourceIdentity=t.SourceIdentity),t.ProvidedContexts!=null){let n=BG(t.ProvidedContexts,e);t.ProvidedContexts?.length===0&&(r.ProvidedContexts=[]),Object.entries(n).forEach(([i,o])=>{let s=`ProvidedContexts.${i}`;r[s]=o})}return r},qG=(t,e)=>{let r={};if(t.RoleArn!=null&&(r.RoleArn=t.RoleArn),t.PrincipalArn!=null&&(r.PrincipalArn=t.PrincipalArn),t.SAMLAssertion!=null&&(r.SAMLAssertion=t.SAMLAssertion),t.PolicyArns!=null){let n=_f(t.PolicyArns,e);t.PolicyArns?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([i,o])=>{let s=`PolicyArns.${i}`;r[s]=o})}return t.Policy!=null&&(r.Policy=t.Policy),t.DurationSeconds!=null&&(r.DurationSeconds=t.DurationSeconds),r},DG=(t,e)=>{let r={};if(t.RoleArn!=null&&(r.RoleArn=t.RoleArn),t.RoleSessionName!=null&&(r.RoleSessionName=t.RoleSessionName),t.WebIdentityToken!=null&&(r.WebIdentityToken=t.WebIdentityToken),t.ProviderId!=null&&(r.ProviderId=t.ProviderId),t.PolicyArns!=null){let n=_f(t.PolicyArns,e);t.PolicyArns?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([i,o])=>{let s=`PolicyArns.${i}`;r[s]=o})}return t.Policy!=null&&(r.Policy=t.Policy),t.DurationSeconds!=null&&(r.DurationSeconds=t.DurationSeconds),r},MG=(t,e)=>{let r={};return t.EncodedMessage!=null&&(r.EncodedMessage=t.EncodedMessage),r},kG=(t,e)=>{let r={};return t.AccessKeyId!=null&&(r.AccessKeyId=t.AccessKeyId),r},FG=(t,e)=>({}),LG=(t,e)=>{let r={};if(t.Name!=null&&(r.Name=t.Name),t.Policy!=null&&(r.Policy=t.Policy),t.PolicyArns!=null){let n=_f(t.PolicyArns,e);t.PolicyArns?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([i,o])=>{let s=`PolicyArns.${i}`;r[s]=o})}if(t.DurationSeconds!=null&&(r.DurationSeconds=t.DurationSeconds),t.Tags!=null){let n=EP(t.Tags,e);t.Tags?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([i,o])=>{let s=`Tags.${i}`;r[s]=o})}return r},UG=(t,e)=>{let r={};return t.DurationSeconds!=null&&(r.DurationSeconds=t.DurationSeconds),t.SerialNumber!=null&&(r.SerialNumber=t.SerialNumber),t.TokenCode!=null&&(r.TokenCode=t.TokenCode),r},_f=(t,e)=>{let r={},n=1;for(let i of t){if(i===null)continue;let o=jG(i,e);Object.entries(o).forEach(([s,a])=>{r[`member.${n}.${s}`]=a}),n++}return r},jG=(t,e)=>{let r={};return t.arn!=null&&(r.arn=t.arn),r},WG=(t,e)=>{let r={};return t.ProviderArn!=null&&(r.ProviderArn=t.ProviderArn),t.ContextAssertion!=null&&(r.ContextAssertion=t.ContextAssertion),r},BG=(t,e)=>{let r={},n=1;for(let i of t){if(i===null)continue;let o=WG(i,e);Object.entries(o).forEach(([s,a])=>{r[`member.${n}.${s}`]=a}),n++}return r},VG=(t,e)=>{let r={};return t.Key!=null&&(r.Key=t.Key),t.Value!=null&&(r.Value=t.Value),r},$G=(t,e)=>{let r={},n=1;for(let i of t)i!==null&&(r[`member.${n}`]=i,n++);return r},EP=(t,e)=>{let r={},n=1;for(let i of t){if(i===null)continue;let o=VG(i,e);Object.entries(o).forEach(([s,a])=>{r[`member.${n}.${s}`]=a}),n++}return r},EE=(t,e)=>{let r={};return t.AssumedRoleId!==void 0&&(r.AssumedRoleId=(0,P.expectString)(t.AssumedRoleId)),t.Arn!==void 0&&(r.Arn=(0,P.expectString)(t.Arn)),r},zG=(t,e)=>{let r={};return t.Credentials!==void 0&&(r.Credentials=dc(t.Credentials,e)),t.AssumedRoleUser!==void 0&&(r.AssumedRoleUser=EE(t.AssumedRoleUser,e)),t.PackedPolicySize!==void 0&&(r.PackedPolicySize=(0,P.strictParseInt32)(t.PackedPolicySize)),t.SourceIdentity!==void 0&&(r.SourceIdentity=(0,P.expectString)(t.SourceIdentity)),r},HG=(t,e)=>{let r={};return t.Credentials!==void 0&&(r.Credentials=dc(t.Credentials,e)),t.AssumedRoleUser!==void 0&&(r.AssumedRoleUser=EE(t.AssumedRoleUser,e)),t.PackedPolicySize!==void 0&&(r.PackedPolicySize=(0,P.strictParseInt32)(t.PackedPolicySize)),t.Subject!==void 0&&(r.Subject=(0,P.expectString)(t.Subject)),t.SubjectType!==void 0&&(r.SubjectType=(0,P.expectString)(t.SubjectType)),t.Issuer!==void 0&&(r.Issuer=(0,P.expectString)(t.Issuer)),t.Audience!==void 0&&(r.Audience=(0,P.expectString)(t.Audience)),t.NameQualifier!==void 0&&(r.NameQualifier=(0,P.expectString)(t.NameQualifier)),t.SourceIdentity!==void 0&&(r.SourceIdentity=(0,P.expectString)(t.SourceIdentity)),r},GG=(t,e)=>{let r={};return t.Credentials!==void 0&&(r.Credentials=dc(t.Credentials,e)),t.SubjectFromWebIdentityToken!==void 0&&(r.SubjectFromWebIdentityToken=(0,P.expectString)(t.SubjectFromWebIdentityToken)),t.AssumedRoleUser!==void 0&&(r.AssumedRoleUser=EE(t.AssumedRoleUser,e)),t.PackedPolicySize!==void 0&&(r.PackedPolicySize=(0,P.strictParseInt32)(t.PackedPolicySize)),t.Provider!==void 0&&(r.Provider=(0,P.expectString)(t.Provider)),t.Audience!==void 0&&(r.Audience=(0,P.expectString)(t.Audience)),t.SourceIdentity!==void 0&&(r.SourceIdentity=(0,P.expectString)(t.SourceIdentity)),r},dc=(t,e)=>{let r={};return t.AccessKeyId!==void 0&&(r.AccessKeyId=(0,P.expectString)(t.AccessKeyId)),t.SecretAccessKey!==void 0&&(r.SecretAccessKey=(0,P.expectString)(t.SecretAccessKey)),t.SessionToken!==void 0&&(r.SessionToken=(0,P.expectString)(t.SessionToken)),t.Expiration!==void 0&&(r.Expiration=(0,P.expectNonNull)((0,P.parseRfc3339DateTimeWithOffset)(t.Expiration))),r},KG=(t,e)=>{let r={};return t.DecodedMessage!==void 0&&(r.DecodedMessage=(0,P.expectString)(t.DecodedMessage)),r},QG=(t,e)=>{let r={};return t.message!==void 0&&(r.message=(0,P.expectString)(t.message)),r},YG=(t,e)=>{let r={};return t.FederatedUserId!==void 0&&(r.FederatedUserId=(0,P.expectString)(t.FederatedUserId)),t.Arn!==void 0&&(r.Arn=(0,P.expectString)(t.Arn)),r},JG=(t,e)=>{let r={};return t.Account!==void 0&&(r.Account=(0,P.expectString)(t.Account)),r},XG=(t,e)=>{let r={};return t.UserId!==void 0&&(r.UserId=(0,P.expectString)(t.UserId)),t.Account!==void 0&&(r.Account=(0,P.expectString)(t.Account)),t.Arn!==void 0&&(r.Arn=(0,P.expectString)(t.Arn)),r},ZG=(t,e)=>{let r={};return t.Credentials!==void 0&&(r.Credentials=dc(t.Credentials,e)),t.FederatedUser!==void 0&&(r.FederatedUser=YG(t.FederatedUser,e)),t.PackedPolicySize!==void 0&&(r.PackedPolicySize=(0,P.strictParseInt32)(t.PackedPolicySize)),r},e3=(t,e)=>{let r={};return t.Credentials!==void 0&&(r.Credentials=dc(t.Credentials,e)),r},t3=(t,e)=>{let r={};return t.message!==void 0&&(r.message=(0,P.expectString)(t.message)),r},r3=(t,e)=>{let r={};return t.message!==void 0&&(r.message=(0,P.expectString)(t.message)),r},n3=(t,e)=>{let r={};return t.message!==void 0&&(r.message=(0,P.expectString)(t.message)),r},i3=(t,e)=>{let r={};return t.message!==void 0&&(r.message=(0,P.expectString)(t.message)),r},o3=(t,e)=>{let r={};return t.message!==void 0&&(r.message=(0,P.expectString)(t.message)),r},s3=(t,e)=>{let r={};return t.message!==void 0&&(r.message=(0,P.expectString)(t.message)),r},a3=(t,e)=>{let r={};return t.message!==void 0&&(r.message=(0,P.expectString)(t.message)),r},ke=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),c3=(t,e)=>(0,P.collectBody)(t,e).then(r=>e.utf8Encoder(r)),Tn=(0,P.withBaseException)(oG.STSServiceException),Pn=async(t,e,r,n,i)=>{let{hostname:o,protocol:s="https",port:a,path:d}=await t.endpoint(),l={protocol:s,hostname:o,port:a,method:"POST",path:d.endsWith("/")?d.slice(0,-1)+r:d+r,headers:e};return n!==void 0&&(l.hostname=n),i!==void 0&&(l.body=i),new nG.HttpRequest(l)},In={"content-type":"application/x-www-form-urlencoded"},jr=(t,e)=>c3(t,e).then(r=>{if(r.length){let n=new iG.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(d,l)=>l.trim()===""&&l.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let i=n.parse(r),o="#text",s=Object.keys(i)[0],a=i[s];return a[o]&&(a[s]=a[o],delete a[o]),(0,P.getValueFromTextNode)(a)}return{}}),Rn=async(t,e)=>{let r=await jr(t,e);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},qn=t=>Object.entries(t).map(([e,r])=>(0,P.extendedEncodeURIComponent)(e)+"="+(0,P.extendedEncodeURIComponent)(r)).join("&"),Dn=(t,e)=>{if(e.Error?.Code!==void 0)return e.Error.Code;if(t.statusCode==404)return"NotFound"}});var yf=c(Do=>{"use strict";Object.defineProperty(Do,"__esModule",{value:!0});Do.AssumeRoleCommand=Do.$Command=void 0;var d3=Tr(),u3=Q(),l3=se(),SP=A();Object.defineProperty(Do,"$Command",{enumerable:!0,get:function(){return SP.Command}});var p3=$(),f3=Cn(),vP=Wr(),vE=class t extends SP.Command{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use((0,l3.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,u3.getEndpointPlugin)(r,t.getEndpointParameterInstructions())),this.middlewareStack.use((0,d3.getAwsAuthPlugin)(r));let i=e.concat(this.middlewareStack),{logger:o}=r,d={logger:o,clientName:"STSClient",commandName:"AssumeRoleCommand",inputFilterSensitiveLog:p=>p,outputFilterSensitiveLog:f3.AssumeRoleResponseFilterSensitiveLog,[p3.SMITHY_CONTEXT_KEY]:{service:"AWSSecurityTokenServiceV20110615",operation:"AssumeRole"}},{requestHandler:l}=r;return i.resolve(p=>l.handle(p.request,n||{}),d)}serialize(e,r){return(0,vP.se_AssumeRoleCommand)(e,r)}deserialize(e,r){return(0,vP.de_AssumeRoleCommand)(e,r)}};Do.AssumeRoleCommand=vE});var gf=c(Mo=>{"use strict";Object.defineProperty(Mo,"__esModule",{value:!0});Mo.AssumeRoleWithWebIdentityCommand=Mo.$Command=void 0;var m3=Q(),h3=se(),xP=A();Object.defineProperty(Mo,"$Command",{enumerable:!0,get:function(){return xP.Command}});var _3=$(),wP=Cn(),NP=Wr(),SE=class t extends xP.Command{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use((0,h3.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,m3.getEndpointPlugin)(r,t.getEndpointParameterInstructions()));let i=e.concat(this.middlewareStack),{logger:o}=r,d={logger:o,clientName:"STSClient",commandName:"AssumeRoleWithWebIdentityCommand",inputFilterSensitiveLog:wP.AssumeRoleWithWebIdentityRequestFilterSensitiveLog,outputFilterSensitiveLog:wP.AssumeRoleWithWebIdentityResponseFilterSensitiveLog,[_3.SMITHY_CONTEXT_KEY]:{service:"AWSSecurityTokenServiceV20110615",operation:"AssumeRoleWithWebIdentity"}},{requestHandler:l}=r;return i.resolve(p=>l.handle(p.request,n||{}),d)}serialize(e,r){return(0,NP.se_AssumeRoleWithWebIdentityCommand)(e,r)}deserialize(e,r){return(0,NP.de_AssumeRoleWithWebIdentityCommand)(e,r)}};Mo.AssumeRoleWithWebIdentityCommand=SE});var wE=c(rr=>{"use strict";Object.defineProperty(rr,"__esModule",{value:!0});rr.decorateDefaultCredentialProvider=rr.getDefaultRoleAssumerWithWebIdentity=rr.getDefaultRoleAssumer=void 0;var y3=yf(),g3=gf(),bP="us-east-1",CP=t=>typeof t!="function"?t===void 0?bP:t:async()=>{try{return await t()}catch{return bP}},E3=(t,e)=>{let r,n;return async(i,o)=>{if(n=i,!r){let{logger:a,region:d,requestHandler:l}=t;r=new e({logger:a,credentialDefaultProvider:()=>async()=>n,region:CP(d||t.region),...l?{requestHandler:l}:{}})}let{Credentials:s}=await r.send(new y3.AssumeRoleCommand(o));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${o.RoleArn}`);return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration}}};rr.getDefaultRoleAssumer=E3;var v3=(t,e)=>{let r;return async n=>{if(!r){let{logger:o,region:s,requestHandler:a}=t;r=new e({logger:o,region:CP(s||t.region),...a?{requestHandler:a}:{}})}let{Credentials:i}=await r.send(new g3.AssumeRoleWithWebIdentityCommand(n));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);return{accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration}}};rr.getDefaultRoleAssumerWithWebIdentity=v3;var S3=t=>e=>t({roleAssumer:(0,rr.getDefaultRoleAssumer)(e,e.stsClientCtor),roleAssumerWithWebIdentity:(0,rr.getDefaultRoleAssumerWithWebIdentity)(e,e.stsClientCtor),...e});rr.decorateDefaultCredentialProvider=S3});var AP=c(Ef=>{"use strict";Object.defineProperty(Ef,"__esModule",{value:!0});Ef.emitWarningIfUnsupportedVersion=void 0;var OP=!1,w3=t=>{t&&!OP&&parseInt(t.substring(1,t.indexOf(".")))<16&&(OP=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 14.x on May 1, 2024.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to an active Node.js LTS version.

More information can be found at: https://a.co/dzr2AJd`))};Ef.emitWarningIfUnsupportedVersion=w3});var TP=c(NE=>{"use strict";Object.defineProperty(NE,"__esModule",{value:!0});var N3=(x(),S(N));N3.__exportStar(AP(),NE)});var PP=c(Mn=>{"use strict";Object.defineProperty(Mn,"__esModule",{value:!0});Mn._toNum=Mn._toBool=Mn._toStr=void 0;var x3=t=>{if(t==null)return t;if(typeof t=="number"||typeof t=="bigint"){let e=new Error(`Received number ${t} where a string was expected.`);return e.name="Warning",console.warn(e),String(t)}if(typeof t=="boolean"){let e=new Error(`Received boolean ${t} where a string was expected.`);return e.name="Warning",console.warn(e),String(t)}return t};Mn._toStr=x3;var b3=t=>{if(t==null)return t;if(typeof t=="string"){let e=t.toLowerCase();if(t!==""&&e!=="false"&&e!=="true"){let r=new Error(`Received string "${t}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return t!==""&&e!=="false"}return t};Mn._toBool=b3;var C3=t=>{if(t==null)return t;if(typeof t=="string"){let e=Number(t);if(e.toString()!==t){let r=new Error(`Received string "${t}" where a number was expected.`);return r.name="Warning",console.warn(r),t}return e}return t};Mn._toNum=C3});var IP=c(vf=>{"use strict";Object.defineProperty(vf,"__esModule",{value:!0});vf.awsExpectUnion=void 0;var O3=A(),A3=t=>{if(t!=null)return typeof t=="object"&&"__type"in t&&delete t.__type,(0,O3.expectUnion)(t)};vf.awsExpectUnion=A3});var qP=c(Sf=>{"use strict";Object.defineProperty(Sf,"__esModule",{value:!0});var RP=(x(),S(N));RP.__exportStar(PP(),Sf);RP.__exportStar(IP(),Sf)});var uc=c(wf=>{"use strict";Object.defineProperty(wf,"__esModule",{value:!0});var DP=(x(),S(N));DP.__exportStar(TP(),wf);DP.__exportStar(qP(),wf)});var MP=c(Fe=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});Fe.fromEnv=Fe.ENV_EXPIRATION=Fe.ENV_SESSION=Fe.ENV_SECRET=Fe.ENV_KEY=void 0;var T3=G();Fe.ENV_KEY="AWS_ACCESS_KEY_ID";Fe.ENV_SECRET="AWS_SECRET_ACCESS_KEY";Fe.ENV_SESSION="AWS_SESSION_TOKEN";Fe.ENV_EXPIRATION="AWS_CREDENTIAL_EXPIRATION";var P3=()=>async()=>{let t=process.env[Fe.ENV_KEY],e=process.env[Fe.ENV_SECRET],r=process.env[Fe.ENV_SESSION],n=process.env[Fe.ENV_EXPIRATION];if(t&&e)return{accessKeyId:t,secretAccessKey:e,...r&&{sessionToken:r},...n&&{expiration:new Date(n)}};throw new T3.CredentialsProviderError("Unable to find environment variable credentials.")};Fe.fromEnv=P3});var bE=c(xE=>{"use strict";Object.defineProperty(xE,"__esModule",{value:!0});var I3=(x(),S(N));I3.__exportStar(MP(),xE)});var xf=c(Nf=>{"use strict";Object.defineProperty(Nf,"__esModule",{value:!0});Nf.httpRequest=void 0;var CE=G(),R3=M("buffer"),q3=M("http");function D3(t){return new Promise((e,r)=>{var n;let i=(0,q3.request)({method:"GET",...t,hostname:(n=t.hostname)===null||n===void 0?void 0:n.replace(/^\[(.+)\]$/,"$1")});i.on("error",o=>{r(Object.assign(new CE.ProviderError("Unable to connect to instance metadata service"),o)),i.destroy()}),i.on("timeout",()=>{r(new CE.ProviderError("TimeoutError from instance metadata service")),i.destroy()}),i.on("response",o=>{let{statusCode:s=400}=o;(s<200||300<=s)&&(r(Object.assign(new CE.ProviderError("Error response received from instance metadata service"),{statusCode:s})),i.destroy());let a=[];o.on("data",d=>{a.push(d)}),o.on("end",()=>{e(R3.Buffer.concat(a)),i.destroy()})}),i.end()})}Nf.httpRequest=D3});var OE=c(ko=>{"use strict";Object.defineProperty(ko,"__esModule",{value:!0});ko.fromImdsCredentials=ko.isImdsCredentials=void 0;var M3=t=>!!t&&typeof t=="object"&&typeof t.AccessKeyId=="string"&&typeof t.SecretAccessKey=="string"&&typeof t.Token=="string"&&typeof t.Expiration=="string";ko.isImdsCredentials=M3;var k3=t=>({accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,sessionToken:t.Token,expiration:new Date(t.Expiration)});ko.fromImdsCredentials=k3});var bf=c(nr=>{"use strict";Object.defineProperty(nr,"__esModule",{value:!0});nr.providerConfigFromInit=nr.DEFAULT_MAX_RETRIES=nr.DEFAULT_TIMEOUT=void 0;nr.DEFAULT_TIMEOUT=1e3;nr.DEFAULT_MAX_RETRIES=0;var F3=({maxRetries:t=nr.DEFAULT_MAX_RETRIES,timeout:e=nr.DEFAULT_TIMEOUT})=>({maxRetries:t,timeout:e});nr.providerConfigFromInit=F3});var AE=c(Cf=>{"use strict";Object.defineProperty(Cf,"__esModule",{value:!0});Cf.retry=void 0;var L3=(t,e)=>{let r=t();for(let n=0;n<e;n++)r=r.catch(t);return r};Cf.retry=L3});var FP=c(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.fromContainerMetadata=Ne.ENV_CMDS_AUTH_TOKEN=Ne.ENV_CMDS_RELATIVE_URI=Ne.ENV_CMDS_FULL_URI=void 0;var Of=G(),U3=M("url"),j3=xf(),kP=OE(),W3=bf(),B3=AE();Ne.ENV_CMDS_FULL_URI="AWS_CONTAINER_CREDENTIALS_FULL_URI";Ne.ENV_CMDS_RELATIVE_URI="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI";Ne.ENV_CMDS_AUTH_TOKEN="AWS_CONTAINER_AUTHORIZATION_TOKEN";var V3=(t={})=>{let{timeout:e,maxRetries:r}=(0,W3.providerConfigFromInit)(t);return()=>(0,B3.retry)(async()=>{let n=await K3(),i=JSON.parse(await $3(e,n));if(!(0,kP.isImdsCredentials)(i))throw new Of.CredentialsProviderError("Invalid response received from instance metadata service.");return(0,kP.fromImdsCredentials)(i)},r)};Ne.fromContainerMetadata=V3;var $3=async(t,e)=>(process.env[Ne.ENV_CMDS_AUTH_TOKEN]&&(e.headers={...e.headers,Authorization:process.env[Ne.ENV_CMDS_AUTH_TOKEN]}),(await(0,j3.httpRequest)({...e,timeout:t})).toString()),z3="169.254.170.2",H3={localhost:!0,"127.0.0.1":!0},G3={"http:":!0,"https:":!0},K3=async()=>{if(process.env[Ne.ENV_CMDS_RELATIVE_URI])return{hostname:z3,path:process.env[Ne.ENV_CMDS_RELATIVE_URI]};if(process.env[Ne.ENV_CMDS_FULL_URI]){let t=(0,U3.parse)(process.env[Ne.ENV_CMDS_FULL_URI]);if(!t.hostname||!(t.hostname in H3))throw new Of.CredentialsProviderError(`${t.hostname} is not a valid container metadata service hostname`,!1);if(!t.protocol||!(t.protocol in G3))throw new Of.CredentialsProviderError(`${t.protocol} is not a valid container metadata service protocol`,!1);return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new Of.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${Ne.ENV_CMDS_RELATIVE_URI} or ${Ne.ENV_CMDS_FULL_URI} environment variable is set`,!1)}});var LP=c(Af=>{"use strict";Object.defineProperty(Af,"__esModule",{value:!0});Af.InstanceMetadataV1FallbackError=void 0;var Q3=G(),TE=class t extends Q3.CredentialsProviderError{constructor(e,r=!0){super(e,r),this.tryNextLink=r,this.name="InstanceMetadataV1FallbackError",Object.setPrototypeOf(this,t.prototype)}};Af.InstanceMetadataV1FallbackError=TE});var UP=c(lc=>{"use strict";Object.defineProperty(lc,"__esModule",{value:!0});lc.Endpoint=void 0;var Y3;(function(t){t.IPv4="http://169.254.169.254",t.IPv6="http://[fd00:ec2::254]"})(Y3=lc.Endpoint||(lc.Endpoint={}))});var jP=c(ir=>{"use strict";Object.defineProperty(ir,"__esModule",{value:!0});ir.ENDPOINT_CONFIG_OPTIONS=ir.CONFIG_ENDPOINT_NAME=ir.ENV_ENDPOINT_NAME=void 0;ir.ENV_ENDPOINT_NAME="AWS_EC2_METADATA_SERVICE_ENDPOINT";ir.CONFIG_ENDPOINT_NAME="ec2_metadata_service_endpoint";ir.ENDPOINT_CONFIG_OPTIONS={environmentVariableSelector:t=>t[ir.ENV_ENDPOINT_NAME],configFileSelector:t=>t[ir.CONFIG_ENDPOINT_NAME],default:void 0}});var PE=c(pc=>{"use strict";Object.defineProperty(pc,"__esModule",{value:!0});pc.EndpointMode=void 0;var J3;(function(t){t.IPv4="IPv4",t.IPv6="IPv6"})(J3=pc.EndpointMode||(pc.EndpointMode={}))});var WP=c(or=>{"use strict";Object.defineProperty(or,"__esModule",{value:!0});or.ENDPOINT_MODE_CONFIG_OPTIONS=or.CONFIG_ENDPOINT_MODE_NAME=or.ENV_ENDPOINT_MODE_NAME=void 0;var X3=PE();or.ENV_ENDPOINT_MODE_NAME="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE";or.CONFIG_ENDPOINT_MODE_NAME="ec2_metadata_service_endpoint_mode";or.ENDPOINT_MODE_CONFIG_OPTIONS={environmentVariableSelector:t=>t[or.ENV_ENDPOINT_MODE_NAME],configFileSelector:t=>t[or.CONFIG_ENDPOINT_MODE_NAME],default:X3.EndpointMode.IPv4}});var RE=c(Tf=>{"use strict";Object.defineProperty(Tf,"__esModule",{value:!0});Tf.getInstanceMetadataEndpoint=void 0;var VP=Pt(),Z3=yn(),BP=UP(),e6=jP(),IE=PE(),t6=WP(),r6=async()=>(0,Z3.parseUrl)(await n6()||await i6());Tf.getInstanceMetadataEndpoint=r6;var n6=async()=>(0,VP.loadConfig)(e6.ENDPOINT_CONFIG_OPTIONS)(),i6=async()=>{let t=await(0,VP.loadConfig)(t6.ENDPOINT_MODE_CONFIG_OPTIONS)();switch(t){case IE.EndpointMode.IPv4:return BP.Endpoint.IPv4;case IE.EndpointMode.IPv6:return BP.Endpoint.IPv6;default:throw new Error(`Unsupported endpoint mode: ${t}. Select from ${Object.values(IE.EndpointMode)}`)}}});var $P=c(Pf=>{"use strict";Object.defineProperty(Pf,"__esModule",{value:!0});Pf.getExtendedInstanceMetadataCredentials=void 0;var o6=5*60,s6=5*60,a6="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",c6=(t,e)=>{var r;let n=o6+Math.floor(Math.random()*s6),i=new Date(Date.now()+n*1e3);e.warn("Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(newExpiration)}.\nFor more information, please visit: "+a6);let o=(r=t.originalExpiration)!==null&&r!==void 0?r:t.expiration;return{...t,...o?{originalExpiration:o}:{},expiration:i}};Pf.getExtendedInstanceMetadataCredentials=c6});var HP=c(If=>{"use strict";Object.defineProperty(If,"__esModule",{value:!0});If.staticStabilityProvider=void 0;var zP=$P(),d6=(t,e={})=>{let r=e?.logger||console,n;return async()=>{let i;try{i=await t(),i.expiration&&i.expiration.getTime()<Date.now()&&(i=(0,zP.getExtendedInstanceMetadataCredentials)(i,r))}catch(o){if(n)r.warn("Credential renew failed: ",o),i=(0,zP.getExtendedInstanceMetadataCredentials)(n,r);else throw o}return n=i,i}};If.staticStabilityProvider=d6});var ZP=c(Rf=>{"use strict";Object.defineProperty(Rf,"__esModule",{value:!0});Rf.fromInstanceMetadata=void 0;var u6=Pt(),JP=G(),l6=LP(),DE=xf(),GP=OE(),p6=bf(),KP=AE(),f6=RE(),m6=HP(),XP="/latest/meta-data/iam/security-credentials/",h6="/latest/api/token",qE="AWS_EC2_METADATA_V1_DISABLED",QP="ec2_metadata_v1_disabled",YP="x-aws-ec2-metadata-token",_6=(t={})=>(0,m6.staticStabilityProvider)(y6(t),{logger:t.logger});Rf.fromInstanceMetadata=_6;var y6=t=>{let e=!1,{logger:r,profile:n}=t,{timeout:i,maxRetries:o}=(0,p6.providerConfigFromInit)(t),s=async(a,d)=>{var l;if(e||((l=d.headers)===null||l===void 0?void 0:l[YP])==null){let m=!1,h=!1,_=await(0,u6.loadConfig)({environmentVariableSelector:E=>{let v=E[qE];if(h=!!v&&v!=="false",v===void 0)throw new JP.CredentialsProviderError(`${qE} not set in env, checking config file next.`);return h},configFileSelector:E=>{let v=E[QP];return m=!!v&&v!=="false",m},default:!1},{profile:n})();if(t.ec2MetadataV1Disabled||_){let E=[];throw t.ec2MetadataV1Disabled&&E.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),m&&E.push(`config file profile (${QP})`),h&&E.push(`process environment variable (${qE})`),new l6.InstanceMetadataV1FallbackError(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${E.join(", ")}].`)}}let f=(await(0,KP.retry)(async()=>{let m;try{m=await E6(d)}catch(h){throw h.statusCode===401&&(e=!1),h}return m},a)).trim();return(0,KP.retry)(async()=>{let m;try{m=await v6(f,d)}catch(h){throw h.statusCode===401&&(e=!1),h}return m},a)};return async()=>{let a=await(0,f6.getInstanceMetadataEndpoint)();if(e)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),s(o,{...a,timeout:i});{let d;try{d=(await g6({...a,timeout:i})).toString()}catch(l){if(l?.statusCode===400)throw Object.assign(l,{message:"EC2 Metadata token request returned error"});return(l.message==="TimeoutError"||[403,404,405].includes(l.statusCode))&&(e=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),s(o,{...a,timeout:i})}return s(o,{...a,headers:{[YP]:d},timeout:i})}}},g6=async t=>(0,DE.httpRequest)({...t,path:h6,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),E6=async t=>(await(0,DE.httpRequest)({...t,path:XP})).toString(),v6=async(t,e)=>{let r=JSON.parse((await(0,DE.httpRequest)({...e,path:XP+t})).toString());if(!(0,GP.isImdsCredentials)(r))throw new JP.CredentialsProviderError("Invalid response received from instance metadata service.");return(0,GP.fromImdsCredentials)(r)}});var tI=c(eI=>{"use strict";Object.defineProperty(eI,"__esModule",{value:!0})});var ME=c(sr=>{"use strict";Object.defineProperty(sr,"__esModule",{value:!0});sr.getInstanceMetadataEndpoint=sr.httpRequest=void 0;var qf=(x(),S(N));qf.__exportStar(FP(),sr);qf.__exportStar(ZP(),sr);qf.__exportStar(bf(),sr);qf.__exportStar(tI(),sr);var S6=xf();Object.defineProperty(sr,"httpRequest",{enumerable:!0,get:function(){return S6.httpRequest}});var w6=RE();Object.defineProperty(sr,"getInstanceMetadataEndpoint",{enumerable:!0,get:function(){return w6.getInstanceMetadataEndpoint}})});var nI=c(Df=>{"use strict";Object.defineProperty(Df,"__esModule",{value:!0});Df.resolveCredentialSource=void 0;var N6=bE(),rI=ME(),x6=G(),b6=(t,e)=>{let r={EcsContainer:rI.fromContainerMetadata,Ec2InstanceMetadata:rI.fromInstanceMetadata,Environment:N6.fromEnv};if(t in r)return r[t]();throw new x6.CredentialsProviderError(`Unsupported credential source in profile ${e}. Got ${t}, expected EcsContainer or Ec2InstanceMetadata or Environment.`)};Df.resolveCredentialSource=b6});var iI=c(Fo=>{"use strict";Object.defineProperty(Fo,"__esModule",{value:!0});Fo.resolveAssumeRoleCredentials=Fo.isAssumeRoleProfile=void 0;var kE=G(),C6=Jt(),O6=nI(),A6=FE(),T6=t=>!!t&&typeof t=="object"&&typeof t.role_arn=="string"&&["undefined","string"].indexOf(typeof t.role_session_name)>-1&&["undefined","string"].indexOf(typeof t.external_id)>-1&&["undefined","string"].indexOf(typeof t.mfa_serial)>-1&&(P6(t)||I6(t));Fo.isAssumeRoleProfile=T6;var P6=t=>typeof t.source_profile=="string"&&typeof t.credential_source>"u",I6=t=>typeof t.credential_source=="string"&&typeof t.source_profile>"u",R6=async(t,e,r,n={})=>{let i=e[t];if(!r.roleAssumer)throw new kE.CredentialsProviderError(`Profile ${t} requires a role to be assumed, but no role assumption callback was provided.`,!1);let{source_profile:o}=i;if(o&&o in n)throw new kE.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${(0,C6.getProfileName)(r)}. Profiles visited: `+Object.keys(n).join(", "),!1);let s=o?(0,A6.resolveProfileData)(o,e,r,{...n,[o]:!0}):(0,O6.resolveCredentialSource)(i.credential_source,t)(),a={RoleArn:i.role_arn,RoleSessionName:i.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:i.external_id,DurationSeconds:parseInt(i.duration_seconds||"3600",10)},{mfa_serial:d}=i;if(d){if(!r.mfaCodeProvider)throw new kE.CredentialsProviderError(`Profile ${t} requires multi-factor authentication, but no MFA code callback was provided.`,!1);a.SerialNumber=d,a.TokenCode=await r.mfaCodeProvider(d)}let l=await s;return r.roleAssumer(l,a)};Fo.resolveAssumeRoleCredentials=R6});var oI=c(Mf=>{"use strict";Object.defineProperty(Mf,"__esModule",{value:!0});Mf.getValidatedProcessCredentials=void 0;var q6=(t,e)=>{if(e.Version!==1)throw Error(`Profile ${t} credential_process did not return Version 1.`);if(e.AccessKeyId===void 0||e.SecretAccessKey===void 0)throw Error(`Profile ${t} credential_process returned invalid credentials.`);if(e.Expiration){let r=new Date;if(new Date(e.Expiration)<r)throw Error(`Profile ${t} credential_process returned expired credentials.`)}return{accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,...e.SessionToken&&{sessionToken:e.SessionToken},...e.Expiration&&{expiration:new Date(e.Expiration)}}};Mf.getValidatedProcessCredentials=q6});var sI=c(kf=>{"use strict";Object.defineProperty(kf,"__esModule",{value:!0});kf.resolveProcessCredentials=void 0;var LE=G(),D6=M("child_process"),M6=M("util"),k6=oI(),F6=async(t,e)=>{let r=e[t];if(e[t]){let n=r.credential_process;if(n!==void 0){let i=(0,M6.promisify)(D6.exec);try{let{stdout:o}=await i(n),s;try{s=JSON.parse(o.trim())}catch{throw Error(`Profile ${t} credential_process returned invalid JSON.`)}return(0,k6.getValidatedProcessCredentials)(t,s)}catch(o){throw new LE.CredentialsProviderError(o.message)}}else throw new LE.CredentialsProviderError(`Profile ${t} did not contain credential_process.`)}else throw new LE.CredentialsProviderError(`Profile ${t} could not be found in shared credentials file.`)};kf.resolveProcessCredentials=F6});var cI=c(Ff=>{"use strict";Object.defineProperty(Ff,"__esModule",{value:!0});Ff.fromProcess=void 0;var aI=Jt(),L6=sI(),U6=(t={})=>async()=>{let e=await(0,aI.parseKnownFiles)(t);return(0,L6.resolveProcessCredentials)((0,aI.getProfileName)(t),e)};Ff.fromProcess=U6});var jE=c(UE=>{"use strict";Object.defineProperty(UE,"__esModule",{value:!0});var j6=(x(),S(N));j6.__exportStar(cI(),UE)});var dI=c(Lo=>{"use strict";Object.defineProperty(Lo,"__esModule",{value:!0});Lo.resolveProcessCredentials=Lo.isProcessProfile=void 0;var W6=jE(),B6=t=>!!t&&typeof t=="object"&&typeof t.credential_process=="string";Lo.isProcessProfile=B6;var V6=async(t,e)=>(0,W6.fromProcess)({...t,profile:e})();Lo.resolveProcessCredentials=V6});var WE=c(Lf=>{"use strict";Object.defineProperty(Lf,"__esModule",{value:!0});Lf.isSsoProfile=void 0;var $6=t=>t&&(typeof t.sso_start_url=="string"||typeof t.sso_account_id=="string"||typeof t.sso_session=="string"||typeof t.sso_region=="string"||typeof t.sso_role_name=="string");Lf.isSsoProfile=$6});var uI=c(Uf=>{"use strict";Object.defineProperty(Uf,"__esModule",{value:!0});Uf.resolveClientEndpointParameters=void 0;var z6=t=>({...t,useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"});Uf.resolveClientEndpointParameters=z6});var lI=c((eve,H6)=>{H6.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.451.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/core":"3.451.0","@aws-sdk/middleware-host-header":"3.451.0","@aws-sdk/middleware-logger":"3.451.0","@aws-sdk/middleware-recursion-detection":"3.451.0","@aws-sdk/middleware-user-agent":"3.451.0","@aws-sdk/region-config-resolver":"3.451.0","@aws-sdk/types":"3.451.0","@aws-sdk/util-endpoints":"3.451.0","@aws-sdk/util-user-agent-browser":"3.451.0","@aws-sdk/util-user-agent-node":"3.451.0","@smithy/config-resolver":"^2.0.18","@smithy/fetch-http-handler":"^2.2.6","@smithy/hash-node":"^2.0.15","@smithy/invalid-dependency":"^2.0.13","@smithy/middleware-content-length":"^2.0.15","@smithy/middleware-endpoint":"^2.2.0","@smithy/middleware-retry":"^2.0.20","@smithy/middleware-serde":"^2.0.13","@smithy/middleware-stack":"^2.0.7","@smithy/node-config-provider":"^2.1.5","@smithy/node-http-handler":"^2.1.9","@smithy/protocol-http":"^3.0.9","@smithy/smithy-client":"^2.1.15","@smithy/types":"^2.5.0","@smithy/url-parser":"^2.0.13","@smithy/util-base64":"^2.0.1","@smithy/util-body-length-browser":"^2.0.0","@smithy/util-body-length-node":"^2.1.0","@smithy/util-defaults-mode-browser":"^2.0.19","@smithy/util-defaults-mode-node":"^2.0.25","@smithy/util-endpoints":"^1.0.4","@smithy/util-retry":"^2.0.6","@smithy/util-utf8":"^2.0.2",tslib:"^2.5.0"},devDependencies:{"@smithy/service-client-documentation-generator":"^2.0.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var BE=c(jf=>{"use strict";Object.defineProperty(jf,"__esModule",{value:!0});jf.crtAvailability=void 0;jf.crtAvailability={isCrtAvailable:!1}});var pI=c(Wf=>{"use strict";Object.defineProperty(Wf,"__esModule",{value:!0});Wf.isCrtAvailable=void 0;var G6=BE(),K6=()=>G6.crtAvailability.isCrtAvailable?["md/crt-avail"]:null;Wf.isCrtAvailable=K6});var fc=c(Et=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});Et.defaultUserAgent=Et.UA_APP_ID_INI_NAME=Et.UA_APP_ID_ENV_NAME=Et.crtAvailability=void 0;var Q6=Pt(),fI=M("os"),VE=M("process"),Y6=pI(),J6=BE();Object.defineProperty(Et,"crtAvailability",{enumerable:!0,get:function(){return J6.crtAvailability}});Et.UA_APP_ID_ENV_NAME="AWS_SDK_UA_APP_ID";Et.UA_APP_ID_INI_NAME="sdk-ua-app-id";var X6=({serviceId:t,clientVersion:e})=>{let r=[["aws-sdk-js",e],["ua","2.0"],[`os/${(0,fI.platform)()}`,(0,fI.release)()],["lang/js"],["md/nodejs",`${VE.versions.node}`]],n=(0,Y6.isCrtAvailable)();n&&r.push(n),t&&r.push([`api/${t}`,e]),VE.env.AWS_EXECUTION_ENV&&r.push([`exec-env/${VE.env.AWS_EXECUTION_ENV}`]);let i=(0,Q6.loadConfig)({environmentVariableSelector:s=>s[Et.UA_APP_ID_ENV_NAME],configFileSelector:s=>s[Et.UA_APP_ID_INI_NAME],default:void 0})(),o;return async()=>{if(!o){let s=await i;o=s?[...r,[`app/${s}`]]:[...r]}return o}};Et.defaultUserAgent=X6});var mc=c(Bf=>{"use strict";Object.defineProperty(Bf,"__esModule",{value:!0});Bf.Hash=void 0;var $E=ni(),Z6=zt(),e4=M("buffer"),mI=M("crypto"),zE=class{constructor(e,r){this.algorithmIdentifier=e,this.secret=r,this.reset()}update(e,r){this.hash.update((0,Z6.toUint8Array)(hI(e,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,mI.createHmac)(this.algorithmIdentifier,hI(this.secret)):(0,mI.createHash)(this.algorithmIdentifier)}};Bf.Hash=zE;function hI(t,e){return e4.Buffer.isBuffer(t)?t:typeof t=="string"?(0,$E.fromString)(t,e):ArrayBuffer.isView(t)?(0,$E.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength):(0,$E.fromArrayBuffer)(t)}});var yI=c(Vf=>{"use strict";Object.defineProperty(Vf,"__esModule",{value:!0});Vf.calculateBodyLength=void 0;var _I=M("fs"),t4=t=>{if(!t)return 0;if(typeof t=="string")return Buffer.from(t).length;if(typeof t.byteLength=="number")return t.byteLength;if(typeof t.size=="number")return t.size;if(typeof t.start=="number"&&typeof t.end=="number")return t.end+1-t.start;if(typeof t.path=="string"||Buffer.isBuffer(t.path))return(0,_I.lstatSync)(t.path).size;if(typeof t.fd=="number")return(0,_I.fstatSync)(t.fd).size;throw new Error(`Body Length computation failed for ${t}`)};Vf.calculateBodyLength=t4});var hc=c(HE=>{"use strict";Object.defineProperty(HE,"__esModule",{value:!0});var r4=(x(),S(N));r4.__exportStar(yI(),HE)});var RI=c($f=>{"use strict";Object.defineProperty($f,"__esModule",{value:!0});$f.ruleSet=void 0;var AI="required",St="fn",wt="argv",Wo="ref",gI=!0,EI="isSet",_c="booleanEquals",Uo="error",jo="endpoint",Br="tree",GE="PartitionResult",KE="getAttr",vI={[AI]:!1,type:"String"},SI={[AI]:!0,default:!1,type:"Boolean"},wI={[Wo]:"Endpoint"},TI={[St]:_c,[wt]:[{[Wo]:"UseFIPS"},!0]},PI={[St]:_c,[wt]:[{[Wo]:"UseDualStack"},!0]},vt={},NI={[St]:KE,[wt]:[{[Wo]:GE},"supportsFIPS"]},II={[Wo]:GE},xI={[St]:_c,[wt]:[!0,{[St]:KE,[wt]:[II,"supportsDualStack"]}]},bI=[TI],CI=[PI],OI=[{[Wo]:"Region"}],n4={version:"1.0",parameters:{Region:vI,UseDualStack:SI,UseFIPS:SI,Endpoint:vI},rules:[{conditions:[{[St]:EI,[wt]:[wI]}],rules:[{conditions:bI,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Uo},{conditions:CI,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Uo},{endpoint:{url:wI,properties:vt,headers:vt},type:jo}],type:Br},{conditions:[{[St]:EI,[wt]:OI}],rules:[{conditions:[{[St]:"aws.partition",[wt]:OI,assign:GE}],rules:[{conditions:[TI,PI],rules:[{conditions:[{[St]:_c,[wt]:[gI,NI]},xI],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:vt,headers:vt},type:jo}],type:Br},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Uo}],type:Br},{conditions:bI,rules:[{conditions:[{[St]:_c,[wt]:[NI,gI]}],rules:[{conditions:[{[St]:"stringEquals",[wt]:[{[St]:KE,[wt]:[II,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:vt,headers:vt},type:jo},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:vt,headers:vt},type:jo}],type:Br},{error:"FIPS is enabled but this partition does not support FIPS",type:Uo}],type:Br},{conditions:CI,rules:[{conditions:[xI],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:vt,headers:vt},type:jo}],type:Br},{error:"DualStack is enabled but this partition does not support DualStack",type:Uo}],type:Br},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:vt,headers:vt},type:jo}],type:Br}],type:Br},{error:"Invalid Configuration: Missing Region",type:Uo}]};$f.ruleSet=n4});var qI=c(zf=>{"use strict";Object.defineProperty(zf,"__esModule",{value:!0});zf.defaultEndpointResolver=void 0;var i4=Ht(),o4=RI(),s4=(t,e={})=>(0,i4.resolveEndpoint)(o4.ruleSet,{endpointParams:t,logger:e.logger});zf.defaultEndpointResolver=s4});var kI=c(Hf=>{"use strict";Object.defineProperty(Hf,"__esModule",{value:!0});Hf.getRuntimeConfig=void 0;var a4=A(),c4=yn(),DI=bo(),MI=zt(),d4=qI(),u4=t=>({apiVersion:"2019-06-10",base64Decoder:t?.base64Decoder??DI.fromBase64,base64Encoder:t?.base64Encoder??DI.toBase64,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??d4.defaultEndpointResolver,extensions:t?.extensions??[],logger:t?.logger??new a4.NoOpLogger,serviceId:t?.serviceId??"SSO",urlParser:t?.urlParser??c4.parseUrl,utf8Decoder:t?.utf8Decoder??MI.fromUtf8,utf8Encoder:t?.utf8Encoder??MI.toUtf8});Hf.getRuntimeConfig=u4});var FI=c(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});Xe.IMDS_REGION_PATH=Xe.DEFAULTS_MODE_OPTIONS=Xe.ENV_IMDS_DISABLED=Xe.AWS_DEFAULT_REGION_ENV=Xe.AWS_REGION_ENV=Xe.AWS_EXECUTION_ENV=void 0;Xe.AWS_EXECUTION_ENV="AWS_EXECUTION_ENV";Xe.AWS_REGION_ENV="AWS_REGION";Xe.AWS_DEFAULT_REGION_ENV="AWS_DEFAULT_REGION";Xe.ENV_IMDS_DISABLED="AWS_EC2_METADATA_DISABLED";Xe.DEFAULTS_MODE_OPTIONS=["in-region","cross-region","mobile","standard","legacy"];Xe.IMDS_REGION_PATH="/latest/meta-data/placement/region"});var LI=c(Gf=>{"use strict";Object.defineProperty(Gf,"__esModule",{value:!0});Gf.NODE_DEFAULTS_MODE_CONFIG_OPTIONS=void 0;var l4="AWS_DEFAULTS_MODE",p4="defaults_mode";Gf.NODE_DEFAULTS_MODE_CONFIG_OPTIONS={environmentVariableSelector:t=>t[l4],configFileSelector:t=>t[p4],default:"legacy"}});var WI=c(Kf=>{"use strict";Object.defineProperty(Kf,"__esModule",{value:!0});Kf.resolveDefaultsModeConfig=void 0;var f4=Kt(),UI=ME(),jI=Pt(),m4=G(),kn=FI(),h4=LI(),_4=({region:t=(0,jI.loadConfig)(f4.NODE_REGION_CONFIG_OPTIONS),defaultsMode:e=(0,jI.loadConfig)(h4.NODE_DEFAULTS_MODE_CONFIG_OPTIONS)}={})=>(0,m4.memoize)(async()=>{let r=typeof e=="function"?await e():e;switch(r?.toLowerCase()){case"auto":return y4(t);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${kn.DEFAULTS_MODE_OPTIONS.join(", ")}, got ${r}`)}});Kf.resolveDefaultsModeConfig=_4;var y4=async t=>{if(t){let e=typeof t=="function"?await t():t,r=await g4();return r?e===r?"in-region":"cross-region":"standard"}return"standard"},g4=async()=>{var t;if(process.env[kn.AWS_EXECUTION_ENV]&&(process.env[kn.AWS_REGION_ENV]||process.env[kn.AWS_DEFAULT_REGION_ENV]))return(t=process.env[kn.AWS_REGION_ENV])!==null&&t!==void 0?t:process.env[kn.AWS_DEFAULT_REGION_ENV];if(!process.env[kn.ENV_IMDS_DISABLED])try{let e=await(0,UI.getInstanceMetadataEndpoint)();return(await(0,UI.httpRequest)({...e,path:kn.IMDS_REGION_PATH})).toString()}catch{}}});var yc=c(QE=>{"use strict";Object.defineProperty(QE,"__esModule",{value:!0});var E4=(x(),S(N));E4.__exportStar(WI(),QE)});var $I=c(Yf=>{"use strict";Object.defineProperty(Yf,"__esModule",{value:!0});Yf.getRuntimeConfig=void 0;var v4=(x(),S(N)),S4=v4.__importDefault(lI()),w4=uc(),N4=fc(),Qf=Kt(),x4=mc(),BI=Fr(),gc=Pt(),VI=Ao(),b4=hc(),C4=yt(),O4=kI(),A4=A(),T4=yc(),P4=A(),I4=t=>{(0,P4.emitWarningIfUnsupportedVersion)(process.version);let e=(0,T4.resolveDefaultsModeConfig)(t),r=()=>e().then(A4.loadConfigsForDefaultMode),n=(0,O4.getRuntimeConfig)(t);return(0,w4.emitWarningIfUnsupportedVersion)(process.version),{...n,...t,runtime:"node",defaultsMode:e,bodyLengthChecker:t?.bodyLengthChecker??b4.calculateBodyLength,defaultUserAgentProvider:t?.defaultUserAgentProvider??(0,N4.defaultUserAgent)({serviceId:n.serviceId,clientVersion:S4.default.version}),maxAttempts:t?.maxAttempts??(0,gc.loadConfig)(BI.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:t?.region??(0,gc.loadConfig)(Qf.NODE_REGION_CONFIG_OPTIONS,Qf.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:t?.requestHandler??new VI.NodeHttpHandler(r),retryMode:t?.retryMode??(0,gc.loadConfig)({...BI.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||C4.DEFAULT_RETRY_MODE}),sha256:t?.sha256??x4.Hash.bind(null,"sha256"),streamCollector:t?.streamCollector??VI.streamCollector,useDualstackEndpoint:t?.useDualstackEndpoint??(0,gc.loadConfig)(Qf.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:t?.useFipsEndpoint??(0,gc.loadConfig)(Qf.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};Yf.getRuntimeConfig=I4});var zI=c(Bo=>{"use strict";Object.defineProperty(Bo,"__esModule",{value:!0});Bo.resolveAwsRegionExtensionConfiguration=Bo.getAwsRegionExtensionConfiguration=void 0;var R4=t=>{let e=async()=>{if(t.region===void 0)throw new Error("Region is missing from runtimeConfig");let r=t.region;return typeof r=="string"?r:r()};return{setRegion(r){e=r},region(){return e}}};Bo.getAwsRegionExtensionConfiguration=R4;var q4=t=>({region:t.region()});Bo.resolveAwsRegionExtensionConfiguration=q4});var HI=c(Nt=>{"use strict";Object.defineProperty(Nt,"__esModule",{value:!0});Nt.NODE_REGION_CONFIG_FILE_OPTIONS=Nt.NODE_REGION_CONFIG_OPTIONS=Nt.REGION_INI_NAME=Nt.REGION_ENV_NAME=void 0;Nt.REGION_ENV_NAME="AWS_REGION";Nt.REGION_INI_NAME="region";Nt.NODE_REGION_CONFIG_OPTIONS={environmentVariableSelector:t=>t[Nt.REGION_ENV_NAME],configFileSelector:t=>t[Nt.REGION_INI_NAME],default:()=>{throw new Error("Region is missing")}};Nt.NODE_REGION_CONFIG_FILE_OPTIONS={preferredFile:"credentials"}});var YE=c(Jf=>{"use strict";Object.defineProperty(Jf,"__esModule",{value:!0});Jf.isFipsRegion=void 0;var D4=t=>typeof t=="string"&&(t.startsWith("fips-")||t.endsWith("-fips"));Jf.isFipsRegion=D4});var GI=c(Xf=>{"use strict";Object.defineProperty(Xf,"__esModule",{value:!0});Xf.getRealRegion=void 0;var M4=YE(),k4=t=>(0,M4.isFipsRegion)(t)?["fips-aws-global","aws-fips"].includes(t)?"us-east-1":t.replace(/fips-(dkr-|prod-)?|-fips/,""):t;Xf.getRealRegion=k4});var QI=c(Zf=>{"use strict";Object.defineProperty(Zf,"__esModule",{value:!0});Zf.resolveRegionConfig=void 0;var KI=GI(),F4=YE(),L4=t=>{let{region:e,useFipsEndpoint:r}=t;if(!e)throw new Error("Region is missing");return{...t,region:async()=>{if(typeof e=="string")return(0,KI.getRealRegion)(e);let n=await e();return(0,KI.getRealRegion)(n)},useFipsEndpoint:async()=>{let n=typeof e=="string"?e:await e();return(0,F4.isFipsRegion)(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}};Zf.resolveRegionConfig=L4});var JI=c(em=>{"use strict";Object.defineProperty(em,"__esModule",{value:!0});var YI=(x(),S(N));YI.__exportStar(HI(),em);YI.__exportStar(QI(),em)});var Ec=c(tm=>{"use strict";Object.defineProperty(tm,"__esModule",{value:!0});var XI=(x(),S(N));XI.__exportStar(zI(),tm);XI.__exportStar(JI(),tm)});var rR=c(rm=>{"use strict";Object.defineProperty(rm,"__esModule",{value:!0});rm.resolveRuntimeExtensions=void 0;var ZI=Ec(),eR=ve(),tR=A(),JE=t=>t,U4=(t,e)=>{let r={...JE((0,ZI.getAwsRegionExtensionConfiguration)(t)),...JE((0,tR.getDefaultExtensionConfiguration)(t)),...JE((0,eR.getHttpHandlerExtensionConfiguration)(t))};return e.forEach(n=>n.configure(r)),{...t,...(0,ZI.resolveAwsRegionExtensionConfiguration)(r),...(0,tR.resolveDefaultRuntimeConfig)(r),...(0,eR.resolveHttpHandlerRuntimeConfig)(r)}};rm.resolveRuntimeExtensions=U4});var vc=c(Vo=>{"use strict";Object.defineProperty(Vo,"__esModule",{value:!0});Vo.SSOClient=Vo.__Client=void 0;var nR=Ca(),j4=Oa(),W4=Aa(),iR=Wa(),B4=Kt(),V4=$a(),$4=Q(),oR=Fr(),sR=A();Object.defineProperty(Vo,"__Client",{enumerable:!0,get:function(){return sR.Client}});var z4=uI(),H4=$I(),G4=rR(),XE=class extends sR.Client{constructor(...[e]){let r=(0,H4.getRuntimeConfig)(e||{}),n=(0,z4.resolveClientEndpointParameters)(r),i=(0,B4.resolveRegionConfig)(n),o=(0,$4.resolveEndpointConfig)(i),s=(0,oR.resolveRetryConfig)(o),a=(0,nR.resolveHostHeaderConfig)(s),d=(0,iR.resolveUserAgentConfig)(a),l=(0,G4.resolveRuntimeExtensions)(d,e?.extensions||[]);super(l),this.config=l,this.middlewareStack.use((0,oR.getRetryPlugin)(this.config)),this.middlewareStack.use((0,V4.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,nR.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,j4.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,W4.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,iR.getUserAgentPlugin)(this.config))}destroy(){super.destroy()}};Vo.SSOClient=XE});var nm=c($o=>{"use strict";Object.defineProperty($o,"__esModule",{value:!0});$o.SSOServiceException=$o.__ServiceException=void 0;var aR=A();Object.defineProperty($o,"__ServiceException",{enumerable:!0,get:function(){return aR.ServiceException}});var ZE=class t extends aR.ServiceException{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}};$o.SSOServiceException=ZE});var wi=c(ae=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0});ae.LogoutRequestFilterSensitiveLog=ae.ListAccountsRequestFilterSensitiveLog=ae.ListAccountRolesRequestFilterSensitiveLog=ae.GetRoleCredentialsResponseFilterSensitiveLog=ae.RoleCredentialsFilterSensitiveLog=ae.GetRoleCredentialsRequestFilterSensitiveLog=ae.UnauthorizedException=ae.TooManyRequestsException=ae.ResourceNotFoundException=ae.InvalidRequestException=void 0;var zo=A(),im=nm(),ev=class t extends im.SSOServiceException{constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};ae.InvalidRequestException=ev;var tv=class t extends im.SSOServiceException{constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};ae.ResourceNotFoundException=tv;var rv=class t extends im.SSOServiceException{constructor(e){super({name:"TooManyRequestsException",$fault:"client",...e}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};ae.TooManyRequestsException=rv;var nv=class t extends im.SSOServiceException{constructor(e){super({name:"UnauthorizedException",$fault:"client",...e}),this.name="UnauthorizedException",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};ae.UnauthorizedException=nv;var K4=t=>({...t,...t.accessToken&&{accessToken:zo.SENSITIVE_STRING}});ae.GetRoleCredentialsRequestFilterSensitiveLog=K4;var Q4=t=>({...t,...t.secretAccessKey&&{secretAccessKey:zo.SENSITIVE_STRING},...t.sessionToken&&{sessionToken:zo.SENSITIVE_STRING}});ae.RoleCredentialsFilterSensitiveLog=Q4;var Y4=t=>({...t,...t.roleCredentials&&{roleCredentials:(0,ae.RoleCredentialsFilterSensitiveLog)(t.roleCredentials)}});ae.GetRoleCredentialsResponseFilterSensitiveLog=Y4;var J4=t=>({...t,...t.accessToken&&{accessToken:zo.SENSITIVE_STRING}});ae.ListAccountRolesRequestFilterSensitiveLog=J4;var X4=t=>({...t,...t.accessToken&&{accessToken:zo.SENSITIVE_STRING}});ae.ListAccountsRequestFilterSensitiveLog=X4;var Z4=t=>({...t,...t.accessToken&&{accessToken:zo.SENSITIVE_STRING}});ae.LogoutRequestFilterSensitiveLog=Z4});var Sc=c(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.de_LogoutCommand=xe.de_ListAccountsCommand=xe.de_ListAccountRolesCommand=xe.de_GetRoleCredentialsCommand=xe.se_LogoutCommand=xe.se_ListAccountsCommand=xe.se_ListAccountRolesCommand=xe.se_GetRoleCredentialsCommand=void 0;var om=ve(),q=A(),sm=wi(),e8=nm(),t8=async(t,e)=>{let{hostname:r,protocol:n="https",port:i,path:o}=await e.endpoint(),s=(0,q.map)({},lm,{"x-amz-sso_bearer_token":t.accessToken}),a=`${o?.endsWith("/")?o.slice(0,-1):o||""}/federation/credentials`,d=(0,q.map)({role_name:[,(0,q.expectNonNull)(t.roleName,"roleName")],account_id:[,(0,q.expectNonNull)(t.accountId,"accountId")]}),l;return new om.HttpRequest({protocol:n,hostname:r,port:i,method:"GET",headers:s,path:a,query:d,body:l})};xe.se_GetRoleCredentialsCommand=t8;var r8=async(t,e)=>{let{hostname:r,protocol:n="https",port:i,path:o}=await e.endpoint(),s=(0,q.map)({},lm,{"x-amz-sso_bearer_token":t.accessToken}),a=`${o?.endsWith("/")?o.slice(0,-1):o||""}/assignment/roles`,d=(0,q.map)({next_token:[,t.nextToken],max_result:[()=>t.maxResults!==void 0,()=>t.maxResults.toString()],account_id:[,(0,q.expectNonNull)(t.accountId,"accountId")]}),l;return new om.HttpRequest({protocol:n,hostname:r,port:i,method:"GET",headers:s,path:a,query:d,body:l})};xe.se_ListAccountRolesCommand=r8;var n8=async(t,e)=>{let{hostname:r,protocol:n="https",port:i,path:o}=await e.endpoint(),s=(0,q.map)({},lm,{"x-amz-sso_bearer_token":t.accessToken}),a=`${o?.endsWith("/")?o.slice(0,-1):o||""}/assignment/accounts`,d=(0,q.map)({next_token:[,t.nextToken],max_result:[()=>t.maxResults!==void 0,()=>t.maxResults.toString()]}),l;return new om.HttpRequest({protocol:n,hostname:r,port:i,method:"GET",headers:s,path:a,query:d,body:l})};xe.se_ListAccountsCommand=n8;var i8=async(t,e)=>{let{hostname:r,protocol:n="https",port:i,path:o}=await e.endpoint(),s=(0,q.map)({},lm,{"x-amz-sso_bearer_token":t.accessToken}),a=`${o?.endsWith("/")?o.slice(0,-1):o||""}/logout`,d;return new om.HttpRequest({protocol:n,hostname:r,port:i,method:"POST",headers:s,path:a,body:d})};xe.se_LogoutCommand=i8;var o8=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return s8(t,e);let r=(0,q.map)({$metadata:Fn(t)}),n=(0,q.expectNonNull)((0,q.expectObject)(await pm(t.body,e)),"body"),i=(0,q.take)(n,{roleCredentials:q._json});return Object.assign(r,i),r};xe.de_GetRoleCredentialsCommand=o8;var s8=async(t,e)=>{let r={...t,body:await fm(t.body,e)},n=mm(t,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await cm(r,e);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await iv(r,e);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await dm(r,e);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await um(r,e);default:let i=r.body;return am({output:t,parsedBody:i,errorCode:n})}},a8=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return c8(t,e);let r=(0,q.map)({$metadata:Fn(t)}),n=(0,q.expectNonNull)((0,q.expectObject)(await pm(t.body,e)),"body"),i=(0,q.take)(n,{nextToken:q.expectString,roleList:q._json});return Object.assign(r,i),r};xe.de_ListAccountRolesCommand=a8;var c8=async(t,e)=>{let r={...t,body:await fm(t.body,e)},n=mm(t,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await cm(r,e);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await iv(r,e);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await dm(r,e);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await um(r,e);default:let i=r.body;return am({output:t,parsedBody:i,errorCode:n})}},d8=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return u8(t,e);let r=(0,q.map)({$metadata:Fn(t)}),n=(0,q.expectNonNull)((0,q.expectObject)(await pm(t.body,e)),"body"),i=(0,q.take)(n,{accountList:q._json,nextToken:q.expectString});return Object.assign(r,i),r};xe.de_ListAccountsCommand=d8;var u8=async(t,e)=>{let r={...t,body:await fm(t.body,e)},n=mm(t,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await cm(r,e);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await iv(r,e);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await dm(r,e);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await um(r,e);default:let i=r.body;return am({output:t,parsedBody:i,errorCode:n})}},l8=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return p8(t,e);let r=(0,q.map)({$metadata:Fn(t)});return await(0,q.collectBody)(t.body,e),r};xe.de_LogoutCommand=l8;var p8=async(t,e)=>{let r={...t,body:await fm(t.body,e)},n=mm(t,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await cm(r,e);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await dm(r,e);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await um(r,e);default:let i=r.body;return am({output:t,parsedBody:i,errorCode:n})}},am=(0,q.withBaseException)(e8.SSOServiceException),cm=async(t,e)=>{let r=(0,q.map)({}),n=t.body,i=(0,q.take)(n,{message:q.expectString});Object.assign(r,i);let o=new sm.InvalidRequestException({$metadata:Fn(t),...r});return(0,q.decorateServiceException)(o,t.body)},iv=async(t,e)=>{let r=(0,q.map)({}),n=t.body,i=(0,q.take)(n,{message:q.expectString});Object.assign(r,i);let o=new sm.ResourceNotFoundException({$metadata:Fn(t),...r});return(0,q.decorateServiceException)(o,t.body)},dm=async(t,e)=>{let r=(0,q.map)({}),n=t.body,i=(0,q.take)(n,{message:q.expectString});Object.assign(r,i);let o=new sm.TooManyRequestsException({$metadata:Fn(t),...r});return(0,q.decorateServiceException)(o,t.body)},um=async(t,e)=>{let r=(0,q.map)({}),n=t.body,i=(0,q.take)(n,{message:q.expectString});Object.assign(r,i);let o=new sm.UnauthorizedException({$metadata:Fn(t),...r});return(0,q.decorateServiceException)(o,t.body)},Fn=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),f8=(t,e)=>(0,q.collectBody)(t,e).then(r=>e.utf8Encoder(r)),lm=t=>t!=null&&t!==""&&(!Object.getOwnPropertyNames(t).includes("length")||t.length!=0)&&(!Object.getOwnPropertyNames(t).includes("size")||t.size!=0),pm=(t,e)=>f8(t,e).then(r=>r.length?JSON.parse(r):{}),fm=async(t,e)=>{let r=await pm(t,e);return r.message=r.message??r.Message,r},mm=(t,e)=>{let r=(o,s)=>Object.keys(o).find(a=>a.toLowerCase()===s.toLowerCase()),n=o=>{let s=o;return typeof s=="number"&&(s=s.toString()),s.indexOf(",")>=0&&(s=s.split(",")[0]),s.indexOf(":")>=0&&(s=s.split(":")[0]),s.indexOf("#")>=0&&(s=s.split("#")[1]),s},i=r(t.headers,"x-amzn-errortype");if(i!==void 0)return n(t.headers[i]);if(e.code!==void 0)return n(e.code);if(e.__type!==void 0)return n(e.__type)}});var sv=c(Ho=>{"use strict";Object.defineProperty(Ho,"__esModule",{value:!0});Ho.GetRoleCredentialsCommand=Ho.$Command=void 0;var m8=Q(),h8=se(),uR=A();Object.defineProperty(Ho,"$Command",{enumerable:!0,get:function(){return uR.Command}});var _8=$(),cR=wi(),dR=Sc(),ov=class t extends uR.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use((0,h8.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,m8.getEndpointPlugin)(r,t.getEndpointParameterInstructions()));let i=e.concat(this.middlewareStack),{logger:o}=r,d={logger:o,clientName:"SSOClient",commandName:"GetRoleCredentialsCommand",inputFilterSensitiveLog:cR.GetRoleCredentialsRequestFilterSensitiveLog,outputFilterSensitiveLog:cR.GetRoleCredentialsResponseFilterSensitiveLog,[_8.SMITHY_CONTEXT_KEY]:{service:"SWBPortalService",operation:"GetRoleCredentials"}},{requestHandler:l}=r;return i.resolve(p=>l.handle(p.request,n||{}),d)}serialize(e,r){return(0,dR.se_GetRoleCredentialsCommand)(e,r)}deserialize(e,r){return(0,dR.de_GetRoleCredentialsCommand)(e,r)}};Ho.GetRoleCredentialsCommand=ov});var hm=c(Go=>{"use strict";Object.defineProperty(Go,"__esModule",{value:!0});Go.ListAccountRolesCommand=Go.$Command=void 0;var y8=Q(),g8=se(),pR=A();Object.defineProperty(Go,"$Command",{enumerable:!0,get:function(){return pR.Command}});var E8=$(),v8=wi(),lR=Sc(),av=class t extends pR.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use((0,g8.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,y8.getEndpointPlugin)(r,t.getEndpointParameterInstructions()));let i=e.concat(this.middlewareStack),{logger:o}=r,d={logger:o,clientName:"SSOClient",commandName:"ListAccountRolesCommand",inputFilterSensitiveLog:v8.ListAccountRolesRequestFilterSensitiveLog,outputFilterSensitiveLog:p=>p,[E8.SMITHY_CONTEXT_KEY]:{service:"SWBPortalService",operation:"ListAccountRoles"}},{requestHandler:l}=r;return i.resolve(p=>l.handle(p.request,n||{}),d)}serialize(e,r){return(0,lR.se_ListAccountRolesCommand)(e,r)}deserialize(e,r){return(0,lR.de_ListAccountRolesCommand)(e,r)}};Go.ListAccountRolesCommand=av});var _m=c(Ko=>{"use strict";Object.defineProperty(Ko,"__esModule",{value:!0});Ko.ListAccountsCommand=Ko.$Command=void 0;var S8=Q(),w8=se(),mR=A();Object.defineProperty(Ko,"$Command",{enumerable:!0,get:function(){return mR.Command}});var N8=$(),x8=wi(),fR=Sc(),cv=class t extends mR.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use((0,w8.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,S8.getEndpointPlugin)(r,t.getEndpointParameterInstructions()));let i=e.concat(this.middlewareStack),{logger:o}=r,d={logger:o,clientName:"SSOClient",commandName:"ListAccountsCommand",inputFilterSensitiveLog:x8.ListAccountsRequestFilterSensitiveLog,outputFilterSensitiveLog:p=>p,[N8.SMITHY_CONTEXT_KEY]:{service:"SWBPortalService",operation:"ListAccounts"}},{requestHandler:l}=r;return i.resolve(p=>l.handle(p.request,n||{}),d)}serialize(e,r){return(0,fR.se_ListAccountsCommand)(e,r)}deserialize(e,r){return(0,fR.de_ListAccountsCommand)(e,r)}};Ko.ListAccountsCommand=cv});var uv=c(Qo=>{"use strict";Object.defineProperty(Qo,"__esModule",{value:!0});Qo.LogoutCommand=Qo.$Command=void 0;var b8=Q(),C8=se(),_R=A();Object.defineProperty(Qo,"$Command",{enumerable:!0,get:function(){return _R.Command}});var O8=$(),A8=wi(),hR=Sc(),dv=class t extends _R.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use((0,C8.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,b8.getEndpointPlugin)(r,t.getEndpointParameterInstructions()));let i=e.concat(this.middlewareStack),{logger:o}=r,d={logger:o,clientName:"SSOClient",commandName:"LogoutCommand",inputFilterSensitiveLog:A8.LogoutRequestFilterSensitiveLog,outputFilterSensitiveLog:p=>p,[O8.SMITHY_CONTEXT_KEY]:{service:"SWBPortalService",operation:"Logout"}},{requestHandler:l}=r;return i.resolve(p=>l.handle(p.request,n||{}),d)}serialize(e,r){return(0,hR.se_LogoutCommand)(e,r)}deserialize(e,r){return(0,hR.de_LogoutCommand)(e,r)}};Qo.LogoutCommand=dv});var yR=c(gm=>{"use strict";Object.defineProperty(gm,"__esModule",{value:!0});gm.SSO=void 0;var T8=A(),P8=sv(),I8=hm(),R8=_m(),q8=uv(),D8=vc(),M8={GetRoleCredentialsCommand:P8.GetRoleCredentialsCommand,ListAccountRolesCommand:I8.ListAccountRolesCommand,ListAccountsCommand:R8.ListAccountsCommand,LogoutCommand:q8.LogoutCommand},ym=class extends D8.SSOClient{};gm.SSO=ym;(0,T8.createAggregatedClient)(M8,ym)});var gR=c(Yo=>{"use strict";Object.defineProperty(Yo,"__esModule",{value:!0});var Em=(x(),S(N));Em.__exportStar(sv(),Yo);Em.__exportStar(hm(),Yo);Em.__exportStar(_m(),Yo);Em.__exportStar(uv(),Yo)});var vR=c(ER=>{"use strict";Object.defineProperty(ER,"__esModule",{value:!0})});var SR=c(vm=>{"use strict";Object.defineProperty(vm,"__esModule",{value:!0});vm.paginateListAccountRoles=void 0;var k8=hm(),F8=vc(),L8=async(t,e,...r)=>await t.send(new k8.ListAccountRolesCommand(e),...r);async function*U8(t,e,...r){let n=t.startingToken||void 0,i=!0,o;for(;i;){if(e.nextToken=n,e.maxResults=t.pageSize,t.client instanceof F8.SSOClient)o=await L8(t.client,e,...r);else throw new Error("Invalid client, expected SSO | SSOClient");yield o;let s=n;n=o.nextToken,i=!!(n&&(!t.stopOnSameToken||n!==s))}return void 0}vm.paginateListAccountRoles=U8});var wR=c(Sm=>{"use strict";Object.defineProperty(Sm,"__esModule",{value:!0});Sm.paginateListAccounts=void 0;var j8=_m(),W8=vc(),B8=async(t,e,...r)=>await t.send(new j8.ListAccountsCommand(e),...r);async function*V8(t,e,...r){let n=t.startingToken||void 0,i=!0,o;for(;i;){if(e.nextToken=n,e.maxResults=t.pageSize,t.client instanceof W8.SSOClient)o=await B8(t.client,e,...r);else throw new Error("Invalid client, expected SSO | SSOClient");yield o;let s=n;n=o.nextToken,i=!!(n&&(!t.stopOnSameToken||n!==s))}return void 0}Sm.paginateListAccounts=V8});var NR=c(wc=>{"use strict";Object.defineProperty(wc,"__esModule",{value:!0});var lv=(x(),S(N));lv.__exportStar(vR(),wc);lv.__exportStar(SR(),wc);lv.__exportStar(wR(),wc)});var xR=c(pv=>{"use strict";Object.defineProperty(pv,"__esModule",{value:!0});var $8=(x(),S(N));$8.__exportStar(wi(),pv)});var bR=c(Vr=>{"use strict";Object.defineProperty(Vr,"__esModule",{value:!0});Vr.SSOServiceException=void 0;var Nc=(x(),S(N));Nc.__exportStar(vc(),Vr);Nc.__exportStar(yR(),Vr);Nc.__exportStar(gR(),Vr);Nc.__exportStar(NR(),Vr);Nc.__exportStar(xR(),Vr);ja();var z8=nm();Object.defineProperty(Vr,"SSOServiceException",{enumerable:!0,get:function(){return z8.SSOServiceException}})});var xm=c(Y=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0});Y.UnsupportedGrantTypeException=Y.UnauthorizedClientException=Y.SlowDownException=Y.SSOOIDCClient=Y.InvalidScopeException=Y.InvalidRequestException=Y.InvalidClientException=Y.InternalServerException=Y.ExpiredTokenException=Y.CreateTokenCommand=Y.AuthorizationPendingException=Y.AccessDeniedException=void 0;var CR=Ca(),H8=Oa(),G8=Aa(),OR=Wa(),K8=Kt(),Q8=$a(),Y8=Q(),AR=Fr(),J8=A(),X8=t=>{var e,r;return{...t,useDualstackEndpoint:(e=t.useDualstackEndpoint)!==null&&e!==void 0?e:!1,useFipsEndpoint:(r=t.useFipsEndpoint)!==null&&r!==void 0?r:!1,defaultSigningName:"awsssooidc"}},Z8={version:"3.429.0"},e5=fc(),wm=Kt(),t5=mc(),TR=Fr(),xc=Pt(),PR=Ao(),r5=hc(),n5=yt(),i5=A(),o5=yn(),IR=bo(),RR=zt(),s5=Ht(),zR="required",It="fn",Rt="argv",Zo="ref",qR="isSet",$r="tree",Jo="error",Xo="endpoint",mv="PartitionResult",hv="getAttr",DR={[zR]:!1,type:"String"},MR={[zR]:!0,default:!1,type:"Boolean"},kR={[Zo]:"Endpoint"},HR={[It]:"booleanEquals",[Rt]:[{[Zo]:"UseFIPS"},!0]},GR={[It]:"booleanEquals",[Rt]:[{[Zo]:"UseDualStack"},!0]},xt={},FR={[It]:"booleanEquals",[Rt]:[!0,{[It]:hv,[Rt]:[{[Zo]:mv},"supportsFIPS"]}]},KR={[Zo]:mv},LR={[It]:"booleanEquals",[Rt]:[!0,{[It]:hv,[Rt]:[KR,"supportsDualStack"]}]},UR=[HR],jR=[GR],WR=[{[Zo]:"Region"}],a5={version:"1.0",parameters:{Region:DR,UseDualStack:MR,UseFIPS:MR,Endpoint:DR},rules:[{conditions:[{[It]:qR,[Rt]:[kR]}],type:$r,rules:[{conditions:UR,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Jo},{conditions:jR,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Jo},{endpoint:{url:kR,properties:xt,headers:xt},type:Xo}]},{conditions:[{[It]:qR,[Rt]:WR}],type:$r,rules:[{conditions:[{[It]:"aws.partition",[Rt]:WR,assign:mv}],type:$r,rules:[{conditions:[HR,GR],type:$r,rules:[{conditions:[FR,LR],type:$r,rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:xt,headers:xt},type:Xo}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Jo}]},{conditions:UR,type:$r,rules:[{conditions:[FR],type:$r,rules:[{conditions:[{[It]:"stringEquals",[Rt]:["aws-us-gov",{[It]:hv,[Rt]:[KR,"name"]}]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:xt,headers:xt},type:Xo},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:xt,headers:xt},type:Xo}]},{error:"FIPS is enabled but this partition does not support FIPS",type:Jo}]},{conditions:jR,type:$r,rules:[{conditions:[LR],type:$r,rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:xt,headers:xt},type:Xo}]},{error:"DualStack is enabled but this partition does not support DualStack",type:Jo}]},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:xt,headers:xt},type:Xo}]}]},{error:"Invalid Configuration: Missing Region",type:Jo}]},c5=a5,d5=(t,e={})=>(0,s5.resolveEndpoint)(c5,{endpointParams:t,logger:e.logger}),u5=t=>{var e,r,n,i,o,s,a,d,l,p;return{apiVersion:"2019-06-10",base64Decoder:(e=t?.base64Decoder)!==null&&e!==void 0?e:IR.fromBase64,base64Encoder:(r=t?.base64Encoder)!==null&&r!==void 0?r:IR.toBase64,disableHostPrefix:(n=t?.disableHostPrefix)!==null&&n!==void 0?n:!1,endpointProvider:(i=t?.endpointProvider)!==null&&i!==void 0?i:d5,extensions:(o=t?.extensions)!==null&&o!==void 0?o:[],logger:(s=t?.logger)!==null&&s!==void 0?s:new i5.NoOpLogger,serviceId:(a=t?.serviceId)!==null&&a!==void 0?a:"SSO OIDC",urlParser:(d=t?.urlParser)!==null&&d!==void 0?d:o5.parseUrl,utf8Decoder:(l=t?.utf8Decoder)!==null&&l!==void 0?l:RR.fromUtf8,utf8Encoder:(p=t?.utf8Encoder)!==null&&p!==void 0?p:RR.toUtf8}},l5=A(),p5=yc(),f5=A(),m5=t=>{var e,r,n,i,o,s,a,d,l,p;(0,f5.emitWarningIfUnsupportedVersion)(process.version);let f=(0,p5.resolveDefaultsModeConfig)(t),m=()=>f().then(l5.loadConfigsForDefaultMode),h=u5(t);return{...h,...t,runtime:"node",defaultsMode:f,bodyLengthChecker:(e=t?.bodyLengthChecker)!==null&&e!==void 0?e:r5.calculateBodyLength,defaultUserAgentProvider:(r=t?.defaultUserAgentProvider)!==null&&r!==void 0?r:(0,e5.defaultUserAgent)({serviceId:h.serviceId,clientVersion:Z8.version}),maxAttempts:(n=t?.maxAttempts)!==null&&n!==void 0?n:(0,xc.loadConfig)(TR.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:(i=t?.region)!==null&&i!==void 0?i:(0,xc.loadConfig)(wm.NODE_REGION_CONFIG_OPTIONS,wm.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:(o=t?.requestHandler)!==null&&o!==void 0?o:new PR.NodeHttpHandler(m),retryMode:(s=t?.retryMode)!==null&&s!==void 0?s:(0,xc.loadConfig)({...TR.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await m()).retryMode||n5.DEFAULT_RETRY_MODE}),sha256:(a=t?.sha256)!==null&&a!==void 0?a:t5.Hash.bind(null,"sha256"),streamCollector:(d=t?.streamCollector)!==null&&d!==void 0?d:PR.streamCollector,useDualstackEndpoint:(l=t?.useDualstackEndpoint)!==null&&l!==void 0?l:(0,xc.loadConfig)(wm.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:(p=t?.useFipsEndpoint)!==null&&p!==void 0?p:(0,xc.loadConfig)(wm.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}},BR=Ec(),VR=ve(),$R=A(),fv=t=>t,h5=(t,e)=>{let r={...fv((0,BR.getAwsRegionExtensionConfiguration)(t)),...fv((0,$R.getDefaultExtensionConfiguration)(t)),...fv((0,VR.getHttpHandlerExtensionConfiguration)(t))};return e.forEach(n=>n.configure(r)),{...t,...(0,BR.resolveAwsRegionExtensionConfiguration)(r),...(0,$R.resolveDefaultRuntimeConfig)(r),...(0,VR.resolveHttpHandlerRuntimeConfig)(r)}},QR=class extends J8.Client{constructor(...[t]){let e=m5(t||{}),r=X8(e),n=(0,K8.resolveRegionConfig)(r),i=(0,Y8.resolveEndpointConfig)(n),o=(0,AR.resolveRetryConfig)(i),s=(0,CR.resolveHostHeaderConfig)(o),a=(0,OR.resolveUserAgentConfig)(s),d=h5(a,t?.extensions||[]);super(d),this.config=d,this.middlewareStack.use((0,AR.getRetryPlugin)(this.config)),this.middlewareStack.use((0,Q8.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,CR.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,H8.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,G8.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,OR.getUserAgentPlugin)(this.config))}destroy(){super.destroy()}};Y.SSOOIDCClient=QR;var _5=A(),y5=Q(),g5=se(),E5=A(),v5=$(),_v=ve(),g=A(),S5=A(),st=class YR extends S5.ServiceException{constructor(e){super(e),Object.setPrototypeOf(this,YR.prototype)}},JR=class XR extends st{constructor(e){super({name:"AccessDeniedException",$fault:"client",...e}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,XR.prototype),this.error=e.error,this.error_description=e.error_description}};Y.AccessDeniedException=JR;var ZR=class eq extends st{constructor(e){super({name:"AuthorizationPendingException",$fault:"client",...e}),this.name="AuthorizationPendingException",this.$fault="client",Object.setPrototypeOf(this,eq.prototype),this.error=e.error,this.error_description=e.error_description}};Y.AuthorizationPendingException=ZR;var tq=class rq extends st{constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,rq.prototype),this.error=e.error,this.error_description=e.error_description}};Y.ExpiredTokenException=tq;var nq=class iq extends st{constructor(e){super({name:"InternalServerException",$fault:"server",...e}),this.name="InternalServerException",this.$fault="server",Object.setPrototypeOf(this,iq.prototype),this.error=e.error,this.error_description=e.error_description}};Y.InternalServerException=nq;var oq=class sq extends st{constructor(e){super({name:"InvalidClientException",$fault:"client",...e}),this.name="InvalidClientException",this.$fault="client",Object.setPrototypeOf(this,sq.prototype),this.error=e.error,this.error_description=e.error_description}};Y.InvalidClientException=oq;var w5=class aq extends st{constructor(e){super({name:"InvalidGrantException",$fault:"client",...e}),this.name="InvalidGrantException",this.$fault="client",Object.setPrototypeOf(this,aq.prototype),this.error=e.error,this.error_description=e.error_description}},cq=class dq extends st{constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,dq.prototype),this.error=e.error,this.error_description=e.error_description}};Y.InvalidRequestException=cq;var uq=class lq extends st{constructor(e){super({name:"InvalidScopeException",$fault:"client",...e}),this.name="InvalidScopeException",this.$fault="client",Object.setPrototypeOf(this,lq.prototype),this.error=e.error,this.error_description=e.error_description}};Y.InvalidScopeException=uq;var pq=class fq extends st{constructor(e){super({name:"SlowDownException",$fault:"client",...e}),this.name="SlowDownException",this.$fault="client",Object.setPrototypeOf(this,fq.prototype),this.error=e.error,this.error_description=e.error_description}};Y.SlowDownException=pq;var mq=class hq extends st{constructor(e){super({name:"UnauthorizedClientException",$fault:"client",...e}),this.name="UnauthorizedClientException",this.$fault="client",Object.setPrototypeOf(this,hq.prototype),this.error=e.error,this.error_description=e.error_description}};Y.UnauthorizedClientException=mq;var _q=class yq extends st{constructor(e){super({name:"UnsupportedGrantTypeException",$fault:"client",...e}),this.name="UnsupportedGrantTypeException",this.$fault="client",Object.setPrototypeOf(this,yq.prototype),this.error=e.error,this.error_description=e.error_description}};Y.UnsupportedGrantTypeException=_q;var N5=class gq extends st{constructor(e){super({name:"InvalidClientMetadataException",$fault:"client",...e}),this.name="InvalidClientMetadataException",this.$fault="client",Object.setPrototypeOf(this,gq.prototype),this.error=e.error,this.error_description=e.error_description}},x5=async(t,e)=>{let{hostname:r,protocol:n="https",port:i,path:o}=await e.endpoint(),s={"content-type":"application/json"},a=`${o?.endsWith("/")?o.slice(0,-1):o||""}/token`,d;return d=JSON.stringify((0,g.take)(t,{clientId:[],clientSecret:[],code:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:l=>(0,g._json)(l)})),new _v.HttpRequest({protocol:n,hostname:r,port:i,method:"POST",headers:s,path:a,body:d})},b5=async(t,e)=>{let{hostname:r,protocol:n="https",port:i,path:o}=await e.endpoint(),s={"content-type":"application/json"},a=`${o?.endsWith("/")?o.slice(0,-1):o||""}/client/register`,d;return d=JSON.stringify((0,g.take)(t,{clientName:[],clientType:[],scopes:l=>(0,g._json)(l)})),new _v.HttpRequest({protocol:n,hostname:r,port:i,method:"POST",headers:s,path:a,body:d})},C5=async(t,e)=>{let{hostname:r,protocol:n="https",port:i,path:o}=await e.endpoint(),s={"content-type":"application/json"},a=`${o?.endsWith("/")?o.slice(0,-1):o||""}/device_authorization`,d;return d=JSON.stringify((0,g.take)(t,{clientId:[],clientSecret:[],startUrl:[]})),new _v.HttpRequest({protocol:n,hostname:r,port:i,method:"POST",headers:s,path:a,body:d})},O5=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return A5(t,e);let r=(0,g.map)({$metadata:Ve(t)}),n=(0,g.expectNonNull)((0,g.expectObject)(await Nm(t.body,e)),"body"),i=(0,g.take)(n,{accessToken:g.expectString,expiresIn:g.expectInt32,idToken:g.expectString,refreshToken:g.expectString,tokenType:g.expectString});return Object.assign(r,i),r},A5=async(t,e)=>{let r={...t,body:await vv(t.body,e)},n=Sv(t,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await q5(r,e);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await D5(r,e);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await M5(r,e);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await gv(r,e);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await Eq(r,e);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await F5(r,e);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await Ev(r,e);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await vq(r,e);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await Sq(r,e);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await wq(r,e);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await L5(r,e);default:let i=r.body;return yv({output:t,parsedBody:i,errorCode:n})}},T5=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return P5(t,e);let r=(0,g.map)({$metadata:Ve(t)}),n=(0,g.expectNonNull)((0,g.expectObject)(await Nm(t.body,e)),"body"),i=(0,g.take)(n,{authorizationEndpoint:g.expectString,clientId:g.expectString,clientIdIssuedAt:g.expectLong,clientSecret:g.expectString,clientSecretExpiresAt:g.expectLong,tokenEndpoint:g.expectString});return Object.assign(r,i),r},P5=async(t,e)=>{let r={...t,body:await vv(t.body,e)},n=Sv(t,r.body);switch(n){case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await gv(r,e);case"InvalidClientMetadataException":case"com.amazonaws.ssooidc#InvalidClientMetadataException":throw await k5(r,e);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await Ev(r,e);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await vq(r,e);default:let i=r.body;return yv({output:t,parsedBody:i,errorCode:n})}},I5=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return R5(t,e);let r=(0,g.map)({$metadata:Ve(t)}),n=(0,g.expectNonNull)((0,g.expectObject)(await Nm(t.body,e)),"body"),i=(0,g.take)(n,{deviceCode:g.expectString,expiresIn:g.expectInt32,interval:g.expectInt32,userCode:g.expectString,verificationUri:g.expectString,verificationUriComplete:g.expectString});return Object.assign(r,i),r},R5=async(t,e)=>{let r={...t,body:await vv(t.body,e)},n=Sv(t,r.body);switch(n){case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await gv(r,e);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await Eq(r,e);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await Ev(r,e);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await Sq(r,e);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await wq(r,e);default:let i=r.body;return yv({output:t,parsedBody:i,errorCode:n})}},yv=(0,g.withBaseException)(st),q5=async(t,e)=>{let r=(0,g.map)({}),n=t.body,i=(0,g.take)(n,{error:g.expectString,error_description:g.expectString});Object.assign(r,i);let o=new JR({$metadata:Ve(t),...r});return(0,g.decorateServiceException)(o,t.body)},D5=async(t,e)=>{let r=(0,g.map)({}),n=t.body,i=(0,g.take)(n,{error:g.expectString,error_description:g.expectString});Object.assign(r,i);let o=new ZR({$metadata:Ve(t),...r});return(0,g.decorateServiceException)(o,t.body)},M5=async(t,e)=>{let r=(0,g.map)({}),n=t.body,i=(0,g.take)(n,{error:g.expectString,error_description:g.expectString});Object.assign(r,i);let o=new tq({$metadata:Ve(t),...r});return(0,g.decorateServiceException)(o,t.body)},gv=async(t,e)=>{let r=(0,g.map)({}),n=t.body,i=(0,g.take)(n,{error:g.expectString,error_description:g.expectString});Object.assign(r,i);let o=new nq({$metadata:Ve(t),...r});return(0,g.decorateServiceException)(o,t.body)},Eq=async(t,e)=>{let r=(0,g.map)({}),n=t.body,i=(0,g.take)(n,{error:g.expectString,error_description:g.expectString});Object.assign(r,i);let o=new oq({$metadata:Ve(t),...r});return(0,g.decorateServiceException)(o,t.body)},k5=async(t,e)=>{let r=(0,g.map)({}),n=t.body,i=(0,g.take)(n,{error:g.expectString,error_description:g.expectString});Object.assign(r,i);let o=new N5({$metadata:Ve(t),...r});return(0,g.decorateServiceException)(o,t.body)},F5=async(t,e)=>{let r=(0,g.map)({}),n=t.body,i=(0,g.take)(n,{error:g.expectString,error_description:g.expectString});Object.assign(r,i);let o=new w5({$metadata:Ve(t),...r});return(0,g.decorateServiceException)(o,t.body)},Ev=async(t,e)=>{let r=(0,g.map)({}),n=t.body,i=(0,g.take)(n,{error:g.expectString,error_description:g.expectString});Object.assign(r,i);let o=new cq({$metadata:Ve(t),...r});return(0,g.decorateServiceException)(o,t.body)},vq=async(t,e)=>{let r=(0,g.map)({}),n=t.body,i=(0,g.take)(n,{error:g.expectString,error_description:g.expectString});Object.assign(r,i);let o=new uq({$metadata:Ve(t),...r});return(0,g.decorateServiceException)(o,t.body)},Sq=async(t,e)=>{let r=(0,g.map)({}),n=t.body,i=(0,g.take)(n,{error:g.expectString,error_description:g.expectString});Object.assign(r,i);let o=new pq({$metadata:Ve(t),...r});return(0,g.decorateServiceException)(o,t.body)},wq=async(t,e)=>{let r=(0,g.map)({}),n=t.body,i=(0,g.take)(n,{error:g.expectString,error_description:g.expectString});Object.assign(r,i);let o=new mq({$metadata:Ve(t),...r});return(0,g.decorateServiceException)(o,t.body)},L5=async(t,e)=>{let r=(0,g.map)({}),n=t.body,i=(0,g.take)(n,{error:g.expectString,error_description:g.expectString});Object.assign(r,i);let o=new _q({$metadata:Ve(t),...r});return(0,g.decorateServiceException)(o,t.body)},Ve=t=>{var e,r;return{httpStatusCode:t.statusCode,requestId:(r=(e=t.headers["x-amzn-requestid"])!==null&&e!==void 0?e:t.headers["x-amzn-request-id"])!==null&&r!==void 0?r:t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}},U5=(t,e)=>(0,g.collectBody)(t,e).then(r=>e.utf8Encoder(r)),Nm=(t,e)=>U5(t,e).then(r=>r.length?JSON.parse(r):{}),vv=async(t,e)=>{var r;let n=await Nm(t,e);return n.message=(r=n.message)!==null&&r!==void 0?r:n.Message,n},Sv=(t,e)=>{let r=(o,s)=>Object.keys(o).find(a=>a.toLowerCase()===s.toLowerCase()),n=o=>{let s=o;return typeof s=="number"&&(s=s.toString()),s.indexOf(",")>=0&&(s=s.split(",")[0]),s.indexOf(":")>=0&&(s=s.split(":")[0]),s.indexOf("#")>=0&&(s=s.split("#")[1]),s},i=r(t.headers,"x-amzn-errortype");if(i!==void 0)return n(t.headers[i]);if(e.code!==void 0)return n(e.code);if(e.__type!==void 0)return n(e.__type)},Nq=class xq extends E5.Command{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,r,n){this.middlewareStack.use((0,g5.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,y5.getEndpointPlugin)(r,xq.getEndpointParameterInstructions()));let i=e.concat(this.middlewareStack),{logger:o}=r,d={logger:o,clientName:"SSOOIDCClient",commandName:"CreateTokenCommand",inputFilterSensitiveLog:p=>p,outputFilterSensitiveLog:p=>p,[v5.SMITHY_CONTEXT_KEY]:{service:"AWSSSOOIDCService",operation:"CreateToken"}},{requestHandler:l}=r;return i.resolve(p=>l.handle(p.request,n||{}),d)}serialize(e,r){return x5(e,r)}deserialize(e,r){return O5(e,r)}};Y.CreateTokenCommand=Nq;var j5=Q(),W5=se(),B5=A(),V5=$(),$5=class bq extends B5.Command{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,r,n){this.middlewareStack.use((0,W5.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,j5.getEndpointPlugin)(r,bq.getEndpointParameterInstructions()));let i=e.concat(this.middlewareStack),{logger:o}=r,d={logger:o,clientName:"SSOOIDCClient",commandName:"RegisterClientCommand",inputFilterSensitiveLog:p=>p,outputFilterSensitiveLog:p=>p,[V5.SMITHY_CONTEXT_KEY]:{service:"AWSSSOOIDCService",operation:"RegisterClient"}},{requestHandler:l}=r;return i.resolve(p=>l.handle(p.request,n||{}),d)}serialize(e,r){return b5(e,r)}deserialize(e,r){return T5(e,r)}},z5=Q(),H5=se(),G5=A(),K5=$(),Q5=class Cq extends G5.Command{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,r,n){this.middlewareStack.use((0,H5.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,z5.getEndpointPlugin)(r,Cq.getEndpointParameterInstructions()));let i=e.concat(this.middlewareStack),{logger:o}=r,d={logger:o,clientName:"SSOOIDCClient",commandName:"StartDeviceAuthorizationCommand",inputFilterSensitiveLog:p=>p,outputFilterSensitiveLog:p=>p,[K5.SMITHY_CONTEXT_KEY]:{service:"AWSSSOOIDCService",operation:"StartDeviceAuthorization"}},{requestHandler:l}=r;return i.resolve(p=>l.handle(p.request,n||{}),d)}serialize(e,r){return C5(e,r)}deserialize(e,r){return I5(e,r)}},Y5={CreateTokenCommand:Nq,RegisterClientCommand:$5,StartDeviceAuthorizationCommand:Q5},J5=class extends QR{};(0,_5.createAggregatedClient)(Y5,J5)});var bm=c(es=>{"use strict";Object.defineProperty(es,"__esModule",{value:!0});es.REFRESH_MESSAGE=es.EXPIRE_WINDOW_MS=void 0;es.EXPIRE_WINDOW_MS=5*60*1e3;es.REFRESH_MESSAGE="To refresh this SSO session run 'aws sso login' with the corresponding profile."});var Oq=c(Cm=>{"use strict";Object.defineProperty(Cm,"__esModule",{value:!0});Cm.getSsoOidcClient=void 0;var X5=xm(),wv={},Z5=t=>{if(wv[t])return wv[t];let e=new X5.SSOOIDCClient({region:t});return wv[t]=e,e};Cm.getSsoOidcClient=Z5});var Aq=c(Om=>{"use strict";Object.defineProperty(Om,"__esModule",{value:!0});Om.getNewSsoOidcToken=void 0;var eK=xm(),tK=Oq(),rK=(t,e)=>(0,tK.getSsoOidcClient)(e).send(new eK.CreateTokenCommand({clientId:t.clientId,clientSecret:t.clientSecret,refreshToken:t.refreshToken,grantType:"refresh_token"}));Om.getNewSsoOidcToken=rK});var Tq=c(Am=>{"use strict";Object.defineProperty(Am,"__esModule",{value:!0});Am.validateTokenExpiry=void 0;var nK=G(),iK=bm(),oK=t=>{if(t.expiration&&t.expiration.getTime()<Date.now())throw new nK.TokenProviderError(`Token is expired. ${iK.REFRESH_MESSAGE}`,!1)};Am.validateTokenExpiry=oK});var Pq=c(Tm=>{"use strict";Object.defineProperty(Tm,"__esModule",{value:!0});Tm.validateTokenKey=void 0;var sK=G(),aK=bm(),cK=(t,e,r=!1)=>{if(typeof e>"u")throw new sK.TokenProviderError(`Value not present for '${t}' in SSO Token${r?". Cannot refresh":""}. ${aK.REFRESH_MESSAGE}`,!1)};Tm.validateTokenKey=cK});var Iq=c(Pm=>{"use strict";Object.defineProperty(Pm,"__esModule",{value:!0});Pm.writeSSOTokenToFile=void 0;var dK=Jt(),uK=M("fs"),{writeFile:lK}=uK.promises,pK=(t,e)=>{let r=(0,dK.getSSOTokenFilepath)(t),n=JSON.stringify(e,null,2);return lK(r,n)};Pm.writeSSOTokenToFile=pK});var Nv=c(Rm=>{"use strict";Object.defineProperty(Rm,"__esModule",{value:!0});Rm.fromSso=void 0;var bc=G(),Im=Jt(),Rq=bm(),fK=Aq(),qq=Tq(),Ni=Pq(),mK=Iq(),Dq=new Date(0),hK=(t={})=>async()=>{let e=await(0,Im.parseKnownFiles)(t),r=(0,Im.getProfileName)(t),n=e[r];if(n){if(!n.sso_session)throw new bc.TokenProviderError(`Profile '${r}' is missing required property 'sso_session'.`)}else throw new bc.TokenProviderError(`Profile '${r}' could not be found in shared credentials file.`,!1);let i=n.sso_session,s=(await(0,Im.loadSsoSessionData)(t))[i];if(!s)throw new bc.TokenProviderError(`Sso session '${i}' could not be found in shared credentials file.`,!1);for(let h of["sso_start_url","sso_region"])if(!s[h])throw new bc.TokenProviderError(`Sso session '${i}' is missing required property '${h}'.`,!1);let a=s.sso_start_url,d=s.sso_region,l;try{l=await(0,Im.getSSOTokenFromFile)(i)}catch{throw new bc.TokenProviderError(`The SSO session token associated with profile=${r} was not found or is invalid. ${Rq.REFRESH_MESSAGE}`,!1)}(0,Ni.validateTokenKey)("accessToken",l.accessToken),(0,Ni.validateTokenKey)("expiresAt",l.expiresAt);let{accessToken:p,expiresAt:f}=l,m={token:p,expiration:new Date(f)};if(m.expiration.getTime()-Date.now()>Rq.EXPIRE_WINDOW_MS)return m;if(Date.now()-Dq.getTime()<30*1e3)return(0,qq.validateTokenExpiry)(m),m;(0,Ni.validateTokenKey)("clientId",l.clientId,!0),(0,Ni.validateTokenKey)("clientSecret",l.clientSecret,!0),(0,Ni.validateTokenKey)("refreshToken",l.refreshToken,!0);try{Dq.setTime(Date.now());let h=await(0,fK.getNewSsoOidcToken)(l,d);(0,Ni.validateTokenKey)("accessToken",h.accessToken),(0,Ni.validateTokenKey)("expiresIn",h.expiresIn);let _=new Date(Date.now()+h.expiresIn*1e3);try{await(0,mK.writeSSOTokenToFile)(i,{...l,accessToken:h.accessToken,expiresAt:_.toISOString(),refreshToken:h.refreshToken})}catch{}return{token:h.accessToken,expiration:_}}catch{return(0,qq.validateTokenExpiry)(m),m}};Rm.fromSso=hK});var Mq=c(qm=>{"use strict";Object.defineProperty(qm,"__esModule",{value:!0});qm.fromStatic=void 0;var _K=G(),yK=({token:t})=>async()=>{if(!t||!t.token)throw new _K.TokenProviderError("Please pass a valid token to fromStatic",!1);return t};qm.fromStatic=yK});var kq=c(Dm=>{"use strict";Object.defineProperty(Dm,"__esModule",{value:!0});Dm.nodeProvider=void 0;var xv=G(),gK=Nv(),EK=(t={})=>(0,xv.memoize)((0,xv.chain)((0,gK.fromSso)(t),async()=>{throw new xv.TokenProviderError("Could not load token from any providers",!1)}),e=>e.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5,e=>e.expiration!==void 0);Dm.nodeProvider=EK});var Fq=c(ts=>{"use strict";Object.defineProperty(ts,"__esModule",{value:!0});var Mm=(x(),S(N));Mm.__exportStar(xm(),ts);Mm.__exportStar(Nv(),ts);Mm.__exportStar(Mq(),ts);Mm.__exportStar(kq(),ts)});var Uq=c(km=>{"use strict";Object.defineProperty(km,"__esModule",{value:!0});km.resolveSSOCredentials=void 0;var Lq=bR(),vK=Fq(),Cc=G(),SK=Jt(),Oc=!1,wK=async({ssoStartUrl:t,ssoSession:e,ssoAccountId:r,ssoRegion:n,ssoRoleName:i,ssoClient:o,profile:s})=>{let a,d="To refresh this SSO session run aws sso login with the corresponding profile.";if(e)try{let v=await(0,vK.fromSso)({profile:s})();a={accessToken:v.token,expiresAt:new Date(v.expiration).toISOString()}}catch(v){throw new Cc.CredentialsProviderError(v.message,Oc)}else try{a=await(0,SK.getSSOTokenFromFile)(t)}catch{throw new Cc.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${d}`,Oc)}if(new Date(a.expiresAt).getTime()-Date.now()<=0)throw new Cc.CredentialsProviderError(`The SSO session associated with this profile has expired. ${d}`,Oc);let{accessToken:l}=a,p=o||new Lq.SSOClient({region:n}),f;try{f=await p.send(new Lq.GetRoleCredentialsCommand({accountId:r,roleName:i,accessToken:l}))}catch(v){throw Cc.CredentialsProviderError.from(v,Oc)}let{roleCredentials:{accessKeyId:m,secretAccessKey:h,sessionToken:_,expiration:E}={}}=f;if(!m||!h||!_||!E)throw new Cc.CredentialsProviderError("SSO returns an invalid temporary credential.",Oc);return{accessKeyId:m,secretAccessKey:h,sessionToken:_,expiration:new Date(E)}};km.resolveSSOCredentials=wK});var bv=c(Fm=>{"use strict";Object.defineProperty(Fm,"__esModule",{value:!0});Fm.validateSsoProfile=void 0;var NK=G(),xK=t=>{let{sso_start_url:e,sso_account_id:r,sso_region:n,sso_role_name:i}=t;if(!e||!r||!n||!i)throw new NK.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(t).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,!1);return t};Fm.validateSsoProfile=xK});var Wq=c(Lm=>{"use strict";Object.defineProperty(Lm,"__esModule",{value:!0});Lm.fromSSO=void 0;var Ac=G(),Cv=Jt(),bK=WE(),jq=Uq(),CK=bv(),OK=(t={})=>async()=>{let{ssoStartUrl:e,ssoAccountId:r,ssoRegion:n,ssoRoleName:i,ssoClient:o,ssoSession:s}=t,a=(0,Cv.getProfileName)(t);if(!e&&!r&&!n&&!i&&!s){let l=(await(0,Cv.parseKnownFiles)(t))[a];if(!l)throw new Ac.CredentialsProviderError(`Profile ${a} was not found.`);if(!(0,bK.isSsoProfile)(l))throw new Ac.CredentialsProviderError(`Profile ${a} is not configured with SSO credentials.`);if(l?.sso_session){let v=(await(0,Cv.loadSsoSessionData)(t))[l.sso_session],T=` configurations in profile ${a} and sso-session ${l.sso_session}`;if(n&&n!==v.sso_region)throw new Ac.CredentialsProviderError("Conflicting SSO region"+T,!1);if(e&&e!==v.sso_start_url)throw new Ac.CredentialsProviderError("Conflicting SSO start_url"+T,!1);l.sso_region=v.sso_region,l.sso_start_url=v.sso_start_url}let{sso_start_url:p,sso_account_id:f,sso_region:m,sso_role_name:h,sso_session:_}=(0,CK.validateSsoProfile)(l);return(0,jq.resolveSSOCredentials)({ssoStartUrl:p,ssoSession:_,ssoAccountId:f,ssoRegion:m,ssoRoleName:h,ssoClient:o,profile:a})}else{if(!e||!r||!n||!i)throw new Ac.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"');return(0,jq.resolveSSOCredentials)({ssoStartUrl:e,ssoSession:s,ssoAccountId:r,ssoRegion:n,ssoRoleName:i,ssoClient:o,profile:a})}};Lm.fromSSO=OK});var Vq=c(Bq=>{"use strict";Object.defineProperty(Bq,"__esModule",{value:!0})});var jm=c(rs=>{"use strict";Object.defineProperty(rs,"__esModule",{value:!0});var Um=(x(),S(N));Um.__exportStar(Wq(),rs);Um.__exportStar(WE(),rs);Um.__exportStar(Vq(),rs);Um.__exportStar(bv(),rs)});var zq=c(ns=>{"use strict";Object.defineProperty(ns,"__esModule",{value:!0});ns.resolveSsoCredentials=ns.isSsoProfile=void 0;var $q=jm(),AK=jm();Object.defineProperty(ns,"isSsoProfile",{enumerable:!0,get:function(){return AK.isSsoProfile}});var TK=t=>{let{sso_start_url:e,sso_account_id:r,sso_session:n,sso_region:i,sso_role_name:o}=(0,$q.validateSsoProfile)(t);return(0,$q.fromSSO)({ssoStartUrl:e,ssoAccountId:r,ssoSession:n,ssoRegion:i,ssoRoleName:o})()};ns.resolveSsoCredentials=TK});var Hq=c(is=>{"use strict";Object.defineProperty(is,"__esModule",{value:!0});is.resolveStaticCredentials=is.isStaticCredsProfile=void 0;var PK=t=>!!t&&typeof t=="object"&&typeof t.aws_access_key_id=="string"&&typeof t.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof t.aws_session_token)>-1;is.isStaticCredsProfile=PK;var IK=t=>Promise.resolve({accessKeyId:t.aws_access_key_id,secretAccessKey:t.aws_secret_access_key,sessionToken:t.aws_session_token});is.resolveStaticCredentials=IK});var Ov=c(Wm=>{"use strict";Object.defineProperty(Wm,"__esModule",{value:!0});Wm.fromWebToken=void 0;var RK=G(),qK=t=>()=>{let{roleArn:e,roleSessionName:r,webIdentityToken:n,providerId:i,policyArns:o,policy:s,durationSeconds:a,roleAssumerWithWebIdentity:d}=t;if(!d)throw new RK.CredentialsProviderError(`Role Arn '${e}' needs to be assumed with web identity, but no role assumption callback was provided.`,!1);return d({RoleArn:e,RoleSessionName:r??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:n,ProviderId:i,PolicyArns:o,Policy:s,DurationSeconds:a})};Wm.fromWebToken=qK});var Gq=c(Bm=>{"use strict";Object.defineProperty(Bm,"__esModule",{value:!0});Bm.fromTokenFile=void 0;var DK=G(),MK=M("fs"),kK=Ov(),FK="AWS_WEB_IDENTITY_TOKEN_FILE",LK="AWS_ROLE_ARN",UK="AWS_ROLE_SESSION_NAME",jK=(t={})=>async()=>{var e,r,n;let i=(e=t?.webIdentityTokenFile)!==null&&e!==void 0?e:process.env[FK],o=(r=t?.roleArn)!==null&&r!==void 0?r:process.env[LK],s=(n=t?.roleSessionName)!==null&&n!==void 0?n:process.env[UK];if(!i||!o)throw new DK.CredentialsProviderError("Web identity configuration not specified");return(0,kK.fromWebToken)({...t,webIdentityToken:(0,MK.readFileSync)(i,{encoding:"ascii"}),roleArn:o,roleSessionName:s})()};Bm.fromTokenFile=jK});var Av=c(Vm=>{"use strict";Object.defineProperty(Vm,"__esModule",{value:!0});var Kq=(x(),S(N));Kq.__exportStar(Gq(),Vm);Kq.__exportStar(Ov(),Vm)});var Qq=c(os=>{"use strict";Object.defineProperty(os,"__esModule",{value:!0});os.resolveWebIdentityCredentials=os.isWebIdentityProfile=void 0;var WK=Av(),BK=t=>!!t&&typeof t=="object"&&typeof t.web_identity_token_file=="string"&&typeof t.role_arn=="string"&&["undefined","string"].indexOf(typeof t.role_session_name)>-1;os.isWebIdentityProfile=BK;var VK=async(t,e)=>(0,WK.fromTokenFile)({webIdentityTokenFile:t.web_identity_token_file,roleArn:t.role_arn,roleSessionName:t.role_session_name,roleAssumerWithWebIdentity:e.roleAssumerWithWebIdentity})();os.resolveWebIdentityCredentials=VK});var FE=c(zm=>{"use strict";Object.defineProperty(zm,"__esModule",{value:!0});zm.resolveProfileData=void 0;var $K=G(),Yq=iI(),Jq=dI(),Xq=zq(),$m=Hq(),Zq=Qq(),zK=async(t,e,r,n={})=>{let i=e[t];if(Object.keys(n).length>0&&(0,$m.isStaticCredsProfile)(i))return(0,$m.resolveStaticCredentials)(i);if((0,Yq.isAssumeRoleProfile)(i))return(0,Yq.resolveAssumeRoleCredentials)(t,e,r,n);if((0,$m.isStaticCredsProfile)(i))return(0,$m.resolveStaticCredentials)(i);if((0,Zq.isWebIdentityProfile)(i))return(0,Zq.resolveWebIdentityCredentials)(i,r);if((0,Jq.isProcessProfile)(i))return(0,Jq.resolveProcessCredentials)(r,t);if((0,Xq.isSsoProfile)(i))return(0,Xq.resolveSsoCredentials)(i);throw new $K.CredentialsProviderError(`Profile ${t} could not be found or parsed in shared credentials file.`)};zm.resolveProfileData=zK});var t1=c(Hm=>{"use strict";Object.defineProperty(Hm,"__esModule",{value:!0});Hm.fromIni=void 0;var e1=Jt(),HK=FE(),GK=(t={})=>async()=>{let e=await(0,e1.parseKnownFiles)(t);return(0,HK.resolveProfileData)((0,e1.getProfileName)(t),e,t)};Hm.fromIni=GK});var r1=c(Tv=>{"use strict";Object.defineProperty(Tv,"__esModule",{value:!0});var KK=(x(),S(N));KK.__exportStar(t1(),Tv)});var Tc=c(Gm=>{"use strict";Object.defineProperty(Gm,"__esModule",{value:!0});Gm.getHomeDir=void 0;var QK=M("os"),YK=M("path"),Pv={},JK=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",XK=()=>{let{HOME:t,USERPROFILE:e,HOMEPATH:r,HOMEDRIVE:n=`C:${YK.sep}`}=process.env;if(t)return t;if(e)return e;if(r)return`${n}${r}`;let i=JK();return Pv[i]||(Pv[i]=(0,QK.homedir)()),Pv[i]};Gm.getHomeDir=XK});var n1=c(ar=>{"use strict";Object.defineProperty(ar,"__esModule",{value:!0});ar.getProfileName=ar.DEFAULT_PROFILE=ar.ENV_PROFILE=void 0;ar.ENV_PROFILE="AWS_PROFILE";ar.DEFAULT_PROFILE="default";var ZK=t=>t.profile||process.env[ar.ENV_PROFILE]||ar.DEFAULT_PROFILE;ar.getProfileName=ZK});var Iv=c(Km=>{"use strict";Object.defineProperty(Km,"__esModule",{value:!0});Km.getSSOTokenFilepath=void 0;var eQ=M("crypto"),tQ=M("path"),rQ=Tc(),nQ=t=>{let r=(0,eQ.createHash)("sha1").update(t).digest("hex");return(0,tQ.join)((0,rQ.getHomeDir)(),".aws","sso","cache",`${r}.json`)};Km.getSSOTokenFilepath=nQ});var i1=c(Qm=>{"use strict";Object.defineProperty(Qm,"__esModule",{value:!0});Qm.getSSOTokenFromFile=void 0;var iQ=M("fs"),oQ=Iv(),{readFile:sQ}=iQ.promises,aQ=async t=>{let e=(0,oQ.getSSOTokenFilepath)(t),r=await sQ(e,"utf8");return JSON.parse(r)};Qm.getSSOTokenFromFile=aQ});var a1=c(Ym=>{"use strict";Object.defineProperty(Ym,"__esModule",{value:!0});Ym.getConfigData=void 0;var o1=$(),s1=ss(),cQ=t=>Object.entries(t).filter(([e])=>{let r=e.split(s1.CONFIG_PREFIX_SEPARATOR);return!!(r.length===2&&Object.values(o1.IniSectionType).includes(r[0]))}).reduce((e,[r,n])=>{let i=r.startsWith(o1.IniSectionType.PROFILE)?r.split(s1.CONFIG_PREFIX_SEPARATOR)[1]:r;return e[i]=n,e},{...t.default&&{default:t.default}});Ym.getConfigData=cQ});var Rv=c(xi=>{"use strict";Object.defineProperty(xi,"__esModule",{value:!0});xi.getConfigFilepath=xi.ENV_CONFIG_PATH=void 0;var dQ=M("path"),uQ=Tc();xi.ENV_CONFIG_PATH="AWS_CONFIG_FILE";var lQ=()=>process.env[xi.ENV_CONFIG_PATH]||(0,dQ.join)((0,uQ.getHomeDir)(),".aws","config");xi.getConfigFilepath=lQ});var c1=c(bi=>{"use strict";Object.defineProperty(bi,"__esModule",{value:!0});bi.getCredentialsFilepath=bi.ENV_CREDENTIALS_PATH=void 0;var pQ=M("path"),fQ=Tc();bi.ENV_CREDENTIALS_PATH="AWS_SHARED_CREDENTIALS_FILE";var mQ=()=>process.env[bi.ENV_CREDENTIALS_PATH]||(0,pQ.join)((0,fQ.getHomeDir)(),".aws","credentials");bi.getCredentialsFilepath=mQ});var qv=c(Jm=>{"use strict";Object.defineProperty(Jm,"__esModule",{value:!0});Jm.parseIni=void 0;var hQ=$(),d1=ss(),_Q=/^([\w-]+)\s(["'])?([\w-@]+)\2$/,yQ=["__proto__","profile __proto__"],gQ=t=>{let e={},r,n;for(let i of t.split(/\r?\n/)){let o=i.split(/(^|\s)[;#]/)[0].trim();if(o[0]==="["&&o[o.length-1]==="]"){r=void 0,n=void 0;let a=o.substring(1,o.length-1),d=_Q.exec(a);if(d){let[,l,,p]=d;Object.values(hQ.IniSectionType).includes(l)&&(r=[l,p].join(d1.CONFIG_PREFIX_SEPARATOR))}else r=a;if(yQ.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=o.indexOf("=");if(![0,-1].includes(a)){let[d,l]=[o.substring(0,a).trim(),o.substring(a+1).trim()];if(l==="")n=d;else{n&&i.trimStart()===i&&(n=void 0),e[r]=e[r]||{};let p=n?[n,d].join(d1.CONFIG_PREFIX_SEPARATOR):d;e[r][p]=l}}}}return e};Jm.parseIni=gQ});var Mv=c(Xm=>{"use strict";Object.defineProperty(Xm,"__esModule",{value:!0});Xm.slurpFile=void 0;var EQ=M("fs"),{readFile:vQ}=EQ.promises,Dv={},SQ=(t,e)=>((!Dv[t]||e?.ignoreCache)&&(Dv[t]=vQ(t,"utf8")),Dv[t]);Xm.slurpFile=SQ});var ss=c(as=>{"use strict";Object.defineProperty(as,"__esModule",{value:!0});as.loadSharedConfigFiles=as.CONFIG_PREFIX_SEPARATOR=void 0;var wQ=a1(),NQ=Rv(),xQ=c1(),u1=qv(),l1=Mv(),p1=()=>({});as.CONFIG_PREFIX_SEPARATOR=".";var bQ=async(t={})=>{let{filepath:e=(0,xQ.getCredentialsFilepath)(),configFilepath:r=(0,NQ.getConfigFilepath)()}=t,n=await Promise.all([(0,l1.slurpFile)(r,{ignoreCache:t.ignoreCache}).then(u1.parseIni).then(wQ.getConfigData).catch(p1),(0,l1.slurpFile)(e,{ignoreCache:t.ignoreCache}).then(u1.parseIni).catch(p1)]);return{configFile:n[0],credentialsFile:n[1]}};as.loadSharedConfigFiles=bQ});var m1=c(Zm=>{"use strict";Object.defineProperty(Zm,"__esModule",{value:!0});Zm.getSsoSessionData=void 0;var CQ=$(),f1=ss(),OQ=t=>Object.entries(t).filter(([e])=>e.startsWith(CQ.IniSectionType.SSO_SESSION+f1.CONFIG_PREFIX_SEPARATOR)).reduce((e,[r,n])=>({...e,[r.split(f1.CONFIG_PREFIX_SEPARATOR)[1]]:n}),{});Zm.getSsoSessionData=OQ});var h1=c(eh=>{"use strict";Object.defineProperty(eh,"__esModule",{value:!0});eh.loadSsoSessionData=void 0;var AQ=Rv(),TQ=m1(),PQ=qv(),IQ=Mv(),RQ=()=>({}),qQ=async(t={})=>{var e;return(0,IQ.slurpFile)((e=t.configFilepath)!==null&&e!==void 0?e:(0,AQ.getConfigFilepath)()).then(PQ.parseIni).then(TQ.getSsoSessionData).catch(RQ)};eh.loadSsoSessionData=qQ});var _1=c(th=>{"use strict";Object.defineProperty(th,"__esModule",{value:!0});th.mergeConfigFiles=void 0;var DQ=(...t)=>{let e={};for(let r of t)for(let[n,i]of Object.entries(r))e[n]!==void 0?Object.assign(e[n],i):e[n]=i;return e};th.mergeConfigFiles=DQ});var y1=c(rh=>{"use strict";Object.defineProperty(rh,"__esModule",{value:!0});rh.parseKnownFiles=void 0;var MQ=ss(),kQ=_1(),FQ=async t=>{let e=await(0,MQ.loadSharedConfigFiles)(t);return(0,kQ.mergeConfigFiles)(e.configFile,e.credentialsFile)};rh.parseKnownFiles=FQ});var E1=c(g1=>{"use strict";Object.defineProperty(g1,"__esModule",{value:!0})});var v1=c(cr=>{"use strict";Object.defineProperty(cr,"__esModule",{value:!0});var Ln=(x(),S(N));Ln.__exportStar(Tc(),cr);Ln.__exportStar(n1(),cr);Ln.__exportStar(Iv(),cr);Ln.__exportStar(i1(),cr);Ln.__exportStar(ss(),cr);Ln.__exportStar(h1(),cr);Ln.__exportStar(y1(),cr);Ln.__exportStar(E1(),cr)});var ih=c(nh=>{"use strict";Object.defineProperty(nh,"__esModule",{value:!0});nh.httpRequest=void 0;var kv=G(),LQ=M("buffer"),UQ=M("http");function jQ(t){return new Promise((e,r)=>{var n;let i=(0,UQ.request)({method:"GET",...t,hostname:(n=t.hostname)===null||n===void 0?void 0:n.replace(/^\[(.+)\]$/,"$1")});i.on("error",o=>{r(Object.assign(new kv.ProviderError("Unable to connect to instance metadata service"),o)),i.destroy()}),i.on("timeout",()=>{r(new kv.ProviderError("TimeoutError from instance metadata service")),i.destroy()}),i.on("response",o=>{let{statusCode:s=400}=o;(s<200||300<=s)&&(r(Object.assign(new kv.ProviderError("Error response received from instance metadata service"),{statusCode:s})),i.destroy());let a=[];o.on("data",d=>{a.push(d)}),o.on("end",()=>{e(LQ.Buffer.concat(a)),i.destroy()})}),i.end()})}nh.httpRequest=jQ});var Fv=c(cs=>{"use strict";Object.defineProperty(cs,"__esModule",{value:!0});cs.fromImdsCredentials=cs.isImdsCredentials=void 0;var WQ=t=>!!t&&typeof t=="object"&&typeof t.AccessKeyId=="string"&&typeof t.SecretAccessKey=="string"&&typeof t.Token=="string"&&typeof t.Expiration=="string";cs.isImdsCredentials=WQ;var BQ=t=>({accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,sessionToken:t.Token,expiration:new Date(t.Expiration)});cs.fromImdsCredentials=BQ});var oh=c(dr=>{"use strict";Object.defineProperty(dr,"__esModule",{value:!0});dr.providerConfigFromInit=dr.DEFAULT_MAX_RETRIES=dr.DEFAULT_TIMEOUT=void 0;dr.DEFAULT_TIMEOUT=1e3;dr.DEFAULT_MAX_RETRIES=0;var VQ=({maxRetries:t=dr.DEFAULT_MAX_RETRIES,timeout:e=dr.DEFAULT_TIMEOUT})=>({maxRetries:t,timeout:e});dr.providerConfigFromInit=VQ});var Lv=c(sh=>{"use strict";Object.defineProperty(sh,"__esModule",{value:!0});sh.retry=void 0;var $Q=(t,e)=>{let r=t();for(let n=0;n<e;n++)r=r.catch(t);return r};sh.retry=$Q});var w1=c(be=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});be.fromContainerMetadata=be.ENV_CMDS_AUTH_TOKEN=be.ENV_CMDS_RELATIVE_URI=be.ENV_CMDS_FULL_URI=void 0;var ah=G(),zQ=M("url"),HQ=ih(),S1=Fv(),GQ=oh(),KQ=Lv();be.ENV_CMDS_FULL_URI="AWS_CONTAINER_CREDENTIALS_FULL_URI";be.ENV_CMDS_RELATIVE_URI="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI";be.ENV_CMDS_AUTH_TOKEN="AWS_CONTAINER_AUTHORIZATION_TOKEN";var QQ=(t={})=>{let{timeout:e,maxRetries:r}=(0,GQ.providerConfigFromInit)(t);return()=>(0,KQ.retry)(async()=>{let n=await e9(),i=JSON.parse(await YQ(e,n));if(!(0,S1.isImdsCredentials)(i))throw new ah.CredentialsProviderError("Invalid response received from instance metadata service.");return(0,S1.fromImdsCredentials)(i)},r)};be.fromContainerMetadata=QQ;var YQ=async(t,e)=>(process.env[be.ENV_CMDS_AUTH_TOKEN]&&(e.headers={...e.headers,Authorization:process.env[be.ENV_CMDS_AUTH_TOKEN]}),(await(0,HQ.httpRequest)({...e,timeout:t})).toString()),JQ="169.254.170.2",XQ={localhost:!0,"127.0.0.1":!0},ZQ={"http:":!0,"https:":!0},e9=async()=>{if(process.env[be.ENV_CMDS_RELATIVE_URI])return{hostname:JQ,path:process.env[be.ENV_CMDS_RELATIVE_URI]};if(process.env[be.ENV_CMDS_FULL_URI]){let t=(0,zQ.parse)(process.env[be.ENV_CMDS_FULL_URI]);if(!t.hostname||!(t.hostname in XQ))throw new ah.CredentialsProviderError(`${t.hostname} is not a valid container metadata service hostname`,!1);if(!t.protocol||!(t.protocol in ZQ))throw new ah.CredentialsProviderError(`${t.protocol} is not a valid container metadata service protocol`,!1);return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new ah.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${be.ENV_CMDS_RELATIVE_URI} or ${be.ENV_CMDS_FULL_URI} environment variable is set`,!1)}});var N1=c(Pc=>{"use strict";Object.defineProperty(Pc,"__esModule",{value:!0});Pc.Endpoint=void 0;var t9;(function(t){t.IPv4="http://169.254.169.254",t.IPv6="http://[fd00:ec2::254]"})(t9=Pc.Endpoint||(Pc.Endpoint={}))});var x1=c(ur=>{"use strict";Object.defineProperty(ur,"__esModule",{value:!0});ur.ENDPOINT_CONFIG_OPTIONS=ur.CONFIG_ENDPOINT_NAME=ur.ENV_ENDPOINT_NAME=void 0;ur.ENV_ENDPOINT_NAME="AWS_EC2_METADATA_SERVICE_ENDPOINT";ur.CONFIG_ENDPOINT_NAME="ec2_metadata_service_endpoint";ur.ENDPOINT_CONFIG_OPTIONS={environmentVariableSelector:t=>t[ur.ENV_ENDPOINT_NAME],configFileSelector:t=>t[ur.CONFIG_ENDPOINT_NAME],default:void 0}});var Uv=c(Ic=>{"use strict";Object.defineProperty(Ic,"__esModule",{value:!0});Ic.EndpointMode=void 0;var r9;(function(t){t.IPv4="IPv4",t.IPv6="IPv6"})(r9=Ic.EndpointMode||(Ic.EndpointMode={}))});var b1=c(lr=>{"use strict";Object.defineProperty(lr,"__esModule",{value:!0});lr.ENDPOINT_MODE_CONFIG_OPTIONS=lr.CONFIG_ENDPOINT_MODE_NAME=lr.ENV_ENDPOINT_MODE_NAME=void 0;var n9=Uv();lr.ENV_ENDPOINT_MODE_NAME="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE";lr.CONFIG_ENDPOINT_MODE_NAME="ec2_metadata_service_endpoint_mode";lr.ENDPOINT_MODE_CONFIG_OPTIONS={environmentVariableSelector:t=>t[lr.ENV_ENDPOINT_MODE_NAME],configFileSelector:t=>t[lr.CONFIG_ENDPOINT_MODE_NAME],default:n9.EndpointMode.IPv4}});var Wv=c(ch=>{"use strict";Object.defineProperty(ch,"__esModule",{value:!0});ch.getInstanceMetadataEndpoint=void 0;var O1=Pt(),i9=yn(),C1=N1(),o9=x1(),jv=Uv(),s9=b1(),a9=async()=>(0,i9.parseUrl)(await c9()||await d9());ch.getInstanceMetadataEndpoint=a9;var c9=async()=>(0,O1.loadConfig)(o9.ENDPOINT_CONFIG_OPTIONS)(),d9=async()=>{let t=await(0,O1.loadConfig)(s9.ENDPOINT_MODE_CONFIG_OPTIONS)();switch(t){case jv.EndpointMode.IPv4:return C1.Endpoint.IPv4;case jv.EndpointMode.IPv6:return C1.Endpoint.IPv6;default:throw new Error(`Unsupported endpoint mode: ${t}. Select from ${Object.values(jv.EndpointMode)}`)}}});var A1=c(dh=>{"use strict";Object.defineProperty(dh,"__esModule",{value:!0});dh.getExtendedInstanceMetadataCredentials=void 0;var u9=5*60,l9=5*60,p9="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",f9=(t,e)=>{var r;let n=u9+Math.floor(Math.random()*l9),i=new Date(Date.now()+n*1e3);e.warn("Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(newExpiration)}.\nFor more information, please visit: "+p9);let o=(r=t.originalExpiration)!==null&&r!==void 0?r:t.expiration;return{...t,...o?{originalExpiration:o}:{},expiration:i}};dh.getExtendedInstanceMetadataCredentials=f9});var P1=c(uh=>{"use strict";Object.defineProperty(uh,"__esModule",{value:!0});uh.staticStabilityProvider=void 0;var T1=A1(),m9=(t,e={})=>{let r=e?.logger||console,n;return async()=>{let i;try{i=await t(),i.expiration&&i.expiration.getTime()<Date.now()&&(i=(0,T1.getExtendedInstanceMetadataCredentials)(i,r))}catch(o){if(n)r.warn("Credential renew failed: ",o),i=(0,T1.getExtendedInstanceMetadataCredentials)(n,r);else throw o}return n=i,i}};uh.staticStabilityProvider=m9});var D1=c(lh=>{"use strict";Object.defineProperty(lh,"__esModule",{value:!0});lh.fromInstanceMetadata=void 0;var h9=G(),Bv=ih(),I1=Fv(),_9=oh(),R1=Lv(),y9=Wv(),g9=P1(),q1="/latest/meta-data/iam/security-credentials/",E9="/latest/api/token",v9=(t={})=>(0,g9.staticStabilityProvider)(S9(t),{logger:t.logger});lh.fromInstanceMetadata=v9;var S9=t=>{let e=!1,{timeout:r,maxRetries:n}=(0,_9.providerConfigFromInit)(t),i=async(o,s)=>{let a=(await(0,R1.retry)(async()=>{let d;try{d=await N9(s)}catch(l){throw l.statusCode===401&&(e=!1),l}return d},o)).trim();return(0,R1.retry)(async()=>{let d;try{d=await x9(a,s)}catch(l){throw l.statusCode===401&&(e=!1),l}return d},o)};return async()=>{let o=await(0,y9.getInstanceMetadataEndpoint)();if(e)return i(n,{...o,timeout:r});{let s;try{s=(await w9({...o,timeout:r})).toString()}catch(a){if(a?.statusCode===400)throw Object.assign(a,{message:"EC2 Metadata token request returned error"});return(a.message==="TimeoutError"||[403,404,405].includes(a.statusCode))&&(e=!0),i(n,{...o,timeout:r})}return i(n,{...o,headers:{"x-aws-ec2-metadata-token":s},timeout:r})}}},w9=async t=>(0,Bv.httpRequest)({...t,path:E9,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),N9=async t=>(await(0,Bv.httpRequest)({...t,path:q1})).toString(),x9=async(t,e)=>{let r=JSON.parse((await(0,Bv.httpRequest)({...e,path:q1+t})).toString());if(!(0,I1.isImdsCredentials)(r))throw new h9.CredentialsProviderError("Invalid response received from instance metadata service.");return(0,I1.fromImdsCredentials)(r)}});var k1=c(M1=>{"use strict";Object.defineProperty(M1,"__esModule",{value:!0})});var F1=c(pr=>{"use strict";Object.defineProperty(pr,"__esModule",{value:!0});pr.getInstanceMetadataEndpoint=pr.httpRequest=void 0;var ph=(x(),S(N));ph.__exportStar(w1(),pr);ph.__exportStar(D1(),pr);ph.__exportStar(oh(),pr);ph.__exportStar(k1(),pr);var b9=ih();Object.defineProperty(pr,"httpRequest",{enumerable:!0,get:function(){return b9.httpRequest}});var C9=Wv();Object.defineProperty(pr,"getInstanceMetadataEndpoint",{enumerable:!0,get:function(){return C9.getInstanceMetadataEndpoint}})});var L1=c(Ci=>{"use strict";Object.defineProperty(Ci,"__esModule",{value:!0});Ci.remoteProvider=Ci.ENV_IMDS_DISABLED=void 0;var fh=F1(),O9=Gd();Ci.ENV_IMDS_DISABLED="AWS_EC2_METADATA_DISABLED";var A9=t=>process.env[fh.ENV_CMDS_RELATIVE_URI]||process.env[fh.ENV_CMDS_FULL_URI]?(0,fh.fromContainerMetadata)(t):process.env[Ci.ENV_IMDS_DISABLED]?async()=>{throw new O9.CredentialsProviderError("EC2 Instance Metadata Service access disabled")}:(0,fh.fromInstanceMetadata)(t);Ci.remoteProvider=A9});var U1=c(mh=>{"use strict";Object.defineProperty(mh,"__esModule",{value:!0});mh.defaultProvider=void 0;var T9=bE(),P9=r1(),I9=jE(),R9=jm(),q9=Av(),Vv=Gd(),D9=v1(),M9=L1(),k9=(t={})=>(0,Vv.memoize)((0,Vv.chain)(...t.profile||process.env[D9.ENV_PROFILE]?[]:[(0,T9.fromEnv)()],(0,R9.fromSSO)(t),(0,P9.fromIni)(t),(0,I9.fromProcess)(t),(0,q9.fromTokenFile)(t),(0,M9.remoteProvider)(t),async()=>{throw new Vv.CredentialsProviderError("Could not load credentials from any providers",!1)}),e=>e.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5,e=>e.expiration!==void 0);mh.defaultProvider=k9});var zv=c($v=>{"use strict";Object.defineProperty($v,"__esModule",{value:!0});var F9=(x(),S(N));F9.__exportStar(U1(),$v)});var aD=c(hh=>{"use strict";Object.defineProperty(hh,"__esModule",{value:!0});hh.ruleSet=void 0;var J1="required",k="type",z="fn",H="argv",jn="ref",j1=!1,Hv=!0,Un="booleanEquals",Pe="stringEquals",X1="sigv4",Z1="sts",eD="us-east-1",re="endpoint",W1="https://sts.{Region}.{PartitionResult#dnsSuffix}",fr="tree",ds="error",Kv="getAttr",B1={[J1]:!1,[k]:"String"},Gv={[J1]:!0,default:!1,[k]:"Boolean"},tD={[jn]:"Endpoint"},V1={[z]:"isSet",[H]:[{[jn]:"Region"}]},Ie={[jn]:"Region"},$1={[z]:"aws.partition",[H]:[Ie],assign:"PartitionResult"},rD={[jn]:"UseFIPS"},nD={[jn]:"UseDualStack"},Le={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:X1,signingName:Z1,signingRegion:eD}]},headers:{}},at={},z1={conditions:[{[z]:Pe,[H]:[Ie,"aws-global"]}],[re]:Le,[k]:re},iD={[z]:Un,[H]:[rD,!0]},oD={[z]:Un,[H]:[nD,!0]},H1={[z]:Kv,[H]:[{[jn]:"PartitionResult"},"supportsFIPS"]},sD={[jn]:"PartitionResult"},G1={[z]:Un,[H]:[!0,{[z]:Kv,[H]:[sD,"supportsDualStack"]}]},K1=[{[z]:"isSet",[H]:[tD]}],Q1=[iD],Y1=[oD],L9={version:"1.0",parameters:{Region:B1,UseDualStack:Gv,UseFIPS:Gv,Endpoint:B1,UseGlobalEndpoint:Gv},rules:[{conditions:[{[z]:Un,[H]:[{[jn]:"UseGlobalEndpoint"},Hv]},{[z]:"not",[H]:K1},V1,$1,{[z]:Un,[H]:[rD,j1]},{[z]:Un,[H]:[nD,j1]}],rules:[{conditions:[{[z]:Pe,[H]:[Ie,"ap-northeast-1"]}],endpoint:Le,[k]:re},{conditions:[{[z]:Pe,[H]:[Ie,"ap-south-1"]}],endpoint:Le,[k]:re},{conditions:[{[z]:Pe,[H]:[Ie,"ap-southeast-1"]}],endpoint:Le,[k]:re},{conditions:[{[z]:Pe,[H]:[Ie,"ap-southeast-2"]}],endpoint:Le,[k]:re},z1,{conditions:[{[z]:Pe,[H]:[Ie,"ca-central-1"]}],endpoint:Le,[k]:re},{conditions:[{[z]:Pe,[H]:[Ie,"eu-central-1"]}],endpoint:Le,[k]:re},{conditions:[{[z]:Pe,[H]:[Ie,"eu-north-1"]}],endpoint:Le,[k]:re},{conditions:[{[z]:Pe,[H]:[Ie,"eu-west-1"]}],endpoint:Le,[k]:re},{conditions:[{[z]:Pe,[H]:[Ie,"eu-west-2"]}],endpoint:Le,[k]:re},{conditions:[{[z]:Pe,[H]:[Ie,"eu-west-3"]}],endpoint:Le,[k]:re},{conditions:[{[z]:Pe,[H]:[Ie,"sa-east-1"]}],endpoint:Le,[k]:re},{conditions:[{[z]:Pe,[H]:[Ie,eD]}],endpoint:Le,[k]:re},{conditions:[{[z]:Pe,[H]:[Ie,"us-east-2"]}],endpoint:Le,[k]:re},{conditions:[{[z]:Pe,[H]:[Ie,"us-west-1"]}],endpoint:Le,[k]:re},{conditions:[{[z]:Pe,[H]:[Ie,"us-west-2"]}],endpoint:Le,[k]:re},{endpoint:{url:W1,properties:{authSchemes:[{name:X1,signingName:Z1,signingRegion:"{Region}"}]},headers:at},[k]:re}],[k]:fr},{conditions:K1,rules:[{conditions:Q1,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[k]:ds},{conditions:Y1,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[k]:ds},{endpoint:{url:tD,properties:at,headers:at},[k]:re}],[k]:fr},{conditions:[V1],rules:[{conditions:[$1],rules:[{conditions:[iD,oD],rules:[{conditions:[{[z]:Un,[H]:[Hv,H1]},G1],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:at,headers:at},[k]:re}],[k]:fr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[k]:ds}],[k]:fr},{conditions:Q1,rules:[{conditions:[{[z]:Un,[H]:[H1,Hv]}],rules:[{conditions:[{[z]:Pe,[H]:[{[z]:Kv,[H]:[sD,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:at,headers:at},[k]:re},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:at,headers:at},[k]:re}],[k]:fr},{error:"FIPS is enabled but this partition does not support FIPS",[k]:ds}],[k]:fr},{conditions:Y1,rules:[{conditions:[G1],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:at,headers:at},[k]:re}],[k]:fr},{error:"DualStack is enabled but this partition does not support DualStack",[k]:ds}],[k]:fr},z1,{endpoint:{url:W1,properties:at,headers:at},[k]:re}],[k]:fr}],[k]:fr},{error:"Invalid Configuration: Missing Region",[k]:ds}]};hh.ruleSet=L9});var cD=c(_h=>{"use strict";Object.defineProperty(_h,"__esModule",{value:!0});_h.defaultEndpointResolver=void 0;var U9=Ht(),j9=aD(),W9=(t,e={})=>(0,U9.resolveEndpoint)(j9.ruleSet,{endpointParams:t,logger:e.logger});_h.defaultEndpointResolver=W9});var lD=c(yh=>{"use strict";Object.defineProperty(yh,"__esModule",{value:!0});yh.getRuntimeConfig=void 0;var B9=A(),V9=yn(),dD=bo(),uD=zt(),$9=cD(),z9=t=>({apiVersion:"2011-06-15",base64Decoder:t?.base64Decoder??dD.fromBase64,base64Encoder:t?.base64Encoder??dD.toBase64,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??$9.defaultEndpointResolver,extensions:t?.extensions??[],logger:t?.logger??new B9.NoOpLogger,serviceId:t?.serviceId??"STS",urlParser:t?.urlParser??V9.parseUrl,utf8Decoder:t?.utf8Decoder??uD.fromUtf8,utf8Encoder:t?.utf8Encoder??uD.toUtf8});yh.getRuntimeConfig=z9});var mD=c(Eh=>{"use strict";Object.defineProperty(Eh,"__esModule",{value:!0});Eh.getRuntimeConfig=void 0;var H9=(x(),S(N)),G9=H9.__importDefault(LT()),K9=wE(),Q9=uc(),Y9=zv(),J9=fc(),gh=Kt(),X9=mc(),pD=Fr(),Rc=Pt(),fD=Ao(),Z9=hc(),eY=yt(),tY=lD(),rY=A(),nY=yc(),iY=A(),oY=t=>{(0,iY.emitWarningIfUnsupportedVersion)(process.version);let e=(0,nY.resolveDefaultsModeConfig)(t),r=()=>e().then(rY.loadConfigsForDefaultMode),n=(0,tY.getRuntimeConfig)(t);return(0,Q9.emitWarningIfUnsupportedVersion)(process.version),{...n,...t,runtime:"node",defaultsMode:e,bodyLengthChecker:t?.bodyLengthChecker??Z9.calculateBodyLength,credentialDefaultProvider:t?.credentialDefaultProvider??(0,K9.decorateDefaultCredentialProvider)(Y9.defaultProvider),defaultUserAgentProvider:t?.defaultUserAgentProvider??(0,J9.defaultUserAgent)({serviceId:n.serviceId,clientVersion:G9.default.version}),maxAttempts:t?.maxAttempts??(0,Rc.loadConfig)(pD.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:t?.region??(0,Rc.loadConfig)(gh.NODE_REGION_CONFIG_OPTIONS,gh.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:t?.requestHandler??new fD.NodeHttpHandler(r),retryMode:t?.retryMode??(0,Rc.loadConfig)({...pD.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||eY.DEFAULT_RETRY_MODE}),sha256:t?.sha256??X9.Hash.bind(null,"sha256"),streamCollector:t?.streamCollector??fD.streamCollector,useDualstackEndpoint:t?.useDualstackEndpoint??(0,Rc.loadConfig)(gh.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:t?.useFipsEndpoint??(0,Rc.loadConfig)(gh.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};Eh.getRuntimeConfig=oY});var gD=c(vh=>{"use strict";Object.defineProperty(vh,"__esModule",{value:!0});vh.resolveRuntimeExtensions=void 0;var hD=Ec(),_D=ve(),yD=A(),Qv=t=>t,sY=(t,e)=>{let r={...Qv((0,hD.getAwsRegionExtensionConfiguration)(t)),...Qv((0,yD.getDefaultExtensionConfiguration)(t)),...Qv((0,_D.getHttpHandlerExtensionConfiguration)(t))};return e.forEach(n=>n.configure(r)),{...t,...(0,hD.resolveAwsRegionExtensionConfiguration)(r),...(0,yD.resolveDefaultRuntimeConfig)(r),...(0,_D.resolveHttpHandlerRuntimeConfig)(r)}};vh.resolveRuntimeExtensions=sY});var Sh=c(us=>{"use strict";Object.defineProperty(us,"__esModule",{value:!0});us.STSClient=us.__Client=void 0;var ED=Ca(),aY=Oa(),cY=Aa(),dY=kT(),vD=Wa(),uY=Kt(),lY=$a(),pY=Q(),SD=Fr(),wD=A();Object.defineProperty(us,"__Client",{enumerable:!0,get:function(){return wD.Client}});var fY=FT(),mY=mD(),hY=gD(),Yv=class t extends wD.Client{constructor(...[e]){let r=(0,mY.getRuntimeConfig)(e||{}),n=(0,fY.resolveClientEndpointParameters)(r),i=(0,uY.resolveRegionConfig)(n),o=(0,pY.resolveEndpointConfig)(i),s=(0,SD.resolveRetryConfig)(o),a=(0,ED.resolveHostHeaderConfig)(s),d=(0,dY.resolveStsAuthConfig)(a,{stsClientCtor:t}),l=(0,vD.resolveUserAgentConfig)(d),p=(0,hY.resolveRuntimeExtensions)(l,e?.extensions||[]);super(p),this.config=p,this.middlewareStack.use((0,SD.getRetryPlugin)(this.config)),this.middlewareStack.use((0,lY.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,ED.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,aY.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,cY.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,vD.getUserAgentPlugin)(this.config))}destroy(){super.destroy()}};us.STSClient=Yv});var Xv=c(ls=>{"use strict";Object.defineProperty(ls,"__esModule",{value:!0});ls.AssumeRoleWithSAMLCommand=ls.$Command=void 0;var _Y=Q(),yY=se(),bD=A();Object.defineProperty(ls,"$Command",{enumerable:!0,get:function(){return bD.Command}});var gY=$(),ND=Cn(),xD=Wr(),Jv=class t extends bD.Command{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use((0,yY.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,_Y.getEndpointPlugin)(r,t.getEndpointParameterInstructions()));let i=e.concat(this.middlewareStack),{logger:o}=r,d={logger:o,clientName:"STSClient",commandName:"AssumeRoleWithSAMLCommand",inputFilterSensitiveLog:ND.AssumeRoleWithSAMLRequestFilterSensitiveLog,outputFilterSensitiveLog:ND.AssumeRoleWithSAMLResponseFilterSensitiveLog,[gY.SMITHY_CONTEXT_KEY]:{service:"AWSSecurityTokenServiceV20110615",operation:"AssumeRoleWithSAML"}},{requestHandler:l}=r;return i.resolve(p=>l.handle(p.request,n||{}),d)}serialize(e,r){return(0,xD.se_AssumeRoleWithSAMLCommand)(e,r)}deserialize(e,r){return(0,xD.de_AssumeRoleWithSAMLCommand)(e,r)}};ls.AssumeRoleWithSAMLCommand=Jv});var eS=c(ps=>{"use strict";Object.defineProperty(ps,"__esModule",{value:!0});ps.DecodeAuthorizationMessageCommand=ps.$Command=void 0;var EY=Tr(),vY=Q(),SY=se(),OD=A();Object.defineProperty(ps,"$Command",{enumerable:!0,get:function(){return OD.Command}});var wY=$(),CD=Wr(),Zv=class t extends OD.Command{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use((0,SY.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,vY.getEndpointPlugin)(r,t.getEndpointParameterInstructions())),this.middlewareStack.use((0,EY.getAwsAuthPlugin)(r));let i=e.concat(this.middlewareStack),{logger:o}=r,d={logger:o,clientName:"STSClient",commandName:"DecodeAuthorizationMessageCommand",inputFilterSensitiveLog:p=>p,outputFilterSensitiveLog:p=>p,[wY.SMITHY_CONTEXT_KEY]:{service:"AWSSecurityTokenServiceV20110615",operation:"DecodeAuthorizationMessage"}},{requestHandler:l}=r;return i.resolve(p=>l.handle(p.request,n||{}),d)}serialize(e,r){return(0,CD.se_DecodeAuthorizationMessageCommand)(e,r)}deserialize(e,r){return(0,CD.de_DecodeAuthorizationMessageCommand)(e,r)}};ps.DecodeAuthorizationMessageCommand=Zv});var rS=c(fs=>{"use strict";Object.defineProperty(fs,"__esModule",{value:!0});fs.GetAccessKeyInfoCommand=fs.$Command=void 0;var NY=Tr(),xY=Q(),bY=se(),TD=A();Object.defineProperty(fs,"$Command",{enumerable:!0,get:function(){return TD.Command}});var CY=$(),AD=Wr(),tS=class t extends TD.Command{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use((0,bY.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,xY.getEndpointPlugin)(r,t.getEndpointParameterInstructions())),this.middlewareStack.use((0,NY.getAwsAuthPlugin)(r));let i=e.concat(this.middlewareStack),{logger:o}=r,d={logger:o,clientName:"STSClient",commandName:"GetAccessKeyInfoCommand",inputFilterSensitiveLog:p=>p,outputFilterSensitiveLog:p=>p,[CY.SMITHY_CONTEXT_KEY]:{service:"AWSSecurityTokenServiceV20110615",operation:"GetAccessKeyInfo"}},{requestHandler:l}=r;return i.resolve(p=>l.handle(p.request,n||{}),d)}serialize(e,r){return(0,AD.se_GetAccessKeyInfoCommand)(e,r)}deserialize(e,r){return(0,AD.de_GetAccessKeyInfoCommand)(e,r)}};fs.GetAccessKeyInfoCommand=tS});var iS=c(ms=>{"use strict";Object.defineProperty(ms,"__esModule",{value:!0});ms.GetCallerIdentityCommand=ms.$Command=void 0;var OY=Tr(),AY=Q(),TY=se(),ID=A();Object.defineProperty(ms,"$Command",{enumerable:!0,get:function(){return ID.Command}});var PY=$(),PD=Wr(),nS=class t extends ID.Command{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use((0,TY.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,AY.getEndpointPlugin)(r,t.getEndpointParameterInstructions())),this.middlewareStack.use((0,OY.getAwsAuthPlugin)(r));let i=e.concat(this.middlewareStack),{logger:o}=r,d={logger:o,clientName:"STSClient",commandName:"GetCallerIdentityCommand",inputFilterSensitiveLog:p=>p,outputFilterSensitiveLog:p=>p,[PY.SMITHY_CONTEXT_KEY]:{service:"AWSSecurityTokenServiceV20110615",operation:"GetCallerIdentity"}},{requestHandler:l}=r;return i.resolve(p=>l.handle(p.request,n||{}),d)}serialize(e,r){return(0,PD.se_GetCallerIdentityCommand)(e,r)}deserialize(e,r){return(0,PD.de_GetCallerIdentityCommand)(e,r)}};ms.GetCallerIdentityCommand=nS});var sS=c(hs=>{"use strict";Object.defineProperty(hs,"__esModule",{value:!0});hs.GetFederationTokenCommand=hs.$Command=void 0;var IY=Tr(),RY=Q(),qY=se(),qD=A();Object.defineProperty(hs,"$Command",{enumerable:!0,get:function(){return qD.Command}});var DY=$(),MY=Cn(),RD=Wr(),oS=class t extends qD.Command{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use((0,qY.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,RY.getEndpointPlugin)(r,t.getEndpointParameterInstructions())),this.middlewareStack.use((0,IY.getAwsAuthPlugin)(r));let i=e.concat(this.middlewareStack),{logger:o}=r,d={logger:o,clientName:"STSClient",commandName:"GetFederationTokenCommand",inputFilterSensitiveLog:p=>p,outputFilterSensitiveLog:MY.GetFederationTokenResponseFilterSensitiveLog,[DY.SMITHY_CONTEXT_KEY]:{service:"AWSSecurityTokenServiceV20110615",operation:"GetFederationToken"}},{requestHandler:l}=r;return i.resolve(p=>l.handle(p.request,n||{}),d)}serialize(e,r){return(0,RD.se_GetFederationTokenCommand)(e,r)}deserialize(e,r){return(0,RD.de_GetFederationTokenCommand)(e,r)}};hs.GetFederationTokenCommand=oS});var cS=c(_s=>{"use strict";Object.defineProperty(_s,"__esModule",{value:!0});_s.GetSessionTokenCommand=_s.$Command=void 0;var kY=Tr(),FY=Q(),LY=se(),MD=A();Object.defineProperty(_s,"$Command",{enumerable:!0,get:function(){return MD.Command}});var UY=$(),jY=Cn(),DD=Wr(),aS=class t extends MD.Command{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use((0,LY.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,FY.getEndpointPlugin)(r,t.getEndpointParameterInstructions())),this.middlewareStack.use((0,kY.getAwsAuthPlugin)(r));let i=e.concat(this.middlewareStack),{logger:o}=r,d={logger:o,clientName:"STSClient",commandName:"GetSessionTokenCommand",inputFilterSensitiveLog:p=>p,outputFilterSensitiveLog:jY.GetSessionTokenResponseFilterSensitiveLog,[UY.SMITHY_CONTEXT_KEY]:{service:"AWSSecurityTokenServiceV20110615",operation:"GetSessionToken"}},{requestHandler:l}=r;return i.resolve(p=>l.handle(p.request,n||{}),d)}serialize(e,r){return(0,DD.se_GetSessionTokenCommand)(e,r)}deserialize(e,r){return(0,DD.de_GetSessionTokenCommand)(e,r)}};_s.GetSessionTokenCommand=aS});var kD=c(Nh=>{"use strict";Object.defineProperty(Nh,"__esModule",{value:!0});Nh.STS=void 0;var WY=A(),BY=yf(),VY=Xv(),$Y=gf(),zY=eS(),HY=rS(),GY=iS(),KY=sS(),QY=cS(),YY=Sh(),JY={AssumeRoleCommand:BY.AssumeRoleCommand,AssumeRoleWithSAMLCommand:VY.AssumeRoleWithSAMLCommand,AssumeRoleWithWebIdentityCommand:$Y.AssumeRoleWithWebIdentityCommand,DecodeAuthorizationMessageCommand:zY.DecodeAuthorizationMessageCommand,GetAccessKeyInfoCommand:HY.GetAccessKeyInfoCommand,GetCallerIdentityCommand:GY.GetCallerIdentityCommand,GetFederationTokenCommand:KY.GetFederationTokenCommand,GetSessionTokenCommand:QY.GetSessionTokenCommand},wh=class extends YY.STSClient{};Nh.STS=wh;(0,WY.createAggregatedClient)(JY,wh)});var FD=c(mr=>{"use strict";Object.defineProperty(mr,"__esModule",{value:!0});var Wn=(x(),S(N));Wn.__exportStar(yf(),mr);Wn.__exportStar(Xv(),mr);Wn.__exportStar(gf(),mr);Wn.__exportStar(eS(),mr);Wn.__exportStar(rS(),mr);Wn.__exportStar(iS(),mr);Wn.__exportStar(sS(),mr);Wn.__exportStar(cS(),mr)});var LD=c(dS=>{"use strict";Object.defineProperty(dS,"__esModule",{value:!0});var XY=(x(),S(N));XY.__exportStar(Cn(),dS)});var BD=c(hr=>{"use strict";Object.defineProperty(hr,"__esModule",{value:!0});hr.decorateDefaultCredentialProvider=hr.getDefaultRoleAssumerWithWebIdentity=hr.getDefaultRoleAssumer=void 0;var UD=wE(),jD=Sh(),WD=(t,e)=>e?class extends t{constructor(n){super(n);for(let i of e)this.middlewareStack.use(i)}}:t,ZY=(t={},e)=>(0,UD.getDefaultRoleAssumer)(t,WD(jD.STSClient,e));hr.getDefaultRoleAssumer=ZY;var e7=(t={},e)=>(0,UD.getDefaultRoleAssumerWithWebIdentity)(t,WD(jD.STSClient,e));hr.getDefaultRoleAssumerWithWebIdentity=e7;var t7=t=>e=>t({roleAssumer:(0,hr.getDefaultRoleAssumer)(e),roleAssumerWithWebIdentity:(0,hr.getDefaultRoleAssumerWithWebIdentity)(e),...e});hr.decorateDefaultCredentialProvider=t7});var VD=c(zr=>{"use strict";Object.defineProperty(zr,"__esModule",{value:!0});zr.STSServiceException=void 0;var qc=(x(),S(N));qc.__exportStar(Sh(),zr);qc.__exportStar(kD(),zr);qc.__exportStar(FD(),zr);qc.__exportStar(LD(),zr);qc.__exportStar(BD(),zr);ja();var r7=pf();Object.defineProperty(zr,"STSServiceException",{enumerable:!0,get:function(){return r7.STSServiceException}})});var nM=c(xh=>{"use strict";Object.defineProperty(xh,"__esModule",{value:!0});xh.ruleSet=void 0;var eM="required",yr="fn",gr="argv",gs="ref",$D=!0,zD="isSet",Mc="booleanEquals",ys="error",Dc="endpoint",Hr="tree",uS="PartitionResult",HD={[eM]:!1,type:"String"},GD={[eM]:!0,default:!1,type:"Boolean"},KD={[gs]:"Endpoint"},tM={[yr]:Mc,[gr]:[{[gs]:"UseFIPS"},!0]},rM={[yr]:Mc,[gr]:[{[gs]:"UseDualStack"},!0]},_r={},QD={[yr]:"getAttr",[gr]:[{[gs]:uS},"supportsFIPS"]},YD={[yr]:Mc,[gr]:[!0,{[yr]:"getAttr",[gr]:[{[gs]:uS},"supportsDualStack"]}]},JD=[tM],XD=[rM],ZD=[{[gs]:"Region"}],n7={version:"1.0",parameters:{Region:HD,UseDualStack:GD,UseFIPS:GD,Endpoint:HD},rules:[{conditions:[{[yr]:zD,[gr]:[KD]}],rules:[{conditions:JD,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:ys},{conditions:XD,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:ys},{endpoint:{url:KD,properties:_r,headers:_r},type:Dc}],type:Hr},{conditions:[{[yr]:zD,[gr]:ZD}],rules:[{conditions:[{[yr]:"aws.partition",[gr]:ZD,assign:uS}],rules:[{conditions:[tM,rM],rules:[{conditions:[{[yr]:Mc,[gr]:[$D,QD]},YD],rules:[{endpoint:{url:"https://rds-data-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:_r,headers:_r},type:Dc}],type:Hr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:ys}],type:Hr},{conditions:JD,rules:[{conditions:[{[yr]:Mc,[gr]:[QD,$D]}],rules:[{endpoint:{url:"https://rds-data-fips.{Region}.{PartitionResult#dnsSuffix}",properties:_r,headers:_r},type:Dc}],type:Hr},{error:"FIPS is enabled but this partition does not support FIPS",type:ys}],type:Hr},{conditions:XD,rules:[{conditions:[YD],rules:[{endpoint:{url:"https://rds-data.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:_r,headers:_r},type:Dc}],type:Hr},{error:"DualStack is enabled but this partition does not support DualStack",type:ys}],type:Hr},{endpoint:{url:"https://rds-data.{Region}.{PartitionResult#dnsSuffix}",properties:_r,headers:_r},type:Dc}],type:Hr}],type:Hr},{error:"Invalid Configuration: Missing Region",type:ys}]};xh.ruleSet=n7});var iM=c(bh=>{"use strict";Object.defineProperty(bh,"__esModule",{value:!0});bh.defaultEndpointResolver=void 0;var i7=Ht(),o7=nM(),s7=(t,e={})=>(0,i7.resolveEndpoint)(o7.ruleSet,{endpointParams:t,logger:e.logger});bh.defaultEndpointResolver=s7});var aM=c(Ch=>{"use strict";Object.defineProperty(Ch,"__esModule",{value:!0});Ch.getRuntimeConfig=void 0;var a7=A(),c7=yn(),oM=bo(),sM=zt(),d7=iM(),u7=t=>({apiVersion:"2018-08-01",base64Decoder:t?.base64Decoder??oM.fromBase64,base64Encoder:t?.base64Encoder??oM.toBase64,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??d7.defaultEndpointResolver,extensions:t?.extensions??[],logger:t?.logger??new a7.NoOpLogger,serviceId:t?.serviceId??"RDS Data",urlParser:t?.urlParser??c7.parseUrl,utf8Decoder:t?.utf8Decoder??sM.fromUtf8,utf8Encoder:t?.utf8Encoder??sM.toUtf8});Ch.getRuntimeConfig=u7});var uM=c(Ah=>{"use strict";Object.defineProperty(Ah,"__esModule",{value:!0});Ah.getRuntimeConfig=void 0;var l7=(x(),S(N)),p7=l7.__importDefault(MT()),f7=VD(),m7=uc(),h7=zv(),_7=fc(),Oh=Kt(),y7=mc(),cM=Fr(),kc=Pt(),dM=Ao(),g7=hc(),E7=yt(),v7=aM(),S7=A(),w7=yc(),N7=A(),x7=t=>{(0,N7.emitWarningIfUnsupportedVersion)(process.version);let e=(0,w7.resolveDefaultsModeConfig)(t),r=()=>e().then(S7.loadConfigsForDefaultMode),n=(0,v7.getRuntimeConfig)(t);return(0,m7.emitWarningIfUnsupportedVersion)(process.version),{...n,...t,runtime:"node",defaultsMode:e,bodyLengthChecker:t?.bodyLengthChecker??g7.calculateBodyLength,credentialDefaultProvider:t?.credentialDefaultProvider??(0,f7.decorateDefaultCredentialProvider)(h7.defaultProvider),defaultUserAgentProvider:t?.defaultUserAgentProvider??(0,_7.defaultUserAgent)({serviceId:n.serviceId,clientVersion:p7.default.version}),maxAttempts:t?.maxAttempts??(0,kc.loadConfig)(cM.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:t?.region??(0,kc.loadConfig)(Oh.NODE_REGION_CONFIG_OPTIONS,Oh.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:t?.requestHandler??new dM.NodeHttpHandler(r),retryMode:t?.retryMode??(0,kc.loadConfig)({...cM.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||E7.DEFAULT_RETRY_MODE}),sha256:t?.sha256??y7.Hash.bind(null,"sha256"),streamCollector:t?.streamCollector??dM.streamCollector,useDualstackEndpoint:t?.useDualstackEndpoint??(0,kc.loadConfig)(Oh.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:t?.useFipsEndpoint??(0,kc.loadConfig)(Oh.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};Ah.getRuntimeConfig=x7});var mM=c(Th=>{"use strict";Object.defineProperty(Th,"__esModule",{value:!0});Th.resolveRuntimeExtensions=void 0;var lM=Ec(),pM=ve(),fM=A(),lS=t=>t,b7=(t,e)=>{let r={...lS((0,lM.getAwsRegionExtensionConfiguration)(t)),...lS((0,fM.getDefaultExtensionConfiguration)(t)),...lS((0,pM.getHttpHandlerExtensionConfiguration)(t))};return e.forEach(n=>n.configure(r)),{...t,...(0,lM.resolveAwsRegionExtensionConfiguration)(r),...(0,fM.resolveDefaultRuntimeConfig)(r),...(0,pM.resolveHttpHandlerRuntimeConfig)(r)}};Th.resolveRuntimeExtensions=b7});var fS=c(Es=>{"use strict";Object.defineProperty(Es,"__esModule",{value:!0});Es.RDSDataClient=Es.__Client=void 0;var hM=Ca(),C7=Oa(),O7=Aa(),_M=Tr(),yM=Wa(),A7=Kt(),T7=$a(),P7=Q(),gM=Fr(),EM=A();Object.defineProperty(Es,"__Client",{enumerable:!0,get:function(){return EM.Client}});var I7=DT(),R7=uM(),q7=mM(),pS=class extends EM.Client{constructor(...[e]){let r=(0,R7.getRuntimeConfig)(e||{}),n=(0,I7.resolveClientEndpointParameters)(r),i=(0,A7.resolveRegionConfig)(n),o=(0,P7.resolveEndpointConfig)(i),s=(0,gM.resolveRetryConfig)(o),a=(0,hM.resolveHostHeaderConfig)(s),d=(0,_M.resolveAwsAuthConfig)(a),l=(0,yM.resolveUserAgentConfig)(d),p=(0,q7.resolveRuntimeExtensions)(l,e?.extensions||[]);super(p),this.config=p,this.middlewareStack.use((0,gM.getRetryPlugin)(this.config)),this.middlewareStack.use((0,T7.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,hM.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,C7.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,O7.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,_M.getAwsAuthPlugin)(this.config)),this.middlewareStack.use((0,yM.getUserAgentPlugin)(this.config))}destroy(){super.destroy()}};Es.RDSDataClient=pS});var Ph=c(vs=>{"use strict";Object.defineProperty(vs,"__esModule",{value:!0});vs.RDSDataServiceException=vs.__ServiceException=void 0;var vM=A();Object.defineProperty(vs,"__ServiceException",{enumerable:!0,get:function(){return vM.ServiceException}});var mS=class t extends vM.ServiceException{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}};vs.RDSDataServiceException=mS});var wS=c(V=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});V.Value=V.Field=V.ArrayValue=V.LongReturnType=V.RecordsFormatType=V.DecimalReturnType=V.NotFoundException=V.StatementTimeoutException=V.ServiceUnavailableError=V.InternalServerErrorException=V.ForbiddenException=V.TypeHint=V.BadRequestException=V.AccessDeniedException=void 0;var Oi=Ph(),hS=class t extends Oi.RDSDataServiceException{constructor(e){super({name:"AccessDeniedException",$fault:"client",...e}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};V.AccessDeniedException=hS;var _S=class t extends Oi.RDSDataServiceException{constructor(e){super({name:"BadRequestException",$fault:"client",...e}),this.name="BadRequestException",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};V.BadRequestException=_S;V.TypeHint={DATE:"DATE",DECIMAL:"DECIMAL",JSON:"JSON",TIME:"TIME",TIMESTAMP:"TIMESTAMP",UUID:"UUID"};var yS=class t extends Oi.RDSDataServiceException{constructor(e){super({name:"ForbiddenException",$fault:"client",...e}),this.name="ForbiddenException",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};V.ForbiddenException=yS;var gS=class t extends Oi.RDSDataServiceException{constructor(e){super({name:"InternalServerErrorException",$fault:"server",...e}),this.name="InternalServerErrorException",this.$fault="server",Object.setPrototypeOf(this,t.prototype)}};V.InternalServerErrorException=gS;var ES=class t extends Oi.RDSDataServiceException{constructor(e){super({name:"ServiceUnavailableError",$fault:"server",...e}),this.name="ServiceUnavailableError",this.$fault="server",Object.setPrototypeOf(this,t.prototype)}};V.ServiceUnavailableError=ES;var vS=class t extends Oi.RDSDataServiceException{constructor(e){super({name:"StatementTimeoutException",$fault:"client",...e}),this.name="StatementTimeoutException",this.$fault="client",Object.setPrototypeOf(this,t.prototype),this.dbConnectionId=e.dbConnectionId}};V.StatementTimeoutException=vS;var SS=class t extends Oi.RDSDataServiceException{constructor(e){super({name:"NotFoundException",$fault:"client",...e}),this.name="NotFoundException",this.$fault="client",Object.setPrototypeOf(this,t.prototype)}};V.NotFoundException=SS;V.DecimalReturnType={DOUBLE_OR_LONG:"DOUBLE_OR_LONG",STRING:"STRING"};V.RecordsFormatType={JSON:"JSON",NONE:"NONE"};V.LongReturnType={LONG:"LONG",STRING:"STRING"};var D7;(function(t){t.visit=(e,r)=>e.booleanValues!==void 0?r.booleanValues(e.booleanValues):e.longValues!==void 0?r.longValues(e.longValues):e.doubleValues!==void 0?r.doubleValues(e.doubleValues):e.stringValues!==void 0?r.stringValues(e.stringValues):e.arrayValues!==void 0?r.arrayValues(e.arrayValues):r._(e.$unknown[0],e.$unknown[1])})(D7=V.ArrayValue||(V.ArrayValue={}));var M7;(function(t){t.visit=(e,r)=>e.isNull!==void 0?r.isNull(e.isNull):e.booleanValue!==void 0?r.booleanValue(e.booleanValue):e.longValue!==void 0?r.longValue(e.longValue):e.doubleValue!==void 0?r.doubleValue(e.doubleValue):e.stringValue!==void 0?r.stringValue(e.stringValue):e.blobValue!==void 0?r.blobValue(e.blobValue):e.arrayValue!==void 0?r.arrayValue(e.arrayValue):r._(e.$unknown[0],e.$unknown[1])})(M7=V.Field||(V.Field={}));var k7;(function(t){t.visit=(e,r)=>e.isNull!==void 0?r.isNull(e.isNull):e.bitValue!==void 0?r.bitValue(e.bitValue):e.bigIntValue!==void 0?r.bigIntValue(e.bigIntValue):e.intValue!==void 0?r.intValue(e.intValue):e.doubleValue!==void 0?r.doubleValue(e.doubleValue):e.realValue!==void 0?r.realValue(e.realValue):e.stringValue!==void 0?r.stringValue(e.stringValue):e.blobValue!==void 0?r.blobValue(e.blobValue):e.arrayValues!==void 0?r.arrayValues(e.arrayValues):e.structValue!==void 0?r.structValue(e.structValue):r._(e.$unknown[0],e.$unknown[1])})(k7=V.Value||(V.Value={}))});var Ti=c(J=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});J.de_RollbackTransactionCommand=J.de_ExecuteStatementCommand=J.de_ExecuteSqlCommand=J.de_CommitTransactionCommand=J.de_BeginTransactionCommand=J.de_BatchExecuteStatementCommand=J.se_RollbackTransactionCommand=J.se_ExecuteStatementCommand=J.se_ExecuteSqlCommand=J.se_CommitTransactionCommand=J.se_BeginTransactionCommand=J.se_BatchExecuteStatementCommand=void 0;var Fc=uc(),Ss=ve(),y=A(),Gr=wS(),F7=Ph(),L7=async(t,e)=>{let{hostname:r,protocol:n="https",port:i,path:o}=await e.endpoint(),s={"content-type":"application/json"},a=`${o?.endsWith("/")?o.slice(0,-1):o||""}/BatchExecute`,d;return d=JSON.stringify((0,y.take)(t,{database:[],parameterSets:l=>sJ(l,e),resourceArn:[],schema:[],secretArn:[],sql:[],transactionId:[]})),new Ss.HttpRequest({protocol:n,hostname:r,port:i,method:"POST",headers:s,path:a,body:d})};J.se_BatchExecuteStatementCommand=L7;var U7=async(t,e)=>{let{hostname:r,protocol:n="https",port:i,path:o}=await e.endpoint(),s={"content-type":"application/json"},a=`${o?.endsWith("/")?o.slice(0,-1):o||""}/BeginTransaction`,d;return d=JSON.stringify((0,y.take)(t,{database:[],resourceArn:[],schema:[],secretArn:[]})),new Ss.HttpRequest({protocol:n,hostname:r,port:i,method:"POST",headers:s,path:a,body:d})};J.se_BeginTransactionCommand=U7;var j7=async(t,e)=>{let{hostname:r,protocol:n="https",port:i,path:o}=await e.endpoint(),s={"content-type":"application/json"},a=`${o?.endsWith("/")?o.slice(0,-1):o||""}/CommitTransaction`,d;return d=JSON.stringify((0,y.take)(t,{resourceArn:[],secretArn:[],transactionId:[]})),new Ss.HttpRequest({protocol:n,hostname:r,port:i,method:"POST",headers:s,path:a,body:d})};J.se_CommitTransactionCommand=j7;var W7=async(t,e)=>{let{hostname:r,protocol:n="https",port:i,path:o}=await e.endpoint(),s={"content-type":"application/json"},a=`${o?.endsWith("/")?o.slice(0,-1):o||""}/ExecuteSql`,d;return d=JSON.stringify((0,y.take)(t,{awsSecretStoreArn:[],database:[],dbClusterOrInstanceArn:[],schema:[],sqlStatements:[]})),new Ss.HttpRequest({protocol:n,hostname:r,port:i,method:"POST",headers:s,path:a,body:d})};J.se_ExecuteSqlCommand=W7;var B7=async(t,e)=>{let{hostname:r,protocol:n="https",port:i,path:o}=await e.endpoint(),s={"content-type":"application/json"},a=`${o?.endsWith("/")?o.slice(0,-1):o||""}/Execute`,d;return d=JSON.stringify((0,y.take)(t,{continueAfterTimeout:[],database:[],formatRecordsAs:[],includeResultMetadata:[],parameters:l=>NM(l,e),resourceArn:[],resultSetOptions:l=>(0,y._json)(l),schema:[],secretArn:[],sql:[],transactionId:[]})),new Ss.HttpRequest({protocol:n,hostname:r,port:i,method:"POST",headers:s,path:a,body:d})};J.se_ExecuteStatementCommand=B7;var V7=async(t,e)=>{let{hostname:r,protocol:n="https",port:i,path:o}=await e.endpoint(),s={"content-type":"application/json"},a=`${o?.endsWith("/")?o.slice(0,-1):o||""}/RollbackTransaction`,d;return d=JSON.stringify((0,y.take)(t,{resourceArn:[],secretArn:[],transactionId:[]})),new Ss.HttpRequest({protocol:n,hostname:r,port:i,method:"POST",headers:s,path:a,body:d})};J.se_RollbackTransactionCommand=V7;var $7=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return z7(t,e);let r=(0,y.map)({$metadata:ct(t)}),n=(0,y.expectNonNull)((0,y.expectObject)(await Ai(t.body,e)),"body"),i=(0,y.take)(n,{updateResults:o=>EJ(o,e)});return Object.assign(r,i),r};J.de_BatchExecuteStatementCommand=$7;var z7=async(t,e)=>{let r={...t,body:await As(t.body,e)},n=Ts(t,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.rdsdata#AccessDeniedException":throw await Ns(r,e);case"BadRequestException":case"com.amazonaws.rdsdata#BadRequestException":throw await xs(r,e);case"ForbiddenException":case"com.amazonaws.rdsdata#ForbiddenException":throw await bs(r,e);case"InternalServerErrorException":case"com.amazonaws.rdsdata#InternalServerErrorException":throw await Cs(r,e);case"ServiceUnavailableError":case"com.amazonaws.rdsdata#ServiceUnavailableError":throw await Os(r,e);case"StatementTimeoutException":case"com.amazonaws.rdsdata#StatementTimeoutException":throw await Lc(r,e);default:let i=r.body;return ws({output:t,parsedBody:i,errorCode:n})}},H7=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return G7(t,e);let r=(0,y.map)({$metadata:ct(t)}),n=(0,y.expectNonNull)((0,y.expectObject)(await Ai(t.body,e)),"body"),i=(0,y.take)(n,{transactionId:y.expectString});return Object.assign(r,i),r};J.de_BeginTransactionCommand=H7;var G7=async(t,e)=>{let r={...t,body:await As(t.body,e)},n=Ts(t,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.rdsdata#AccessDeniedException":throw await Ns(r,e);case"BadRequestException":case"com.amazonaws.rdsdata#BadRequestException":throw await xs(r,e);case"ForbiddenException":case"com.amazonaws.rdsdata#ForbiddenException":throw await bs(r,e);case"InternalServerErrorException":case"com.amazonaws.rdsdata#InternalServerErrorException":throw await Cs(r,e);case"ServiceUnavailableError":case"com.amazonaws.rdsdata#ServiceUnavailableError":throw await Os(r,e);case"StatementTimeoutException":case"com.amazonaws.rdsdata#StatementTimeoutException":throw await Lc(r,e);default:let i=r.body;return ws({output:t,parsedBody:i,errorCode:n})}},K7=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return Q7(t,e);let r=(0,y.map)({$metadata:ct(t)}),n=(0,y.expectNonNull)((0,y.expectObject)(await Ai(t.body,e)),"body"),i=(0,y.take)(n,{transactionStatus:y.expectString});return Object.assign(r,i),r};J.de_CommitTransactionCommand=K7;var Q7=async(t,e)=>{let r={...t,body:await As(t.body,e)},n=Ts(t,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.rdsdata#AccessDeniedException":throw await Ns(r,e);case"BadRequestException":case"com.amazonaws.rdsdata#BadRequestException":throw await xs(r,e);case"ForbiddenException":case"com.amazonaws.rdsdata#ForbiddenException":throw await bs(r,e);case"InternalServerErrorException":case"com.amazonaws.rdsdata#InternalServerErrorException":throw await Cs(r,e);case"NotFoundException":case"com.amazonaws.rdsdata#NotFoundException":throw await SM(r,e);case"ServiceUnavailableError":case"com.amazonaws.rdsdata#ServiceUnavailableError":throw await Os(r,e);case"StatementTimeoutException":case"com.amazonaws.rdsdata#StatementTimeoutException":throw await Lc(r,e);default:let i=r.body;return ws({output:t,parsedBody:i,errorCode:n})}},Y7=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return J7(t,e);let r=(0,y.map)({$metadata:ct(t)}),n=(0,y.expectNonNull)((0,y.expectObject)(await Ai(t.body,e)),"body"),i=(0,y.take)(n,{sqlStatementResults:o=>_J(o,e)});return Object.assign(r,i),r};J.de_ExecuteSqlCommand=Y7;var J7=async(t,e)=>{let r={...t,body:await As(t.body,e)},n=Ts(t,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.rdsdata#AccessDeniedException":throw await Ns(r,e);case"BadRequestException":case"com.amazonaws.rdsdata#BadRequestException":throw await xs(r,e);case"ForbiddenException":case"com.amazonaws.rdsdata#ForbiddenException":throw await bs(r,e);case"InternalServerErrorException":case"com.amazonaws.rdsdata#InternalServerErrorException":throw await Cs(r,e);case"ServiceUnavailableError":case"com.amazonaws.rdsdata#ServiceUnavailableError":throw await Os(r,e);default:let i=r.body;return ws({output:t,parsedBody:i,errorCode:n})}},X7=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return Z7(t,e);let r=(0,y.map)({$metadata:ct(t)}),n=(0,y.expectNonNull)((0,y.expectObject)(await Ai(t.body,e)),"body"),i=(0,y.take)(n,{columnMetadata:y._json,formattedRecords:y.expectString,generatedFields:o=>NS(o,e),numberOfRecordsUpdated:y.expectLong,records:o=>mJ(o,e)});return Object.assign(r,i),r};J.de_ExecuteStatementCommand=X7;var Z7=async(t,e)=>{let r={...t,body:await As(t.body,e)},n=Ts(t,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.rdsdata#AccessDeniedException":throw await Ns(r,e);case"BadRequestException":case"com.amazonaws.rdsdata#BadRequestException":throw await xs(r,e);case"ForbiddenException":case"com.amazonaws.rdsdata#ForbiddenException":throw await bs(r,e);case"InternalServerErrorException":case"com.amazonaws.rdsdata#InternalServerErrorException":throw await Cs(r,e);case"ServiceUnavailableError":case"com.amazonaws.rdsdata#ServiceUnavailableError":throw await Os(r,e);case"StatementTimeoutException":case"com.amazonaws.rdsdata#StatementTimeoutException":throw await Lc(r,e);default:let i=r.body;return ws({output:t,parsedBody:i,errorCode:n})}},eJ=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return tJ(t,e);let r=(0,y.map)({$metadata:ct(t)}),n=(0,y.expectNonNull)((0,y.expectObject)(await Ai(t.body,e)),"body"),i=(0,y.take)(n,{transactionStatus:y.expectString});return Object.assign(r,i),r};J.de_RollbackTransactionCommand=eJ;var tJ=async(t,e)=>{let r={...t,body:await As(t.body,e)},n=Ts(t,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.rdsdata#AccessDeniedException":throw await Ns(r,e);case"BadRequestException":case"com.amazonaws.rdsdata#BadRequestException":throw await xs(r,e);case"ForbiddenException":case"com.amazonaws.rdsdata#ForbiddenException":throw await bs(r,e);case"InternalServerErrorException":case"com.amazonaws.rdsdata#InternalServerErrorException":throw await Cs(r,e);case"NotFoundException":case"com.amazonaws.rdsdata#NotFoundException":throw await SM(r,e);case"ServiceUnavailableError":case"com.amazonaws.rdsdata#ServiceUnavailableError":throw await Os(r,e);case"StatementTimeoutException":case"com.amazonaws.rdsdata#StatementTimeoutException":throw await Lc(r,e);default:let i=r.body;return ws({output:t,parsedBody:i,errorCode:n})}},ws=(0,y.withBaseException)(F7.RDSDataServiceException),Ns=async(t,e)=>{let r=(0,y.map)({}),n=t.body,i=(0,y.take)(n,{message:y.expectString});Object.assign(r,i);let o=new Gr.AccessDeniedException({$metadata:ct(t),...r});return(0,y.decorateServiceException)(o,t.body)},xs=async(t,e)=>{let r=(0,y.map)({}),n=t.body,i=(0,y.take)(n,{message:y.expectString});Object.assign(r,i);let o=new Gr.BadRequestException({$metadata:ct(t),...r});return(0,y.decorateServiceException)(o,t.body)},bs=async(t,e)=>{let r=(0,y.map)({}),n=t.body,i=(0,y.take)(n,{message:y.expectString});Object.assign(r,i);let o=new Gr.ForbiddenException({$metadata:ct(t),...r});return(0,y.decorateServiceException)(o,t.body)},Cs=async(t,e)=>{let r=(0,y.map)({}),n=t.body,i=(0,y.take)(n,{});Object.assign(r,i);let o=new Gr.InternalServerErrorException({$metadata:ct(t),...r});return(0,y.decorateServiceException)(o,t.body)},SM=async(t,e)=>{let r=(0,y.map)({}),n=t.body,i=(0,y.take)(n,{message:y.expectString});Object.assign(r,i);let o=new Gr.NotFoundException({$metadata:ct(t),...r});return(0,y.decorateServiceException)(o,t.body)},Os=async(t,e)=>{let r=(0,y.map)({}),n=t.body,i=(0,y.take)(n,{});Object.assign(r,i);let o=new Gr.ServiceUnavailableError({$metadata:ct(t),...r});return(0,y.decorateServiceException)(o,t.body)},Lc=async(t,e)=>{let r=(0,y.map)({}),n=t.body,i=(0,y.take)(n,{dbConnectionId:y.expectLong,message:y.expectString});Object.assign(r,i);let o=new Gr.StatementTimeoutException({$metadata:ct(t),...r});return(0,y.decorateServiceException)(o,t.body)},rJ=(t,e)=>t.filter(r=>r!=null).map(r=>wM(r,e)),wM=(t,e)=>Gr.ArrayValue.visit(t,{arrayValues:r=>({arrayValues:rJ(r,e)}),booleanValues:r=>({booleanValues:(0,y._json)(r)}),doubleValues:r=>({doubleValues:nJ(r,e)}),longValues:r=>({longValues:(0,y._json)(r)}),stringValues:r=>({stringValues:(0,y._json)(r)}),_:(r,n)=>({name:n})}),nJ=(t,e)=>t.filter(r=>r!=null).map(r=>(0,y.serializeFloat)(r)),iJ=(t,e)=>Gr.Field.visit(t,{arrayValue:r=>({arrayValue:wM(r,e)}),blobValue:r=>({blobValue:e.base64Encoder(r)}),booleanValue:r=>({booleanValue:r}),doubleValue:r=>({doubleValue:(0,y.serializeFloat)(r)}),isNull:r=>({isNull:r}),longValue:r=>({longValue:r}),stringValue:r=>({stringValue:r}),_:(r,n)=>({name:n})}),oJ=(t,e)=>(0,y.take)(t,{name:[],typeHint:[],value:r=>iJ(r,e)}),sJ=(t,e)=>t.filter(r=>r!=null).map(r=>NM(r,e)),NM=(t,e)=>t.filter(r=>r!=null).map(r=>oJ(r,e)),aJ=(t,e)=>(t||[]).filter(n=>n!=null).map(n=>xM((0,Fc.awsExpectUnion)(n),e)),xM=(t,e)=>t.arrayValues!=null?{arrayValues:aJ(t.arrayValues,e)}:t.booleanValues!=null?{booleanValues:(0,y._json)(t.booleanValues)}:t.doubleValues!=null?{doubleValues:cJ(t.doubleValues,e)}:t.longValues!=null?{longValues:(0,y._json)(t.longValues)}:t.stringValues!=null?{stringValues:(0,y._json)(t.stringValues)}:{$unknown:Object.entries(t)[0]},bM=(t,e)=>(t||[]).filter(n=>n!=null).map(n=>CM((0,Fc.awsExpectUnion)(n),e)),cJ=(t,e)=>(t||[]).filter(n=>n!=null).map(n=>(0,y.limitedParseDouble)(n)),dJ=(t,e)=>t.arrayValue!=null?{arrayValue:xM((0,Fc.awsExpectUnion)(t.arrayValue),e)}:t.blobValue!=null?{blobValue:e.base64Decoder(t.blobValue)}:(0,y.expectBoolean)(t.booleanValue)!==void 0?{booleanValue:(0,y.expectBoolean)(t.booleanValue)}:(0,y.limitedParseDouble)(t.doubleValue)!==void 0?{doubleValue:(0,y.limitedParseDouble)(t.doubleValue)}:(0,y.expectBoolean)(t.isNull)!==void 0?{isNull:(0,y.expectBoolean)(t.isNull)}:(0,y.expectLong)(t.longValue)!==void 0?{longValue:(0,y.expectLong)(t.longValue)}:(0,y.expectString)(t.stringValue)!==void 0?{stringValue:(0,y.expectString)(t.stringValue)}:{$unknown:Object.entries(t)[0]},NS=(t,e)=>(t||[]).filter(n=>n!=null).map(n=>dJ((0,Fc.awsExpectUnion)(n),e)),uJ=(t,e)=>(0,y.take)(t,{values:r=>fJ(r,e)}),lJ=(t,e)=>(t||[]).filter(n=>n!=null).map(n=>uJ(n,e)),pJ=(t,e)=>(0,y.take)(t,{records:r=>lJ(r,e),resultSetMetadata:y._json}),fJ=(t,e)=>(t||[]).filter(n=>n!=null).map(n=>CM((0,Fc.awsExpectUnion)(n),e)),mJ=(t,e)=>(t||[]).filter(n=>n!=null).map(n=>NS(n,e)),hJ=(t,e)=>(0,y.take)(t,{numberOfRecordsUpdated:y.expectLong,resultFrame:r=>pJ(r,e)}),_J=(t,e)=>(t||[]).filter(n=>n!=null).map(n=>hJ(n,e)),yJ=(t,e)=>(0,y.take)(t,{attributes:r=>bM(r,e)}),gJ=(t,e)=>(0,y.take)(t,{generatedFields:r=>NS(r,e)}),EJ=(t,e)=>(t||[]).filter(n=>n!=null).map(n=>gJ(n,e)),CM=(t,e)=>t.arrayValues!=null?{arrayValues:bM(t.arrayValues,e)}:(0,y.expectLong)(t.bigIntValue)!==void 0?{bigIntValue:(0,y.expectLong)(t.bigIntValue)}:(0,y.expectBoolean)(t.bitValue)!==void 0?{bitValue:(0,y.expectBoolean)(t.bitValue)}:t.blobValue!=null?{blobValue:e.base64Decoder(t.blobValue)}:(0,y.limitedParseDouble)(t.doubleValue)!==void 0?{doubleValue:(0,y.limitedParseDouble)(t.doubleValue)}:(0,y.expectInt32)(t.intValue)!==void 0?{intValue:(0,y.expectInt32)(t.intValue)}:(0,y.expectBoolean)(t.isNull)!==void 0?{isNull:(0,y.expectBoolean)(t.isNull)}:(0,y.limitedParseFloat32)(t.realValue)!==void 0?{realValue:(0,y.limitedParseFloat32)(t.realValue)}:(0,y.expectString)(t.stringValue)!==void 0?{stringValue:(0,y.expectString)(t.stringValue)}:t.structValue!=null?{structValue:yJ(t.structValue,e)}:{$unknown:Object.entries(t)[0]},ct=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),vJ=(t,e)=>(0,y.collectBody)(t,e).then(r=>e.utf8Encoder(r)),Ai=(t,e)=>vJ(t,e).then(r=>r.length?JSON.parse(r):{}),As=async(t,e)=>{let r=await Ai(t,e);return r.message=r.message??r.Message,r},Ts=(t,e)=>{let r=(o,s)=>Object.keys(o).find(a=>a.toLowerCase()===s.toLowerCase()),n=o=>{let s=o;return typeof s=="number"&&(s=s.toString()),s.indexOf(",")>=0&&(s=s.split(",")[0]),s.indexOf(":")>=0&&(s=s.split(":")[0]),s.indexOf("#")>=0&&(s=s.split("#")[1]),s},i=r(t.headers,"x-amzn-errortype");if(i!==void 0)return n(t.headers[i]);if(e.code!==void 0)return n(e.code);if(e.__type!==void 0)return n(e.__type)}});var bS=c(Ps=>{"use strict";Object.defineProperty(Ps,"__esModule",{value:!0});Ps.BatchExecuteStatementCommand=Ps.$Command=void 0;var SJ=Q(),wJ=se(),AM=A();Object.defineProperty(Ps,"$Command",{enumerable:!0,get:function(){return AM.Command}});var NJ=$(),OM=Ti(),xS=class t extends AM.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use((0,wJ.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,SJ.getEndpointPlugin)(r,t.getEndpointParameterInstructions()));let i=e.concat(this.middlewareStack),{logger:o}=r,d={logger:o,clientName:"RDSDataClient",commandName:"BatchExecuteStatementCommand",inputFilterSensitiveLog:p=>p,outputFilterSensitiveLog:p=>p,[NJ.SMITHY_CONTEXT_KEY]:{service:"RdsDataService",operation:"BatchExecuteStatement"}},{requestHandler:l}=r;return i.resolve(p=>l.handle(p.request,n||{}),d)}serialize(e,r){return(0,OM.se_BatchExecuteStatementCommand)(e,r)}deserialize(e,r){return(0,OM.de_BatchExecuteStatementCommand)(e,r)}};Ps.BatchExecuteStatementCommand=xS});var OS=c(Is=>{"use strict";Object.defineProperty(Is,"__esModule",{value:!0});Is.BeginTransactionCommand=Is.$Command=void 0;var xJ=Q(),bJ=se(),PM=A();Object.defineProperty(Is,"$Command",{enumerable:!0,get:function(){return PM.Command}});var CJ=$(),TM=Ti(),CS=class t extends PM.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use((0,bJ.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,xJ.getEndpointPlugin)(r,t.getEndpointParameterInstructions()));let i=e.concat(this.middlewareStack),{logger:o}=r,d={logger:o,clientName:"RDSDataClient",commandName:"BeginTransactionCommand",inputFilterSensitiveLog:p=>p,outputFilterSensitiveLog:p=>p,[CJ.SMITHY_CONTEXT_KEY]:{service:"RdsDataService",operation:"BeginTransaction"}},{requestHandler:l}=r;return i.resolve(p=>l.handle(p.request,n||{}),d)}serialize(e,r){return(0,TM.se_BeginTransactionCommand)(e,r)}deserialize(e,r){return(0,TM.de_BeginTransactionCommand)(e,r)}};Is.BeginTransactionCommand=CS});var TS=c(Rs=>{"use strict";Object.defineProperty(Rs,"__esModule",{value:!0});Rs.CommitTransactionCommand=Rs.$Command=void 0;var OJ=Q(),AJ=se(),RM=A();Object.defineProperty(Rs,"$Command",{enumerable:!0,get:function(){return RM.Command}});var TJ=$(),IM=Ti(),AS=class t extends RM.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use((0,AJ.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,OJ.getEndpointPlugin)(r,t.getEndpointParameterInstructions()));let i=e.concat(this.middlewareStack),{logger:o}=r,d={logger:o,clientName:"RDSDataClient",commandName:"CommitTransactionCommand",inputFilterSensitiveLog:p=>p,outputFilterSensitiveLog:p=>p,[TJ.SMITHY_CONTEXT_KEY]:{service:"RdsDataService",operation:"CommitTransaction"}},{requestHandler:l}=r;return i.resolve(p=>l.handle(p.request,n||{}),d)}serialize(e,r){return(0,IM.se_CommitTransactionCommand)(e,r)}deserialize(e,r){return(0,IM.de_CommitTransactionCommand)(e,r)}};Rs.CommitTransactionCommand=AS});var IS=c(qs=>{"use strict";Object.defineProperty(qs,"__esModule",{value:!0});qs.ExecuteSqlCommand=qs.$Command=void 0;var PJ=Q(),IJ=se(),DM=A();Object.defineProperty(qs,"$Command",{enumerable:!0,get:function(){return DM.Command}});var RJ=$(),qM=Ti(),PS=class t extends DM.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use((0,IJ.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,PJ.getEndpointPlugin)(r,t.getEndpointParameterInstructions()));let i=e.concat(this.middlewareStack),{logger:o}=r,d={logger:o,clientName:"RDSDataClient",commandName:"ExecuteSqlCommand",inputFilterSensitiveLog:p=>p,outputFilterSensitiveLog:p=>p,[RJ.SMITHY_CONTEXT_KEY]:{service:"RdsDataService",operation:"ExecuteSql"}},{requestHandler:l}=r;return i.resolve(p=>l.handle(p.request,n||{}),d)}serialize(e,r){return(0,qM.se_ExecuteSqlCommand)(e,r)}deserialize(e,r){return(0,qM.de_ExecuteSqlCommand)(e,r)}};qs.ExecuteSqlCommand=PS});var qS=c(Ds=>{"use strict";Object.defineProperty(Ds,"__esModule",{value:!0});Ds.ExecuteStatementCommand=Ds.$Command=void 0;var qJ=Q(),DJ=se(),kM=A();Object.defineProperty(Ds,"$Command",{enumerable:!0,get:function(){return kM.Command}});var MJ=$(),MM=Ti(),RS=class t extends kM.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use((0,DJ.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,qJ.getEndpointPlugin)(r,t.getEndpointParameterInstructions()));let i=e.concat(this.middlewareStack),{logger:o}=r,d={logger:o,clientName:"RDSDataClient",commandName:"ExecuteStatementCommand",inputFilterSensitiveLog:p=>p,outputFilterSensitiveLog:p=>p,[MJ.SMITHY_CONTEXT_KEY]:{service:"RdsDataService",operation:"ExecuteStatement"}},{requestHandler:l}=r;return i.resolve(p=>l.handle(p.request,n||{}),d)}serialize(e,r){return(0,MM.se_ExecuteStatementCommand)(e,r)}deserialize(e,r){return(0,MM.de_ExecuteStatementCommand)(e,r)}};Ds.ExecuteStatementCommand=RS});var MS=c(Ms=>{"use strict";Object.defineProperty(Ms,"__esModule",{value:!0});Ms.RollbackTransactionCommand=Ms.$Command=void 0;var kJ=Q(),FJ=se(),LM=A();Object.defineProperty(Ms,"$Command",{enumerable:!0,get:function(){return LM.Command}});var LJ=$(),FM=Ti(),DS=class t extends LM.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use((0,FJ.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,kJ.getEndpointPlugin)(r,t.getEndpointParameterInstructions()));let i=e.concat(this.middlewareStack),{logger:o}=r,d={logger:o,clientName:"RDSDataClient",commandName:"RollbackTransactionCommand",inputFilterSensitiveLog:p=>p,outputFilterSensitiveLog:p=>p,[LJ.SMITHY_CONTEXT_KEY]:{service:"RdsDataService",operation:"RollbackTransaction"}},{requestHandler:l}=r;return i.resolve(p=>l.handle(p.request,n||{}),d)}serialize(e,r){return(0,FM.se_RollbackTransactionCommand)(e,r)}deserialize(e,r){return(0,FM.de_RollbackTransactionCommand)(e,r)}};Ms.RollbackTransactionCommand=DS});var UM=c(Rh=>{"use strict";Object.defineProperty(Rh,"__esModule",{value:!0});Rh.RDSData=void 0;var UJ=A(),jJ=bS(),WJ=OS(),BJ=TS(),VJ=IS(),$J=qS(),zJ=MS(),HJ=fS(),GJ={BatchExecuteStatementCommand:jJ.BatchExecuteStatementCommand,BeginTransactionCommand:WJ.BeginTransactionCommand,CommitTransactionCommand:BJ.CommitTransactionCommand,ExecuteSqlCommand:VJ.ExecuteSqlCommand,ExecuteStatementCommand:$J.ExecuteStatementCommand,RollbackTransactionCommand:zJ.RollbackTransactionCommand},Ih=class extends HJ.RDSDataClient{};Rh.RDSData=Ih;(0,UJ.createAggregatedClient)(GJ,Ih)});var jM=c(Bn=>{"use strict";Object.defineProperty(Bn,"__esModule",{value:!0});var ks=(x(),S(N));ks.__exportStar(bS(),Bn);ks.__exportStar(OS(),Bn);ks.__exportStar(TS(),Bn);ks.__exportStar(IS(),Bn);ks.__exportStar(qS(),Bn);ks.__exportStar(MS(),Bn)});var WM=c(kS=>{"use strict";Object.defineProperty(kS,"__esModule",{value:!0});var KJ=(x(),S(N));KJ.__exportStar(wS(),kS)});var BM=c(Vn=>{"use strict";Object.defineProperty(Vn,"__esModule",{value:!0});Vn.RDSDataServiceException=void 0;var qh=(x(),S(N));qh.__exportStar(fS(),Vn);qh.__exportStar(UM(),Vn);qh.__exportStar(jM(),Vn);qh.__exportStar(WM(),Vn);ja();var QJ=Ph();Object.defineProperty(Vn,"RDSDataServiceException",{enumerable:!0,get:function(){return QJ.RDSDataServiceException}})});import YJ from"path";function Kr(t){return typeof t>"u"||t===void 0}function ye(t){return typeof t=="string"}function jS(t){return typeof t=="number"}function jc(t){return typeof t=="boolean"}function Wc(t){return t===null}function WS(t){return t instanceof Date}function BS(t){return typeof t=="bigint"}function ne(t){return typeof t=="function"}function qe(t){return typeof t=="object"&&t!==null}function VS(t){return t[t.length-1]}function u(t){return Object.freeze(t)}function Dt(t){return Array.isArray(t)}function Qr(t){return t}var X=u({is(t){return t.kind==="AlterTableNode"},create(t){return u({kind:"AlterTableNode",table:t})},cloneWithTableProps(t,e){return u({...t,...e})},cloneWithColumnAlteration(t,e){return u({...t,columnAlterations:t.columnAlterations?[...t.columnAlterations,e]:[e]})}});var D=u({is(t){return t.kind==="IdentifierNode"},create(t){return u({kind:"IdentifierNode",name:t})}});var Mt=u({is(t){return t.kind==="CreateIndexNode"},create(t){return u({kind:"CreateIndexNode",name:D.create(t)})},cloneWith(t,e){return u({...t,...e})},cloneWithColumns(t,e){return u({...t,columns:[...t.columns||[],...e]})}});var Bc=u({is(t){return t.kind==="CreateSchemaNode"},create(t,e){return u({kind:"CreateSchemaNode",schema:D.create(t),...e})},cloneWith(t,e){return u({...t,...e})}});var $S=["preserve rows","delete rows","drop"],Ze=u({is(t){return t.kind==="CreateTableNode"},create(t){return u({kind:"CreateTableNode",table:t,columns:u([])})},cloneWithColumn(t,e){return u({...t,columns:u([...t.columns,e])})},cloneWithConstraint(t,e){return u({...t,constraints:t.constraints?u([...t.constraints,e]):u([e])})},cloneWithFrontModifier(t,e){return u({...t,frontModifiers:t.frontModifiers?u([...t.frontModifiers,e]):u([e])})},cloneWithEndModifier(t,e){return u({...t,endModifiers:t.endModifiers?u([...t.endModifiers,e]):u([e])})},cloneWith(t,e){return u({...t,...e})}});var $e=u({is(t){return t.kind==="SchemableIdentifierNode"},create(t){return u({kind:"SchemableIdentifierNode",identifier:D.create(t)})},createWithSchema(t,e){return u({kind:"SchemableIdentifierNode",schema:D.create(t),identifier:D.create(e)})}});var Pi=u({is(t){return t.kind==="DropIndexNode"},create(t,e){return u({kind:"DropIndexNode",name:$e.create(t),...e})},cloneWith(t,e){return u({...t,...e})}});var Ls=u({is(t){return t.kind==="DropSchemaNode"},create(t,e){return u({kind:"DropSchemaNode",schema:D.create(t),...e})},cloneWith(t,e){return u({...t,...e})}});var Us=u({is(t){return t.kind==="DropTableNode"},create(t,e){return u({kind:"DropTableNode",table:t,...e})},cloneWith(t,e){return u({...t,...e})}});var ze=u({is(t){return t.kind==="AliasNode"},create(t,e){return u({kind:"AliasNode",node:t,alias:e})}});var dt=u({is(t){return t.kind==="TableNode"},create(t){return u({kind:"TableNode",table:$e.create(t)})},createWithSchema(t,e){return u({kind:"TableNode",table:$e.createWithSchema(t,e)})}});function ie(t){return qe(t)&&ne(t.toOperationNode)}function zS(t){return qe(t)&&"expressionType"in t&&ie(t)}function HS(t){return qe(t)&&"expression"in t&&ye(t.alias)&&ie(t)}var kt=u({is(t){return t.kind==="SelectModifierNode"},create(t){return u({kind:"SelectModifierNode",modifier:t})},createWithExpression(t){return u({kind:"SelectModifierNode",rawModifier:t})}});var Er=u({is(t){return t.kind==="AndNode"},create(t,e){return u({kind:"AndNode",left:t,right:e})}});var vr=u({is(t){return t.kind==="OrNode"},create(t,e){return u({kind:"OrNode",left:t,right:e})}});var Ii=u({is(t){return t.kind==="OnNode"},create(t){return u({kind:"OnNode",on:t})},cloneWithOperation(t,e,r){return u({...t,on:e==="And"?Er.create(t.on,r):vr.create(t.on,r)})}});var De=u({is(t){return t.kind==="JoinNode"},create(t,e){return u({kind:"JoinNode",joinType:t,table:e,on:void 0})},createWithOn(t,e,r){return u({kind:"JoinNode",joinType:t,table:e,on:Ii.create(r)})},cloneWithOn(t,e){return u({...t,on:t.on?Ii.cloneWithOperation(t.on,"And",e):Ii.create(e)})},cloneWithOrOn(t,e){return u({...t,on:t.on?Ii.cloneWithOperation(t.on,"Or",e):Ii.create(e)})}});var js=u({is(t){return t.kind==="BinaryOperationNode"},create(t,e,r){return u({kind:"BinaryOperationNode",leftOperand:t,operator:e,rightOperand:r})}});var me=u({is(t){return t.kind==="RawNode"},create(t,e){return u({kind:"RawNode",sqlFragments:u(t),parameters:u(e)})},createWithSql(t){return me.create([t],[])},createWithChild(t){return me.create(["",""],[t])},createWithChildren(t){return me.create(new Array(t.length+1).fill(""),t)}});var GS=["=","==","!=","<>",">",">=","<","<=","in","not in","is","is not","like","not like","match","ilike","not ilike","@>","<@","?","?&","!<","!>","<=>","!~","~","~*","!~*","@@","@@@","!!","<->"],JM=["+","-","*","/","%","^","&","|","#","<<",">>"],KS=[...GS,...JM,"&&","||"],XM=["exists","not exists"],ZM=["not","-",...XM],QS=[...KS,...ZM],Ri=u({is(t){return t.kind==="OperatorNode"},create(t){return u({kind:"OperatorNode",operator:t})}});function kh(t){return ye(t)&&KS.includes(t)}function Fh(t){return ye(t)&&GS.includes(t)}var Yr=u({is(t){return t.kind==="ParensNode"},create(t){return u({kind:"ParensNode",node:t})}});var U=u({is(t){return t.kind==="ColumnNode"},create(t){return u({kind:"ColumnNode",column:D.create(t)})}});var qi=u({is(t){return t.kind==="SelectAllNode"},create(){return u({kind:"SelectAllNode"})}});var zn=u({is(t){return t.kind==="ReferenceNode"},create(t,e){return u({kind:"ReferenceNode",table:t,column:e})},createSelectAll(t){return u({kind:"ReferenceNode",table:t,column:qi.create()})}});var YS=u({is(t){return t.kind==="OrderByItemNode"},create(t,e){return u({kind:"OrderByItemNode",orderBy:t,direction:e})}});function JS(t){return t==="asc"||t==="desc"}function Jr(t,e){return YS.create(ek(t),tk(e))}function ek(t){return et(t)}function tk(t){if(t)return t==="asc"||t==="desc"?me.createWithSql(t):t.toOperationNode()}function Lh(t){return ye(t)?Sr(t):t.toOperationNode()}function wr(t){return Dt(t)?t.map(e=>et(e)):[et(t)]}function et(t){return Hn(t)?Xr(t):Lh(t)}function Sr(t){let e=".";if(t.includes(e)){let r=t.split(e).map(Wh);if(r.length===3)return rk(r);if(r.length===2)return nk(r);throw new Error(`invalid column reference ${t}`)}else return U.create(t)}function XS(t){let e=" as ";if(t.includes(e)){let[r,n]=t.split(e).map(Wh);return ze.create(Sr(r),D.create(n))}else return Sr(t)}function Uh(t){return U.create(t)}function jh(t){let e=" ";if(t.includes(e)){let[r,n]=t.split(e).map(Wh);if(!JS(n))throw new Error(`invalid order direction "${n}" next to "${r}"`);return Jr(r,n)}else return Uh(t)}function rk(t){let[e,r,n]=t;return zn.create(dt.createWithSchema(e,r),U.create(n))}function nk(t){let[e,r]=t;return zn.create(dt.create(e),U.create(r))}function Wh(t){return t.trim()}var Vc=u({is(t){return t.kind==="PrimitiveValueListNode"},create(t){return u({kind:"PrimitiveValueListNode",values:u([...t])})}});var Di=u({is(t){return t.kind==="ValueListNode"},create(t){return u({kind:"ValueListNode",values:u(t)})}});var we=u({is(t){return t.kind==="ValueNode"},create(t){return u({kind:"ValueNode",value:t})},createImmediate(t){return u({kind:"ValueNode",value:t,immediate:!0})}});function $c(t){return Dt(t)?ik(t):tt(t)}function tt(t){return Hn(t)?Xr(t):we.create(t)}function ik(t){return t.some(Hn)?Di.create(t.map(e=>tt(e))):Vc.create(t)}var Nr=u({is(t){return t.kind==="OrderByNode"},create(t){return u({kind:"OrderByNode",items:u([t])})},cloneWithItem(t,e){return u({...t,items:u([...t.items,e])})}});var Bh=u({is(t){return t.kind==="PartitionByNode"},create(t){return u({kind:"PartitionByNode",items:u(t)})},cloneWithItems(t,e){return u({...t,items:u([...t.items,...e])})}});var Ws=u({is(t){return t.kind==="OverNode"},create(){return u({kind:"OverNode"})},cloneWithOrderByItem(t,e){return u({...t,orderBy:t.orderBy?Nr.cloneWithItem(t.orderBy,e):Nr.create(e)})},cloneWithPartitionByItems(t,e){return u({...t,partitionBy:t.partitionBy?Bh.cloneWithItems(t.partitionBy,e):Bh.create(e)})}});var Gn=u({is(t){return t.kind==="FromNode"},create(t){return u({kind:"FromNode",froms:u(t)})},cloneWithFroms(t,e){return u({...t,froms:u([...t.froms,...e])})}});var Vh=u({is(t){return t.kind==="GroupByNode"},create(t){return u({kind:"GroupByNode",items:u(t)})},cloneWithItems(t,e){return u({...t,items:u([...t.items,...e])})}});var Bs=u({is(t){return t.kind==="HavingNode"},create(t){return u({kind:"HavingNode",having:t})},cloneWithOperation(t,e,r){return u({...t,having:e==="And"?Er.create(t.having,r):vr.create(t.having,r)})}});var R=u({is(t){return t.kind==="SelectQueryNode"},create(t,e){return u({kind:"SelectQueryNode",from:Gn.create(t),...e&&{with:e}})},cloneWithSelections(t,e){return u({...t,selections:t.selections?u([...t.selections,...e]):u(e)})},cloneWithDistinctOn(t,e){return u({...t,distinctOn:t.distinctOn?u([...t.distinctOn,...e]):u(e)})},cloneWithFrontModifier(t,e){return u({...t,frontModifiers:t.frontModifiers?u([...t.frontModifiers,e]):u([e])})},cloneWithEndModifier(t,e){return u({...t,endModifiers:t.endModifiers?u([...t.endModifiers,e]):u([e])})},cloneWithOrderByItem(t,e){return u({...t,orderBy:t.orderBy?Nr.cloneWithItem(t.orderBy,e):Nr.create(e)})},cloneWithGroupByItems(t,e){return u({...t,groupBy:t.groupBy?Vh.cloneWithItems(t.groupBy,e):Vh.create(e)})},cloneWithLimit(t,e){return u({...t,limit:e})},cloneWithOffset(t,e){return u({...t,offset:e})},cloneWithHaving(t,e){return u({...t,having:t.having?Bs.cloneWithOperation(t.having,"And",e):Bs.create(e)})},cloneWithOrHaving(t,e){return u({...t,having:t.having?Bs.cloneWithOperation(t.having,"Or",e):Bs.create(e)})},cloneWithSetOperation(t,e){return u({...t,setOperations:t.setOperations?u([...t.setOperations,e]):u([e])})},cloneWithoutSelections(t){return u({...t,selections:[]})},cloneWithoutLimit(t){return u({...t,limit:void 0})},cloneWithoutOffset(t){return u({...t,offset:void 0})},cloneWithoutOrderBy(t){return u({...t,orderBy:void 0})}});var zc=u({is(t){return t.kind==="UnaryOperationNode"},create(t,e){return u({kind:"UnaryOperationNode",operator:t,operand:e})}});function ce(t){return Hc("exists",t)}function oe(t){return Hc("not exists",t)}function Hc(t,e){return zc.create(Ri.create(t),et(e))}function O(t,e){Object.defineProperties(t.prototype,{then:{enumerable:!1,value:()=>{throw new Error(e)}}})}var Vs=class t{#e;constructor(e){this.#e=u(e)}on(...e){return new t({...this.#e,joinNode:De.cloneWithOn(this.#e.joinNode,$h(e))})}orOn(...e){return new t({...this.#e,joinNode:De.cloneWithOrOn(this.#e.joinNode,$h(e))})}onRef(e,r,n){return new t({...this.#e,joinNode:De.cloneWithOn(this.#e.joinNode,Z(e,r,n))})}orOnRef(e,r,n){return new t({...this.#e,joinNode:De.cloneWithOrOn(this.#e.joinNode,Z(e,r,n))})}onExists(e){return new t({...this.#e,joinNode:De.cloneWithOn(this.#e.joinNode,ce(e))})}onNotExists(e){return new t({...this.#e,joinNode:De.cloneWithOn(this.#e.joinNode,oe(e))})}orOnExists(e){return new t({...this.#e,joinNode:De.cloneWithOrOn(this.#e.joinNode,ce(e))})}orOnNotExists(e){return new t({...this.#e,joinNode:De.cloneWithOrOn(this.#e.joinNode,oe(e))})}onTrue(){return new t({...this.#e,joinNode:De.cloneWithOn(this.#e.joinNode,me.createWithSql("true"))})}$call(e){return e(this)}toOperationNode(){return this.#e.joinNode}};O(Vs,"don't await JoinBuilder instances. They are never executed directly and are always just a part of a query.");var ZS=u({is(t){return t.kind==="PartitionByItemNode"},create(t){return u({kind:"PartitionByItemNode",partitionBy:t})}});function e0(t){return wr(t).map(ZS.create)}var $s=class t{#e;constructor(e){this.#e=u(e)}orderBy(e,r){return new t({overNode:Ws.cloneWithOrderByItem(this.#e.overNode,Jr(e,r))})}partitionBy(e){return new t({overNode:Ws.cloneWithPartitionByItems(this.#e.overNode,e0(e))})}$call(e){return e(this)}toOperationNode(){return this.#e.overNode}};O($s,"don't await OverBuilder instances. They are never executed directly and are always just a part of a query.");var Mi=u({is(t){return t.kind==="SelectionNode"},create(t){return u({kind:"SelectionNode",selection:t})},createSelectAll(){return u({kind:"SelectionNode",selection:qi.create()})},createSelectAllFromTable(t){return u({kind:"SelectionNode",selection:zn.createSelectAll(t)})}});var Gc=class{#e;get dynamicReference(){return this.#e}get refType(){}constructor(e){this.#e=e}toOperationNode(){return Lh(this.#e)}};function t0(t){return qe(t)&&ie(t)&&ye(t.dynamicReference)}function xr(t){return ne(t)?xr(t(je())):Dt(t)?t.map(e=>r0(e)):[r0(t)]}function r0(t){return ye(t)?Mi.create(XS(t)):t0(t)?Mi.create(t.toOperationNode()):Mi.create(Kc(t))}function Ft(t){return t?Array.isArray(t)?t.map(n0):[n0(t)]:[Mi.createSelectAll()]}function n0(t){if(ye(t))return Mi.createSelectAllFromTable(de(t));throw new Error(`invalid value selectAll expression: ${JSON.stringify(t)}`)}var i0=u({is(t){return t.kind==="ValuesNode"},create(t){return u({kind:"ValuesNode",values:u(t)})}});var o0=u({is(t){return t.kind==="DefaultInsertValueNode"},create(){return u({kind:"DefaultInsertValueNode"})}});function s0(t){let e=ne(t)?t(je()):t,r=Dt(e)?e:u([e]);return ok(r)}function ok(t){let e=sk(t);return[u([...e.keys()].map(U.create)),i0.create(t.map(r=>ak(r,e)))]}function sk(t){let e=new Map;for(let r of t){let n=Object.keys(r);for(let i of n)!e.has(i)&&r[i]!==void 0&&e.set(i,e.size)}return e}function ak(t,e){let r=Object.keys(t),n=Array.from({length:e.size}),i=!1;for(let s of r){let a=e.get(s);if(Kr(a))continue;let d=t[s];(Kr(d)||Hn(d))&&(i=!0),n[a]=d}if(r.length<e.size||i){let s=o0.create();return Di.create(n.map(a=>Kr(a)?s:tt(a)))}return Vc.create(n)}var He=u({is(t){return t.kind==="InsertQueryNode"},create(t,e,r){return u({kind:"InsertQueryNode",into:t,...e&&{with:e},replace:r})},cloneWith(t,e){return u({...t,...e})}});var Kn=u({is(t){return t.kind==="UpdateQueryNode"},create(t,e){return u({kind:"UpdateQueryNode",table:t,...e&&{with:e}})},cloneWithFromItems(t,e){return u({...t,from:t.from?Gn.cloneWithFroms(t.from,e):Gn.create(e)})},cloneWithUpdates(t,e){return u({...t,updates:t.updates?u([...t.updates,...e]):e})}});var zh=u({is(t){return t.kind==="UsingNode"},create(t){return u({kind:"UsingNode",tables:u(t)})},cloneWithTables(t,e){return u({...t,tables:u([...t.tables,...e])})}});var Zr=u({is(t){return t.kind==="DeleteQueryNode"},create(t,e){return u({kind:"DeleteQueryNode",from:Gn.create(t),...e&&{with:e}})},cloneWithOrderByItem(t,e){return u({...t,orderBy:t.orderBy?Nr.cloneWithItem(t.orderBy,e):Nr.create(e)})},cloneWithLimit(t,e){return u({...t,limit:e})},cloneWithUsing(t,e){return u({...t,using:t.using!==void 0?zh.cloneWithTables(t.using,e):zh.create(e)})}});var ge=u({is(t){return t.kind==="WhereNode"},create(t){return u({kind:"WhereNode",where:t})},cloneWithOperation(t,e,r){return u({...t,where:e==="And"?Er.create(t.where,r):vr.create(t.where,r)})}});var Hh=u({is(t){return t.kind==="ReturningNode"},create(t){return u({kind:"ReturningNode",selections:u(t)})},cloneWithSelections(t,e){return u({...t,selections:t.selections?u([...t.selections,...e]):u(e)})}});var a0=u({is(t){return t.kind==="ExplainNode"},create(t,e){return u({kind:"ExplainNode",format:t,options:e})}});var C=u({is(t){return R.is(t)||He.is(t)||Kn.is(t)||Zr.is(t)},cloneWithWhere(t,e){return u({...t,where:t.where?ge.cloneWithOperation(t.where,"And",e):ge.create(e)})},cloneWithOrWhere(t,e){return u({...t,where:t.where?ge.cloneWithOperation(t.where,"Or",e):ge.create(e)})},cloneWithJoin(t,e){return u({...t,joins:t.joins?u([...t.joins,e]):u([e])})},cloneWithReturning(t,e){return u({...t,returning:t.returning?Hh.cloneWithSelections(t.returning,e):Hh.create(e)})},cloneWithoutWhere(t){return u({...t,where:void 0})},cloneWithExplain(t,e,r){return u({...t,explain:a0.create(e,r?.toOperationNode())})}});var c0=u({is(t){return t.kind==="ColumnUpdateNode"},create(t,e){return u({kind:"ColumnUpdateNode",column:t,value:e})}});function ki(t){let e=ne(t)?t(je()):t;return Object.entries(e).filter(([r,n])=>n!==void 0).map(([r,n])=>c0.create(U.create(r),tt(n)))}var d0=u({is(t){return t.kind==="OnDuplicateKeyNode"},create(t){return u({kind:"OnDuplicateKeyNode",updates:t})}});var zs=class{#e;#t;constructor(e,r){this.#e=e,this.#t=r}get insertId(){return this.#e}get numInsertedOrUpdatedRows(){return this.#t}};for(let t of["insertId","numInsertedOrUpdatedRows"])Object.defineProperty(zs.prototype,t,{enumerable:!0});var Lt=class extends Error{node;constructor(e){super("no result"),this.node=e}};function en(t){return Object.prototype.hasOwnProperty.call(t,"prototype")}var K=u({is(t){return t.kind==="OnConflictNode"},create(){return u({kind:"OnConflictNode"})},cloneWith(t,e){return u({...t,...e})},cloneWithIndexWhere(t,e){return u({...t,indexWhere:t.indexWhere?ge.cloneWithOperation(t.indexWhere,"And",e):ge.create(e)})},cloneWithIndexOrWhere(t,e){return u({...t,indexWhere:t.indexWhere?ge.cloneWithOperation(t.indexWhere,"Or",e):ge.create(e)})},cloneWithUpdateWhere(t,e){return u({...t,updateWhere:t.updateWhere?ge.cloneWithOperation(t.updateWhere,"And",e):ge.create(e)})},cloneWithUpdateOrWhere(t,e){return u({...t,updateWhere:t.updateWhere?ge.cloneWithOperation(t.updateWhere,"Or",e):ge.create(e)})},cloneWithoutIndexWhere(t){return u({...t,indexWhere:void 0})},cloneWithoutUpdateWhere(t){return u({...t,updateWhere:void 0})}});var Hs=class t{#e;constructor(e){this.#e=u(e)}column(e){let r=U.create(e);return new t({...this.#e,onConflictNode:K.cloneWith(this.#e.onConflictNode,{columns:this.#e.onConflictNode.columns?u([...this.#e.onConflictNode.columns,r]):u([r])})})}columns(e){let r=e.map(U.create);return new t({...this.#e,onConflictNode:K.cloneWith(this.#e.onConflictNode,{columns:this.#e.onConflictNode.columns?u([...this.#e.onConflictNode.columns,...r]):u(r)})})}constraint(e){return new t({...this.#e,onConflictNode:K.cloneWith(this.#e.onConflictNode,{constraint:D.create(e)})})}expression(e){return new t({...this.#e,onConflictNode:K.cloneWith(this.#e.onConflictNode,{indexExpression:e.toOperationNode()})})}where(...e){return new t({...this.#e,onConflictNode:K.cloneWithIndexWhere(this.#e.onConflictNode,Ee(e))})}whereRef(e,r,n){return new t({...this.#e,onConflictNode:K.cloneWithIndexWhere(this.#e.onConflictNode,Z(e,r,n))})}orWhere(...e){return new t({...this.#e,onConflictNode:K.cloneWithIndexOrWhere(this.#e.onConflictNode,Ee(e))})}orWhereRef(e,r,n){return new t({...this.#e,onConflictNode:K.cloneWithIndexOrWhere(this.#e.onConflictNode,Z(e,r,n))})}whereExists(e){return new t({...this.#e,onConflictNode:K.cloneWithIndexWhere(this.#e.onConflictNode,ce(e))})}whereNotExists(e){return new t({...this.#e,onConflictNode:K.cloneWithIndexWhere(this.#e.onConflictNode,oe(e))})}orWhereExists(e){return new t({...this.#e,onConflictNode:K.cloneWithIndexOrWhere(this.#e.onConflictNode,ce(e))})}orWhereNotExists(e){return new t({...this.#e,onConflictNode:K.cloneWithIndexOrWhere(this.#e.onConflictNode,oe(e))})}clearWhere(){return new t({...this.#e,onConflictNode:K.cloneWithoutIndexWhere(this.#e.onConflictNode)})}doNothing(){return new Qc({...this.#e,onConflictNode:K.cloneWith(this.#e.onConflictNode,{doNothing:!0})})}doUpdateSet(e){return new Yc({...this.#e,onConflictNode:K.cloneWith(this.#e.onConflictNode,{updates:ki(e)})})}$call(e){return e(this)}};O(Hs,"don't await OnConflictBuilder instances.");var Qc=class{#e;constructor(e){this.#e=u(e)}toOperationNode(){return this.#e.onConflictNode}};O(Qc,"don't await OnConflictDoNothingBuilder instances.");var Yc=class t{#e;constructor(e){this.#e=u(e)}where(...e){return new t({...this.#e,onConflictNode:K.cloneWithUpdateWhere(this.#e.onConflictNode,Ee(e))})}whereRef(e,r,n){return new t({...this.#e,onConflictNode:K.cloneWithUpdateWhere(this.#e.onConflictNode,Z(e,r,n))})}orWhere(...e){return new t({...this.#e,onConflictNode:K.cloneWithUpdateOrWhere(this.#e.onConflictNode,Ee(e))})}orWhereRef(e,r,n){return new t({...this.#e,onConflictNode:K.cloneWithUpdateOrWhere(this.#e.onConflictNode,Z(e,r,n))})}whereExists(e){return new t({...this.#e,onConflictNode:K.cloneWithUpdateWhere(this.#e.onConflictNode,ce(e))})}whereNotExists(e){return new t({...this.#e,onConflictNode:K.cloneWithUpdateWhere(this.#e.onConflictNode,oe(e))})}orWhereExists(e){return new t({...this.#e,onConflictNode:K.cloneWithUpdateOrWhere(this.#e.onConflictNode,ce(e))})}orWhereNotExists(e){return new t({...this.#e,onConflictNode:K.cloneWithUpdateOrWhere(this.#e.onConflictNode,oe(e))})}clearWhere(){return new t({...this.#e,onConflictNode:K.cloneWithoutUpdateWhere(this.#e.onConflictNode)})}$call(e){return e(this)}toOperationNode(){return this.#e.onConflictNode}};O(Yc,"don't await OnConflictUpdateBuilder instances.");var Fi=class t{#e;constructor(e){this.#e=u(e)}values(e){let[r,n]=s0(e);return new t({...this.#e,queryNode:He.cloneWith(this.#e.queryNode,{columns:r,values:n})})}columns(e){return new t({...this.#e,queryNode:He.cloneWith(this.#e.queryNode,{columns:u(e.map(U.create))})})}expression(e){return new t({...this.#e,queryNode:He.cloneWith(this.#e.queryNode,{values:Xr(e)})})}ignore(){return new t({...this.#e,queryNode:He.cloneWith(this.#e.queryNode,{ignore:!0})})}onConflict(e){return new t({...this.#e,queryNode:He.cloneWith(this.#e.queryNode,{onConflict:e(new Hs({onConflictNode:K.create()})).toOperationNode()})})}onDuplicateKeyUpdate(e){return new t({...this.#e,queryNode:He.cloneWith(this.#e.queryNode,{onDuplicateKey:d0.create(ki(e))})})}returning(e){return new t({...this.#e,queryNode:C.cloneWithReturning(this.#e.queryNode,xr(e))})}returningAll(){return new t({...this.#e,queryNode:C.cloneWithReturning(this.#e.queryNode,Ft())})}$call(e){return e(this)}call(e){return this.$call(e)}$if(e,r){return e?r(this):new t({...this.#e})}if(e,r){return e?r(this):new t({...this.#e})}$castTo(){return new t(this.#e)}castTo(){return this.$castTo()}$narrowType(){return new t(this.#e)}$assertType(){return new t(this.#e)}assertType(){return new t(this.#e)}withPlugin(e){return new t({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){let e=this.compile(),r=e.query,n=await this.#e.executor.executeQuery(e,this.#e.queryId);return this.#e.executor.adapter.supportsReturning&&r.returning?n.rows:[new zs(n.insertId,n.numAffectedRows??n.numUpdatedOrDeletedRows)]}async executeTakeFirst(){let[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=Lt){let r=await this.executeTakeFirst();if(r===void 0)throw en(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}async*stream(e=100){let r=this.compile(),n=this.#e.executor.stream(r,e,this.#e.queryId);for await(let i of n)yield*i.rows}async explain(e,r){return await new t({...this.#e,queryNode:C.cloneWithExplain(this.#e.queryNode,e,r)}).execute()}};O(Fi,"don't await InsertQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");var Gs=class{#e;constructor(e){this.#e=e}get numDeletedRows(){return this.#e}};Object.defineProperty(Gs.prototype,"numDeletedRows",{enumerable:!0});var Jc=u({is(t){return t.kind==="LimitNode"},create(t){return u({kind:"LimitNode",limit:we.create(t)})}});var Ks=class t{#e;constructor(e){this.#e=u(e)}where(...e){return new t({...this.#e,queryNode:C.cloneWithWhere(this.#e.queryNode,Ee(e))})}whereRef(e,r,n){return new t({...this.#e,queryNode:C.cloneWithWhere(this.#e.queryNode,Z(e,r,n))})}orWhere(...e){return new t({...this.#e,queryNode:C.cloneWithOrWhere(this.#e.queryNode,Ee(e))})}orWhereRef(e,r,n){return new t({...this.#e,queryNode:C.cloneWithOrWhere(this.#e.queryNode,Z(e,r,n))})}whereExists(e){return new t({...this.#e,queryNode:C.cloneWithWhere(this.#e.queryNode,ce(e))})}whereNotExists(e){return new t({...this.#e,queryNode:C.cloneWithWhere(this.#e.queryNode,oe(e))})}orWhereExists(e){return new t({...this.#e,queryNode:C.cloneWithOrWhere(this.#e.queryNode,ce(e))})}orWhereNotExists(e){return new t({...this.#e,queryNode:C.cloneWithOrWhere(this.#e.queryNode,oe(e))})}clearWhere(){return new t({...this.#e,queryNode:C.cloneWithoutWhere(this.#e.queryNode)})}using(e){return new t({...this.#e,queryNode:Zr.cloneWithUsing(this.#e.queryNode,Ct(e))})}innerJoin(...e){return new t({...this.#e,queryNode:C.cloneWithJoin(this.#e.queryNode,Oe("InnerJoin",e))})}leftJoin(...e){return new t({...this.#e,queryNode:C.cloneWithJoin(this.#e.queryNode,Oe("LeftJoin",e))})}rightJoin(...e){return new t({...this.#e,queryNode:C.cloneWithJoin(this.#e.queryNode,Oe("RightJoin",e))})}fullJoin(...e){return new t({...this.#e,queryNode:C.cloneWithJoin(this.#e.queryNode,Oe("FullJoin",e))})}returning(e){return new t({...this.#e,queryNode:C.cloneWithReturning(this.#e.queryNode,xr(e))})}returningAll(e){return new t({...this.#e,queryNode:C.cloneWithReturning(this.#e.queryNode,Ft(e))})}orderBy(e,r){return new t({...this.#e,queryNode:Zr.cloneWithOrderByItem(this.#e.queryNode,Jr(e,r))})}limit(e){return new t({...this.#e,queryNode:Zr.cloneWithLimit(this.#e.queryNode,Jc.create(e))})}$call(e){return e(this)}call(e){return this.$call(e)}$if(e,r){return e?r(this):new t({...this.#e})}if(e,r){return this.$if(e,r)}$castTo(){return new t(this.#e)}castTo(){return this.$castTo()}$narrowType(){return new t(this.#e)}$assertType(){return new t(this.#e)}assertType(){return new t(this.#e)}withPlugin(e){return new t({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){let e=this.compile(),r=e.query,n=await this.#e.executor.executeQuery(e,this.#e.queryId);return this.#e.executor.adapter.supportsReturning&&r.returning?n.rows:[new Gs(n.numAffectedRows??n.numUpdatedOrDeletedRows??BigInt(0))]}async executeTakeFirst(){let[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=Lt){let r=await this.executeTakeFirst();if(r===void 0)throw en(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}async*stream(e=100){let r=this.compile(),n=this.#e.executor.stream(r,e,this.#e.queryId);for await(let i of n)yield*i.rows}async explain(e,r){return await new t({...this.#e,queryNode:C.cloneWithExplain(this.#e.queryNode,e,r)}).execute()}};O(Ks,"don't await DeleteQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");var Qs=class{#e;constructor(e){this.#e=e}get numUpdatedRows(){return this.#e}};Object.defineProperty(Qs.prototype,"numUpdatedRows",{enumerable:!0});var Ys=class t{#e;constructor(e){this.#e=u(e)}where(...e){return new t({...this.#e,queryNode:C.cloneWithWhere(this.#e.queryNode,Ee(e))})}whereRef(e,r,n){return new t({...this.#e,queryNode:C.cloneWithWhere(this.#e.queryNode,Z(e,r,n))})}orWhere(...e){return new t({...this.#e,queryNode:C.cloneWithOrWhere(this.#e.queryNode,Ee(e))})}orWhereRef(e,r,n){return new t({...this.#e,queryNode:C.cloneWithOrWhere(this.#e.queryNode,Z(e,r,n))})}whereExists(e){return new t({...this.#e,queryNode:C.cloneWithWhere(this.#e.queryNode,ce(e))})}whereNotExists(e){return new t({...this.#e,queryNode:C.cloneWithWhere(this.#e.queryNode,oe(e))})}orWhereExists(e){return new t({...this.#e,queryNode:C.cloneWithOrWhere(this.#e.queryNode,ce(e))})}orWhereNotExists(e){return new t({...this.#e,queryNode:C.cloneWithOrWhere(this.#e.queryNode,oe(e))})}clearWhere(){return new t({...this.#e,queryNode:C.cloneWithoutWhere(this.#e.queryNode)})}from(e){return new t({...this.#e,queryNode:Kn.cloneWithFromItems(this.#e.queryNode,Ct(e))})}innerJoin(...e){return new t({...this.#e,queryNode:C.cloneWithJoin(this.#e.queryNode,Oe("InnerJoin",e))})}leftJoin(...e){return new t({...this.#e,queryNode:C.cloneWithJoin(this.#e.queryNode,Oe("LeftJoin",e))})}rightJoin(...e){return new t({...this.#e,queryNode:C.cloneWithJoin(this.#e.queryNode,Oe("RightJoin",e))})}fullJoin(...e){return new t({...this.#e,queryNode:C.cloneWithJoin(this.#e.queryNode,Oe("FullJoin",e))})}set(e){return new t({...this.#e,queryNode:Kn.cloneWithUpdates(this.#e.queryNode,ki(e))})}returning(e){return new t({...this.#e,queryNode:C.cloneWithReturning(this.#e.queryNode,xr(e))})}returningAll(){return new t({...this.#e,queryNode:C.cloneWithReturning(this.#e.queryNode,Ft())})}$call(e){return e(this)}call(e){return this.$call(e)}$if(e,r){return e?r(this):new t({...this.#e})}if(e,r){return this.$if(e,r)}$castTo(){return new t(this.#e)}castTo(){return this.$castTo()}$narrowType(){return new t(this.#e)}$assertType(){return new t(this.#e)}assertType(){return new t(this.#e)}withPlugin(e){return new t({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){let e=this.compile(),r=e.query,n=await this.#e.executor.executeQuery(e,this.#e.queryId);return this.#e.executor.adapter.supportsReturning&&r.returning?n.rows:[new Qs(n.numAffectedRows??n.numUpdatedOrDeletedRows??BigInt(0))]}async executeTakeFirst(){let[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=Lt){let r=await this.executeTakeFirst();if(r===void 0)throw en(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}async*stream(e=100){let r=this.compile(),n=this.#e.executor.stream(r,e,this.#e.queryId);for await(let i of n)yield*i.rows}async explain(e,r){return await new t({...this.#e,queryNode:C.cloneWithExplain(this.#e.queryNode,e,r)}).execute()}};O(Ys,"don't await UpdateQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");var u0=u({is(t){return t.kind==="CommonTableExpressionNode"},create(t,e){return u({kind:"CommonTableExpressionNode",name:t,expression:e})}});var Gh=u({is(t){return t.kind==="CommonTableExpressionNameNode"},create(t,e){return u({kind:"CommonTableExpressionNameNode",table:dt.create(t),columns:e?u(e.map(U.create)):void 0})}});function Kh(t,e){let r=e(l0());return u0.create(ck(t),r.toOperationNode())}function ck(t){if(t.includes("(")){let e=t.split(/[\(\)]/),r=e[0],n=e[1].split(",").map(i=>i.trim());return Gh.create(r,n)}else return Gh.create(t)}var Js=u({is(t){return t.kind==="WithNode"},create(t,e){return u({kind:"WithNode",expressions:u([t]),...e})},cloneWithExpression(t,e){return u({...t,expressions:u([...t.expressions,e])})}});var p0=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"];function f0(t){let e="";for(let r=0;r<t;++r)e+=dk();return e}function dk(){return p0[~~(Math.random()*p0.length)]}function B(){return new Qh}var Qh=class{#e;get queryId(){return this.#e===void 0&&(this.#e=f0(8)),this.#e}};var Li=class{nodeStack=[];#e=u({AliasNode:this.transformAlias.bind(this),ColumnNode:this.transformColumn.bind(this),IdentifierNode:this.transformIdentifier.bind(this),SchemableIdentifierNode:this.transformSchemableIdentifier.bind(this),RawNode:this.transformRaw.bind(this),ReferenceNode:this.transformReference.bind(this),SelectQueryNode:this.transformSelectQuery.bind(this),SelectionNode:this.transformSelection.bind(this),TableNode:this.transformTable.bind(this),FromNode:this.transformFrom.bind(this),SelectAllNode:this.transformSelectAll.bind(this),AndNode:this.transformAnd.bind(this),OrNode:this.transformOr.bind(this),ValueNode:this.transformValue.bind(this),ValueListNode:this.transformValueList.bind(this),PrimitiveValueListNode:this.transformPrimitiveValueList.bind(this),ParensNode:this.transformParens.bind(this),JoinNode:this.transformJoin.bind(this),OperatorNode:this.transformOperator.bind(this),WhereNode:this.transformWhere.bind(this),InsertQueryNode:this.transformInsertQuery.bind(this),DeleteQueryNode:this.transformDeleteQuery.bind(this),ReturningNode:this.transformReturning.bind(this),CreateTableNode:this.transformCreateTable.bind(this),AddColumnNode:this.transformAddColumn.bind(this),ColumnDefinitionNode:this.transformColumnDefinition.bind(this),DropTableNode:this.transformDropTable.bind(this),DataTypeNode:this.transformDataType.bind(this),OrderByNode:this.transformOrderBy.bind(this),OrderByItemNode:this.transformOrderByItem.bind(this),GroupByNode:this.transformGroupBy.bind(this),GroupByItemNode:this.transformGroupByItem.bind(this),UpdateQueryNode:this.transformUpdateQuery.bind(this),ColumnUpdateNode:this.transformColumnUpdate.bind(this),LimitNode:this.transformLimit.bind(this),OffsetNode:this.transformOffset.bind(this),OnConflictNode:this.transformOnConflict.bind(this),OnDuplicateKeyNode:this.transformOnDuplicateKey.bind(this),CreateIndexNode:this.transformCreateIndex.bind(this),DropIndexNode:this.transformDropIndex.bind(this),ListNode:this.transformList.bind(this),PrimaryKeyConstraintNode:this.transformPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.transformUniqueConstraint.bind(this),ReferencesNode:this.transformReferences.bind(this),CheckConstraintNode:this.transformCheckConstraint.bind(this),WithNode:this.transformWith.bind(this),CommonTableExpressionNode:this.transformCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.transformCommonTableExpressionName.bind(this),HavingNode:this.transformHaving.bind(this),CreateSchemaNode:this.transformCreateSchema.bind(this),DropSchemaNode:this.transformDropSchema.bind(this),AlterTableNode:this.transformAlterTable.bind(this),DropColumnNode:this.transformDropColumn.bind(this),RenameColumnNode:this.transformRenameColumn.bind(this),AlterColumnNode:this.transformAlterColumn.bind(this),ModifyColumnNode:this.transformModifyColumn.bind(this),AddConstraintNode:this.transformAddConstraint.bind(this),DropConstraintNode:this.transformDropConstraint.bind(this),ForeignKeyConstraintNode:this.transformForeignKeyConstraint.bind(this),CreateViewNode:this.transformCreateView.bind(this),DropViewNode:this.transformDropView.bind(this),GeneratedNode:this.transformGenerated.bind(this),DefaultValueNode:this.transformDefaultValue.bind(this),OnNode:this.transformOn.bind(this),ValuesNode:this.transformValues.bind(this),SelectModifierNode:this.transformSelectModifier.bind(this),CreateTypeNode:this.transformCreateType.bind(this),DropTypeNode:this.transformDropType.bind(this),ExplainNode:this.transformExplain.bind(this),DefaultInsertValueNode:this.transformDefaultInsertValue.bind(this),AggregateFunctionNode:this.transformAggregateFunction.bind(this),OverNode:this.transformOver.bind(this),PartitionByNode:this.transformPartitionBy.bind(this),PartitionByItemNode:this.transformPartitionByItem.bind(this),SetOperationNode:this.transformSetOperation.bind(this),BinaryOperationNode:this.transformBinaryOperation.bind(this),UnaryOperationNode:this.transformUnaryOperation.bind(this),UsingNode:this.transformUsing.bind(this),FunctionNode:this.transformFunction.bind(this),CaseNode:this.transformCase.bind(this),WhenNode:this.transformWhen.bind(this)});transformNode(e){if(!e)return e;this.nodeStack.push(e);let r=this.transformNodeImpl(e);return this.nodeStack.pop(),u(r)}transformNodeImpl(e){return this.#e[e.kind](e)}transformNodeList(e){return e&&u(e.map(r=>this.transformNode(r)))}transformSelectQuery(e){return{kind:"SelectQueryNode",from:this.transformNode(e.from),selections:this.transformNodeList(e.selections),distinctOn:this.transformNodeList(e.distinctOn),joins:this.transformNodeList(e.joins),groupBy:this.transformNode(e.groupBy),orderBy:this.transformNode(e.orderBy),where:this.transformNode(e.where),frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),limit:this.transformNode(e.limit),offset:this.transformNode(e.offset),with:this.transformNode(e.with),having:this.transformNode(e.having),explain:this.transformNode(e.explain),setOperations:this.transformNodeList(e.setOperations)}}transformSelection(e){return{kind:"SelectionNode",selection:this.transformNode(e.selection)}}transformColumn(e){return{kind:"ColumnNode",column:this.transformNode(e.column)}}transformAlias(e){return{kind:"AliasNode",node:this.transformNode(e.node),alias:this.transformNode(e.alias)}}transformTable(e){return{kind:"TableNode",table:this.transformNode(e.table)}}transformFrom(e){return{kind:"FromNode",froms:this.transformNodeList(e.froms)}}transformReference(e){return{kind:"ReferenceNode",table:this.transformNode(e.table),column:this.transformNode(e.column)}}transformAnd(e){return{kind:"AndNode",left:this.transformNode(e.left),right:this.transformNode(e.right)}}transformOr(e){return{kind:"OrNode",left:this.transformNode(e.left),right:this.transformNode(e.right)}}transformValueList(e){return{kind:"ValueListNode",values:this.transformNodeList(e.values)}}transformParens(e){return{kind:"ParensNode",node:this.transformNode(e.node)}}transformJoin(e){return{kind:"JoinNode",joinType:e.joinType,table:this.transformNode(e.table),on:this.transformNode(e.on)}}transformRaw(e){return{kind:"RawNode",sqlFragments:u([...e.sqlFragments]),parameters:this.transformNodeList(e.parameters)}}transformWhere(e){return{kind:"WhereNode",where:this.transformNode(e.where)}}transformInsertQuery(e){return{kind:"InsertQueryNode",into:this.transformNode(e.into),columns:this.transformNodeList(e.columns),values:this.transformNode(e.values),returning:this.transformNode(e.returning),onConflict:this.transformNode(e.onConflict),onDuplicateKey:this.transformNode(e.onDuplicateKey),with:this.transformNode(e.with),ignore:e.ignore,replace:e.replace,explain:this.transformNode(e.explain)}}transformValues(e){return{kind:"ValuesNode",values:this.transformNodeList(e.values)}}transformDeleteQuery(e){return{kind:"DeleteQueryNode",from:this.transformNode(e.from),using:this.transformNode(e.using),joins:this.transformNodeList(e.joins),where:this.transformNode(e.where),returning:this.transformNode(e.returning),with:this.transformNode(e.with),orderBy:this.transformNode(e.orderBy),limit:this.transformNode(e.limit),explain:this.transformNode(e.explain)}}transformReturning(e){return{kind:"ReturningNode",selections:this.transformNodeList(e.selections)}}transformCreateTable(e){return{kind:"CreateTableNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),constraints:this.transformNodeList(e.constraints),temporary:e.temporary,ifNotExists:e.ifNotExists,onCommit:e.onCommit,frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers)}}transformColumnDefinition(e){return{kind:"ColumnDefinitionNode",column:this.transformNode(e.column),dataType:this.transformNode(e.dataType),references:this.transformNode(e.references),primaryKey:e.primaryKey,autoIncrement:e.autoIncrement,unique:e.unique,notNull:e.notNull,unsigned:e.unsigned,defaultTo:this.transformNode(e.defaultTo),check:this.transformNode(e.check),generated:this.transformNode(e.generated),frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers)}}transformAddColumn(e){return{kind:"AddColumnNode",column:this.transformNode(e.column)}}transformDropTable(e){return{kind:"DropTableNode",table:this.transformNode(e.table),ifExists:e.ifExists,cascade:e.cascade}}transformOrderBy(e){return{kind:"OrderByNode",items:this.transformNodeList(e.items)}}transformOrderByItem(e){return{kind:"OrderByItemNode",orderBy:this.transformNode(e.orderBy),direction:this.transformNode(e.direction)}}transformGroupBy(e){return{kind:"GroupByNode",items:this.transformNodeList(e.items)}}transformGroupByItem(e){return{kind:"GroupByItemNode",groupBy:this.transformNode(e.groupBy)}}transformUpdateQuery(e){return{kind:"UpdateQueryNode",table:this.transformNode(e.table),from:this.transformNode(e.from),joins:this.transformNodeList(e.joins),where:this.transformNode(e.where),updates:this.transformNodeList(e.updates),returning:this.transformNode(e.returning),with:this.transformNode(e.with),explain:this.transformNode(e.explain)}}transformColumnUpdate(e){return{kind:"ColumnUpdateNode",column:this.transformNode(e.column),value:this.transformNode(e.value)}}transformLimit(e){return{kind:"LimitNode",limit:this.transformNode(e.limit)}}transformOffset(e){return{kind:"OffsetNode",offset:this.transformNode(e.offset)}}transformOnConflict(e){return{kind:"OnConflictNode",columns:this.transformNodeList(e.columns),constraint:this.transformNode(e.constraint),indexExpression:this.transformNode(e.indexExpression),indexWhere:this.transformNode(e.indexWhere),updates:this.transformNodeList(e.updates),updateWhere:this.transformNode(e.updateWhere),doNothing:e.doNothing}}transformOnDuplicateKey(e){return{kind:"OnDuplicateKeyNode",updates:this.transformNodeList(e.updates)}}transformCreateIndex(e){return{kind:"CreateIndexNode",name:this.transformNode(e.name),table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),unique:e.unique,using:this.transformNode(e.using),ifNotExists:e.ifNotExists,where:this.transformNode(e.where)}}transformList(e){return{kind:"ListNode",items:this.transformNodeList(e.items)}}transformDropIndex(e){return{kind:"DropIndexNode",name:this.transformNode(e.name),table:this.transformNode(e.table),ifExists:e.ifExists,cascade:e.cascade}}transformPrimaryKeyConstraint(e){return{kind:"PrimaryKeyConstraintNode",columns:this.transformNodeList(e.columns),name:this.transformNode(e.name)}}transformUniqueConstraint(e){return{kind:"UniqueConstraintNode",columns:this.transformNodeList(e.columns),name:this.transformNode(e.name)}}transformForeignKeyConstraint(e){return{kind:"ForeignKeyConstraintNode",columns:this.transformNodeList(e.columns),references:this.transformNode(e.references),name:this.transformNode(e.name),onDelete:e.onDelete,onUpdate:e.onUpdate}}transformSetOperation(e){return{kind:"SetOperationNode",operator:e.operator,expression:this.transformNode(e.expression),all:e.all}}transformReferences(e){return{kind:"ReferencesNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),onDelete:e.onDelete,onUpdate:e.onUpdate}}transformCheckConstraint(e){return{kind:"CheckConstraintNode",expression:this.transformNode(e.expression),name:this.transformNode(e.name)}}transformWith(e){return{kind:"WithNode",expressions:this.transformNodeList(e.expressions),recursive:e.recursive}}transformCommonTableExpression(e){return{kind:"CommonTableExpressionNode",name:this.transformNode(e.name),expression:this.transformNode(e.expression)}}transformCommonTableExpressionName(e){return{kind:"CommonTableExpressionNameNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns)}}transformHaving(e){return{kind:"HavingNode",having:this.transformNode(e.having)}}transformCreateSchema(e){return{kind:"CreateSchemaNode",schema:this.transformNode(e.schema),ifNotExists:e.ifNotExists}}transformDropSchema(e){return{kind:"DropSchemaNode",schema:this.transformNode(e.schema),ifExists:e.ifExists,cascade:e.cascade}}transformAlterTable(e){return{kind:"AlterTableNode",table:this.transformNode(e.table),renameTo:this.transformNode(e.renameTo),setSchema:this.transformNode(e.setSchema),columnAlterations:this.transformNodeList(e.columnAlterations),addConstraint:this.transformNode(e.addConstraint),dropConstraint:this.transformNode(e.dropConstraint)}}transformDropColumn(e){return{kind:"DropColumnNode",column:this.transformNode(e.column)}}transformRenameColumn(e){return{kind:"RenameColumnNode",column:this.transformNode(e.column),renameTo:this.transformNode(e.renameTo)}}transformAlterColumn(e){return{kind:"AlterColumnNode",column:this.transformNode(e.column),dataType:this.transformNode(e.dataType),dataTypeExpression:this.transformNode(e.dataTypeExpression),setDefault:this.transformNode(e.setDefault),dropDefault:e.dropDefault,setNotNull:e.setNotNull,dropNotNull:e.dropNotNull}}transformModifyColumn(e){return{kind:"ModifyColumnNode",column:this.transformNode(e.column)}}transformAddConstraint(e){return{kind:"AddConstraintNode",constraint:this.transformNode(e.constraint)}}transformDropConstraint(e){return{kind:"DropConstraintNode",constraintName:this.transformNode(e.constraintName),ifExists:e.ifExists,modifier:e.modifier}}transformCreateView(e){return{kind:"CreateViewNode",name:this.transformNode(e.name),temporary:e.temporary,orReplace:e.orReplace,ifNotExists:e.ifNotExists,materialized:e.materialized,columns:this.transformNodeList(e.columns),as:this.transformNode(e.as)}}transformDropView(e){return{kind:"DropViewNode",name:this.transformNode(e.name),ifExists:e.ifExists,materialized:e.materialized,cascade:e.cascade}}transformGenerated(e){return{kind:"GeneratedNode",byDefault:e.byDefault,always:e.always,identity:e.identity,stored:e.stored,expression:this.transformNode(e.expression)}}transformDefaultValue(e){return{kind:"DefaultValueNode",defaultValue:this.transformNode(e.defaultValue)}}transformOn(e){return{kind:"OnNode",on:this.transformNode(e.on)}}transformSelectModifier(e){return{kind:"SelectModifierNode",modifier:e.modifier,rawModifier:this.transformNode(e.rawModifier)}}transformCreateType(e){return{kind:"CreateTypeNode",name:this.transformNode(e.name),enum:this.transformNode(e.enum)}}transformDropType(e){return{kind:"DropTypeNode",name:this.transformNode(e.name),ifExists:e.ifExists}}transformExplain(e){return{kind:"ExplainNode",format:e.format,options:this.transformNode(e.options)}}transformSchemableIdentifier(e){return{kind:"SchemableIdentifierNode",schema:this.transformNode(e.schema),identifier:this.transformNode(e.identifier)}}transformAggregateFunction(e){return{kind:"AggregateFunctionNode",aggregated:this.transformNodeList(e.aggregated),distinct:e.distinct,filter:this.transformNode(e.filter),func:e.func,over:this.transformNode(e.over)}}transformOver(e){return{kind:"OverNode",orderBy:this.transformNode(e.orderBy),partitionBy:this.transformNode(e.partitionBy)}}transformPartitionBy(e){return{kind:"PartitionByNode",items:this.transformNodeList(e.items)}}transformPartitionByItem(e){return{kind:"PartitionByItemNode",partitionBy:this.transformNode(e.partitionBy)}}transformBinaryOperation(e){return{kind:"BinaryOperationNode",leftOperand:this.transformNode(e.leftOperand),operator:this.transformNode(e.operator),rightOperand:this.transformNode(e.rightOperand)}}transformUnaryOperation(e){return{kind:"UnaryOperationNode",operator:this.transformNode(e.operator),operand:this.transformNode(e.operand)}}transformUsing(e){return{kind:"UsingNode",tables:this.transformNodeList(e.tables)}}transformFunction(e){return{kind:"FunctionNode",func:e.func,arguments:this.transformNodeList(e.arguments)}}transformCase(e){return{kind:"CaseNode",value:this.transformNode(e.value),when:this.transformNodeList(e.when),else:this.transformNode(e.else),isStatement:e.isStatement}}transformWhen(e){return{kind:"WhenNode",condition:this.transformNode(e.condition),result:this.transformNode(e.result)}}transformDataType(e){return e}transformSelectAll(e){return e}transformIdentifier(e){return e}transformValue(e){return e}transformPrimitiveValueList(e){return e}transformOperator(e){return e}transformDefaultInsertValue(e){return e}};var uk=u({AlterTableNode:!0,CreateIndexNode:!0,CreateSchemaNode:!0,CreateTableNode:!0,CreateTypeNode:!0,CreateViewNode:!0,DeleteQueryNode:!0,DropIndexNode:!0,DropSchemaNode:!0,DropTableNode:!0,DropTypeNode:!0,DropViewNode:!0,InsertQueryNode:!0,RawNode:!0,SelectQueryNode:!0,UpdateQueryNode:!0}),Xc=class extends Li{#e;#t=new Set;constructor(e){super(),this.#e=e}transformNodeImpl(e){if(!this.#r(e))return super.transformNodeImpl(e);let r=this.#n(e);for(let i of r)this.#t.add(i);let n=super.transformNodeImpl(e);for(let i of r)this.#t.delete(i);return n}transformSchemableIdentifier(e){let r=super.transformSchemableIdentifier(e);return r.schema||!this.#t.has(e.identifier.name)?r:{...r,schema:D.create(this.#e)}}transformReferences(e){let r=super.transformReferences(e);return r.table.table.schema?r:{...r,table:dt.createWithSchema(this.#e,r.table.table.identifier.name)}}#r(e){return e.kind in uk}#n(e){let r=new Set;if("name"in e&&e.name&&$e.is(e.name)&&this.#o(e.name,r),"from"in e&&e.from)for(let n of e.from.froms)this.#i(n,r);if("into"in e&&e.into&&this.#i(e.into,r),"table"in e&&e.table&&this.#i(e.table,r),"joins"in e&&e.joins)for(let n of e.joins)this.#i(n.table,r);return"with"in e&&e.with&&this.#s(e.with,r),r}#i(e,r){let n=dt.is(e)?e:ze.is(e)&&dt.is(e.node)?e.node:null;n&&this.#o(n.table,r)}#o(e,r){this.#t.has(e.identifier.name)||r.add(e.identifier.name)}#s(e,r){for(let n of e.expressions)r.delete(n.name.table.table.identifier.name)}};var rt=class{#e;constructor(e){this.#e=new Xc(e)}transformQuery(e){return this.#e.transformNode(e.node)}async transformResult(e){return e.result}};var Ui=class t{#e;constructor(e){this.#e=u(e)}selectFrom(e){return new br({queryId:B(),executor:this.#e.executor,queryNode:R.create(Ct(e),this.#e.withNode)})}insertInto(e){return new Fi({queryId:B(),executor:this.#e.executor,queryNode:He.create(de(e),this.#e.withNode)})}replaceInto(e){return new Fi({queryId:B(),executor:this.#e.executor,queryNode:He.create(de(e),this.#e.withNode,!0)})}deleteFrom(e){return new Ks({queryId:B(),executor:this.#e.executor,queryNode:Zr.create(Ct(e),this.#e.withNode)})}updateTable(e){return new Ys({queryId:B(),executor:this.#e.executor,queryNode:Kn.create(tn(e),this.#e.withNode)})}with(e,r){let n=Kh(e,r);return new t({...this.#e,withNode:this.#e.withNode?Js.cloneWithExpression(this.#e.withNode,n):Js.create(n)})}withRecursive(e,r){let n=Kh(e,r);return new t({...this.#e,withNode:this.#e.withNode?Js.cloneWithExpression(this.#e.withNode,n):Js.create(n,{recursive:!0})})}withPlugin(e){return new t({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new t({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new t({...this.#e,executor:this.#e.executor.withPluginAtFront(new rt(e))})}};var Xs=class{#e;#t;#r;constructor(){this.#e=new Promise((e,r)=>{this.#r=r,this.#t=e})}get promise(){return this.#e}resolve=e=>{this.#t&&this.#t(e)};reject=e=>{this.#r&&this.#r(e)}};var m0=new Set;function h0(t){m0.has(t)||(m0.add(t),console.log(t))}var lk=u([]),ji=class{#e;constructor(e=lk){this.#e=e}get plugins(){return this.#e}transformQuery(e,r){for(let n of this.#e){let i=n.transformQuery({node:e,queryId:r});if(i.kind===e.kind)e=i;else throw new Error(["KyselyPlugin.transformQuery must return a node","of the same kind that was given to it.",`The plugin was given a ${e.kind}`,`but it returned a ${i.kind}`].join(" "))}return e}async executeQuery(e,r){return await this.provideConnection(async n=>{let i=await n.executeQuery(e),o=await this.#t(i,r);return pk(i,o),o})}async*stream(e,r,n){let i=new Xs,o=new Xs;this.provideConnection(async a=>(i.resolve(a),await o.promise)).catch(a=>i.reject(a));let s=await i.promise;try{for await(let a of s.streamQuery(e,r))yield await this.#t(a,n)}finally{o.resolve()}}async#t(e,r){for(let n of this.#e)e=await n.transformResult({result:e,queryId:r});return e}};function pk(t,e){let{numAffectedRows:r}=t;r===void 0&&t.numUpdatedOrDeletedRows===void 0||r!==void 0&&e.numAffectedRows!==void 0||h0("kysely:warning: outdated driver/plugin detected! QueryResult.numUpdatedOrDeletedRows is deprecated and will be removed in a future release.")}var Yh=class t extends ji{get adapter(){throw new Error("this query cannot be compiled to SQL")}compileQuery(){throw new Error("this query cannot be compiled to SQL")}provideConnection(){throw new Error("this query cannot be executed")}withConnectionProvider(){throw new Error("this query cannot have a connection provider")}withPlugin(e){return new t([...this.plugins,e])}withPlugins(e){return new t([...this.plugins,...e])}withPluginAtFront(e){return new t([e,...this.plugins])}withoutPlugins(){return new t([])}},Qn=new Yh;function Jh(){return new br({queryId:B(),executor:Qn,queryNode:R.create(Ct([]))})}function l0(){return new Ui({executor:Qn})}function Zc(t,e){return new Vs({joinNode:De.create(t,tn(e))})}function _0(){return new $s({overNode:Ws.create()})}var Zs=u({is(t){return t.kind==="WhenNode"},create(t){return u({kind:"WhenNode",condition:t})},cloneWithResult(t,e){return u({...t,result:e})}});var We=u({is(t){return t.kind==="CaseNode"},create(t){return u({kind:"CaseNode",value:t})},cloneWithWhen(t,e){return u({...t,when:u(t.when?[...t.when,e]:[e])})},cloneWithThen(t,e){return u({...t,when:t.when?u([...t.when.slice(0,-1),Zs.cloneWithResult(t.when[t.when.length-1],e)]):void 0})},cloneWith(t,e){return u({...t,...e})}});function ed(t,e,r){if(!kh(e)&&!ie(e))throw new Error(`invalid binary operator ${JSON.stringify(e)}`);return hk(e,r)?_k(t,e,r):js.create(et(t),e_(e),$c(r))}function fk(t,e,r){if(!kh(e)&&!ie(e))throw new Error(`invalid binary operator ${JSON.stringify(e)}`);return js.create(et(t),e_(e),et(r))}function mk(t,e,r){if(!Fh(e)&&!ie(e))throw new Error(`invalid comparison operator ${JSON.stringify(e)}`);return ed(t,e,r)}function Z(t,e,r){if(!Fh(e)&&!ie(e))throw new Error(`invalid comparison operator ${JSON.stringify(e)}`);return fk(t,e,r)}function Ee(t){return td("where",t)}function Xh(t){return td("having",t)}function $h(t){return td("on",t)}function Zh(t){return td("when",t)}function td(t,e){if(e.length===3)return mk(e[0],e[1],e[2]);if(e.length===1)return yk(t,e[0]);throw y0(t,e)}function hk(t,e){return(t==="is"||t==="is not")&&(Wc(e)||jc(e))}function _k(t,e,r){return js.create(et(t),e_(e),we.createImmediate(r))}function e_(t){if(ye(t)&&QS.includes(t))return Ri.create(t);if(ie(t))return t.toOperationNode();throw new Error(`invalid operator ${JSON.stringify(t)}`)}function yk(t,e){if(ne(e)){if(t==="when")throw new Error("when method doesn't accept a callback as an argument");return gk[t](e)}else if(ie(e)){let r=e.toOperationNode();if(me.is(r)||js.is(r)||zc.is(r)||Yr.is(r)||We.is(r))return r}else if(t==="when")return we.create(e);throw y0(t,e)}function y0(t,e){return new Error(`invalid arguments passed to a '${t}' method: ${JSON.stringify(e)}`)}var gk=u({where(t){let e=Jh(),r=je(),i=t(Object.assign(e,r)).toOperationNode();if(R.is(i)){if(!i.where)throw new Error("no `where` methods called inside a group callback");return Yr.create(i.where.where)}else return i},having(t){let e=Jh(),r=je(),i=t(Object.assign(e,r)).toOperationNode();if(R.is(i)){if(!i.having)throw new Error("no `having` methods called inside a group callback");return Yr.create(i.having.having)}else return i},on(t){let e=Zc("InnerJoin","table"),r=je(),i=t(Object.assign(e,r)).toOperationNode();if(De.is(i)){if(!i.on)throw new Error("no `on` methods called inside a group callback");return Yr.create(i.on.on)}else return i}});function Oe(t,e){if(e.length===3)return vk(t,e[0],e[1],e[2]);if(e.length===2)return Ek(t,e[0],e[1]);throw new Error("not implemented")}function Ek(t,e,r){return r(Zc(t,e)).toOperationNode()}function vk(t,e,r,n){return De.createWithOn(t,tn(e),Z(r,"=",n))}var g0=u({is(t){return t.kind==="OffsetNode"},create(t){return u({kind:"OffsetNode",offset:we.create(t)})}});var E0=u({is(t){return t.kind==="GroupByItemNode"},create(t){return u({kind:"GroupByItemNode",groupBy:t})}});function v0(t){return t=ne(t)?t(je()):t,wr(t).map(E0.create)}var rd=u({is(t){return t.kind==="SetOperationNode"},create(t,e,r){return u({kind:"SetOperationNode",operator:t,expression:e,all:r})}});function Yn(t,e,r){return rd.create(t,e.toOperationNode(),r)}var br=class t{#e;constructor(e){this.#e=u(e)}get expressionType(){}where(...e){return new t({...this.#e,queryNode:C.cloneWithWhere(this.#e.queryNode,Ee(e))})}whereRef(e,r,n){return new t({...this.#e,queryNode:C.cloneWithWhere(this.#e.queryNode,Z(e,r,n))})}orWhere(...e){return new t({...this.#e,queryNode:C.cloneWithOrWhere(this.#e.queryNode,Ee(e))})}orWhereRef(e,r,n){return new t({...this.#e,queryNode:C.cloneWithOrWhere(this.#e.queryNode,Z(e,r,n))})}whereExists(e){return new t({...this.#e,queryNode:C.cloneWithWhere(this.#e.queryNode,ce(e))})}whereNotExists(e){return new t({...this.#e,queryNode:C.cloneWithWhere(this.#e.queryNode,oe(e))})}orWhereExists(e){return new t({...this.#e,queryNode:C.cloneWithOrWhere(this.#e.queryNode,ce(e))})}orWhereNotExists(e){return new t({...this.#e,queryNode:C.cloneWithOrWhere(this.#e.queryNode,oe(e))})}having(...e){return new t({...this.#e,queryNode:R.cloneWithHaving(this.#e.queryNode,Xh(e))})}havingRef(e,r,n){return new t({...this.#e,queryNode:R.cloneWithHaving(this.#e.queryNode,Z(e,r,n))})}orHaving(...e){return new t({...this.#e,queryNode:R.cloneWithOrHaving(this.#e.queryNode,Xh(e))})}orHavingRef(e,r,n){return new t({...this.#e,queryNode:R.cloneWithOrHaving(this.#e.queryNode,Z(e,r,n))})}havingExists(e){return new t({...this.#e,queryNode:R.cloneWithHaving(this.#e.queryNode,ce(e))})}havingNotExist(e){return new t({...this.#e,queryNode:R.cloneWithHaving(this.#e.queryNode,oe(e))})}havingNotExists(e){return new t({...this.#e,queryNode:R.cloneWithHaving(this.#e.queryNode,oe(e))})}orHavingExists(e){return new t({...this.#e,queryNode:R.cloneWithOrHaving(this.#e.queryNode,ce(e))})}orHavingNotExists(e){return new t({...this.#e,queryNode:R.cloneWithOrHaving(this.#e.queryNode,oe(e))})}select(e){return new t({...this.#e,queryNode:R.cloneWithSelections(this.#e.queryNode,xr(e))})}distinctOn(e){return new t({...this.#e,queryNode:R.cloneWithDistinctOn(this.#e.queryNode,wr(e))})}modifyFront(e){return new t({...this.#e,queryNode:R.cloneWithFrontModifier(this.#e.queryNode,kt.createWithExpression(e.toOperationNode()))})}modifyEnd(e){return new t({...this.#e,queryNode:R.cloneWithEndModifier(this.#e.queryNode,kt.createWithExpression(e.toOperationNode()))})}distinct(){return new t({...this.#e,queryNode:R.cloneWithFrontModifier(this.#e.queryNode,kt.create("Distinct"))})}forUpdate(){return new t({...this.#e,queryNode:R.cloneWithEndModifier(this.#e.queryNode,kt.create("ForUpdate"))})}forShare(){return new t({...this.#e,queryNode:R.cloneWithEndModifier(this.#e.queryNode,kt.create("ForShare"))})}forKeyShare(){return new t({...this.#e,queryNode:R.cloneWithEndModifier(this.#e.queryNode,kt.create("ForKeyShare"))})}forNoKeyUpdate(){return new t({...this.#e,queryNode:R.cloneWithEndModifier(this.#e.queryNode,kt.create("ForNoKeyUpdate"))})}skipLocked(){return new t({...this.#e,queryNode:R.cloneWithEndModifier(this.#e.queryNode,kt.create("SkipLocked"))})}noWait(){return new t({...this.#e,queryNode:R.cloneWithEndModifier(this.#e.queryNode,kt.create("NoWait"))})}selectAll(e){return new t({...this.#e,queryNode:R.cloneWithSelections(this.#e.queryNode,Ft(e))})}innerJoin(...e){return new t({...this.#e,queryNode:C.cloneWithJoin(this.#e.queryNode,Oe("InnerJoin",e))})}leftJoin(...e){return new t({...this.#e,queryNode:C.cloneWithJoin(this.#e.queryNode,Oe("LeftJoin",e))})}rightJoin(...e){return new t({...this.#e,queryNode:C.cloneWithJoin(this.#e.queryNode,Oe("RightJoin",e))})}fullJoin(...e){return new t({...this.#e,queryNode:C.cloneWithJoin(this.#e.queryNode,Oe("FullJoin",e))})}innerJoinLateral(...e){return new t({...this.#e,queryNode:C.cloneWithJoin(this.#e.queryNode,Oe("LateralInnerJoin",e))})}leftJoinLateral(...e){return new t({...this.#e,queryNode:C.cloneWithJoin(this.#e.queryNode,Oe("LateralLeftJoin",e))})}orderBy(e,r){return new t({...this.#e,queryNode:R.cloneWithOrderByItem(this.#e.queryNode,Jr(e,r))})}groupBy(e){return new t({...this.#e,queryNode:R.cloneWithGroupByItems(this.#e.queryNode,v0(e))})}limit(e){return new t({...this.#e,queryNode:R.cloneWithLimit(this.#e.queryNode,Jc.create(e))})}offset(e){return new t({...this.#e,queryNode:R.cloneWithOffset(this.#e.queryNode,g0.create(e))})}union(e){return new t({...this.#e,queryNode:R.cloneWithSetOperation(this.#e.queryNode,Yn("union",e,!1))})}unionAll(e){return new t({...this.#e,queryNode:R.cloneWithSetOperation(this.#e.queryNode,Yn("union",e,!0))})}intersect(e){return new t({...this.#e,queryNode:R.cloneWithSetOperation(this.#e.queryNode,Yn("intersect",e,!1))})}intersectAll(e){return new t({...this.#e,queryNode:R.cloneWithSetOperation(this.#e.queryNode,Yn("intersect",e,!0))})}except(e){return new t({...this.#e,queryNode:R.cloneWithSetOperation(this.#e.queryNode,Yn("except",e,!1))})}exceptAll(e){return new t({...this.#e,queryNode:R.cloneWithSetOperation(this.#e.queryNode,Yn("except",e,!0))})}as(e){return new t_(this,e)}clearSelect(){return new t({...this.#e,queryNode:R.cloneWithoutSelections(this.#e.queryNode)})}clearWhere(){return new t({...this.#e,queryNode:C.cloneWithoutWhere(this.#e.queryNode)})}clearLimit(){return new t({...this.#e,queryNode:R.cloneWithoutLimit(this.#e.queryNode)})}clearOffset(){return new t({...this.#e,queryNode:R.cloneWithoutOffset(this.#e.queryNode)})}clearOrderBy(){return new t({...this.#e,queryNode:R.cloneWithoutOrderBy(this.#e.queryNode)})}$call(e){return e(this)}call(e){return this.$call(e)}$if(e,r){return e?r(this):new t({...this.#e})}if(e,r){return this.$if(e,r)}$castTo(){return new t(this.#e)}castTo(){return this.$castTo()}$narrowType(){return new t(this.#e)}$assertType(){return new t(this.#e)}assertType(){return new t(this.#e)}withPlugin(e){return new t({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){let e=this.compile();return(await this.#e.executor.executeQuery(e,this.#e.queryId)).rows}async executeTakeFirst(){let[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=Lt){let r=await this.executeTakeFirst();if(r===void 0)throw en(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}async*stream(e=100){let r=this.compile(),n=this.#e.executor.stream(r,e,this.#e.queryId);for await(let i of n)yield*i.rows}async explain(e,r){return await new t({...this.#e,queryNode:C.cloneWithExplain(this.#e.queryNode,e,r)}).execute()}};O(br,"don't await SelectQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");var t_=class{#e;#t;constructor(e,r){this.#e=e,this.#t=r}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return ze.create(this.#e.toOperationNode(),D.create(this.#t))}};var fe=class t{#e;constructor(e){this.#e=e}get expressionType(){}as(e){return new r_(this,e)}$castTo(){return new t(this.#e)}toOperationNode(){return this.#e}},r_=class{#e;#t;constructor(e,r){this.#e=e,this.#t=r}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return ze.create(this.#e.toOperationNode(),ie(this.#t)?this.#t.toOperationNode():D.create(this.#t))}};var Ge=u({is(t){return t.kind==="AggregateFunctionNode"},create(t,e=[]){return u({kind:"AggregateFunctionNode",func:t,aggregated:e})},cloneWithDistinct(t){return u({...t,distinct:!0})},cloneWithFilter(t,e){return u({...t,filter:t.filter?ge.cloneWithOperation(t.filter,"And",e):ge.create(e)})},cloneWithOrFilter(t,e){return u({...t,filter:t.filter?ge.cloneWithOperation(t.filter,"Or",e):ge.create(e)})},cloneWithOver(t,e){return u({...t,over:e})}});var S0=u({is(t){return t.kind==="FunctionNode"},create(t,e){return u({kind:"FunctionNode",func:t,arguments:e})}});var Wi=class t{#e;constructor(e){this.#e=u(e)}get expressionType(){}as(e){return new n_(this,e)}distinct(){return new t({...this.#e,aggregateFunctionNode:Ge.cloneWithDistinct(this.#e.aggregateFunctionNode)})}filterWhere(...e){return new t({...this.#e,aggregateFunctionNode:Ge.cloneWithFilter(this.#e.aggregateFunctionNode,Ee(e))})}filterWhereExists(e){return new t({...this.#e,aggregateFunctionNode:Ge.cloneWithFilter(this.#e.aggregateFunctionNode,ce(e))})}filterWhereNotExists(e){return new t({...this.#e,aggregateFunctionNode:Ge.cloneWithFilter(this.#e.aggregateFunctionNode,oe(e))})}filterWhereRef(e,r,n){return new t({...this.#e,aggregateFunctionNode:Ge.cloneWithFilter(this.#e.aggregateFunctionNode,Z(e,r,n))})}orFilterWhere(...e){return new t({...this.#e,aggregateFunctionNode:Ge.cloneWithOrFilter(this.#e.aggregateFunctionNode,Ee(e))})}orFilterWhereExists(e){return new t({...this.#e,aggregateFunctionNode:Ge.cloneWithOrFilter(this.#e.aggregateFunctionNode,ce(e))})}orFilterWhereNotExists(e){return new t({...this.#e,aggregateFunctionNode:Ge.cloneWithOrFilter(this.#e.aggregateFunctionNode,oe(e))})}orFilterWhereRef(e,r,n){return new t({...this.#e,aggregateFunctionNode:Ge.cloneWithOrFilter(this.#e.aggregateFunctionNode,Z(e,r,n))})}over(e){let r=_0();return new t({...this.#e,aggregateFunctionNode:Ge.cloneWithOver(this.#e.aggregateFunctionNode,(e?e(r):r).toOperationNode())})}$call(e){return e(this)}toOperationNode(){return this.#e.aggregateFunctionNode}};O(Wi,"don't await AggregateFunctionBuilder instances. They are never executed directly and are always just a part of a query.");var n_=class{#e;#t;constructor(e,r){this.#e=e,this.#t=r}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return ze.create(this.#e.toOperationNode(),D.create(this.#t))}};function nd(){let t=(r,n)=>new fe(S0.create(r,wr(n))),e=(r,n)=>new Wi({aggregateFunctionNode:Ge.create(r,n?wr(n):void 0)});return Object.assign(t,{agg:e,avg(r){return e("avg",[r])},coalesce(r,...n){return t("coalesce",[r,...n])},count(r){return e("count",[r])},countAll(r){return new Wi({aggregateFunctionNode:Ge.create("count",Ft(r))})},max(r){return e("max",[r])},min(r){return e("min",[r])},sum(r){return e("sum",[r])}})}var Bi=class{#e;constructor(e){this.#e=u(e)}when(...e){return new id({...this.#e,node:We.cloneWithWhen(this.#e.node,Zs.create(Zh(e)))})}},id=class{#e;constructor(e){this.#e=u(e)}then(e){return new i_({...this.#e,node:We.cloneWithThen(this.#e.node,tt(e))})}},i_=class{#e;constructor(e){this.#e=u(e)}when(...e){return new id({...this.#e,node:We.cloneWithWhen(this.#e.node,Zs.create(Zh(e)))})}else(e){return new o_({...this.#e,node:We.cloneWith(this.#e.node,{else:tt(e)})})}end(){return new fe(We.cloneWith(this.#e.node,{isStatement:!1}))}endCase(){return new fe(We.cloneWith(this.#e.node,{isStatement:!0}))}},o_=class{#e;constructor(e){this.#e=u(e)}end(){return new fe(We.cloneWith(this.#e.node,{isStatement:!1}))}endCase(){return new fe(We.cloneWith(this.#e.node,{isStatement:!0}))}};function w0(t=Qn){function e(r,n){return new fe(Hc(r,n))}return{get fn(){return nd()},selectFrom(r){return new br({queryId:B(),executor:t,queryNode:R.create(Ct(r))})},case(r){return new Bi({node:We.create(Kr(r)?void 0:et(r))})},ref(r){return new fe(Sr(r))},val(r){return new fe($c(r))},cmpr(r,n,i){return new fe(ed(r,n,i))},bxp(r,n,i){return new fe(ed(r,n,i))},unary:e,not(r){return e("not",r)},exists(r){return e("exists",r)},neg(r){return e("-",r)},and(r){if(r.length===0)return new fe(we.createImmediate(!0));if(r.length===1)return new fe(r[0].toOperationNode());let n=Er.create(r[0].toOperationNode(),r[1].toOperationNode());for(let i=2;i<r.length;++i)n=Er.create(n,r[i].toOperationNode());return new fe(Yr.create(n))},or(r){if(r.length===0)return new fe(we.createImmediate(!1));if(r.length===1)return new fe(r[0].toOperationNode());let n=vr.create(r[0].toOperationNode(),r[1].toOperationNode());for(let i=2;i<r.length;++i)n=vr.create(n,r[i].toOperationNode());return new fe(Yr.create(n))},withSchema(r){return w0(t.withPluginAtFront(new rt(r)))}}}function je(t){return w0()}function Xr(t){if(ie(t))return t.toOperationNode();if(ne(t))return t(je()).toOperationNode();throw new Error(`invalid expression: ${JSON.stringify(t)}`)}function Kc(t){if(ie(t))return t.toOperationNode();if(ne(t))return t(je()).toOperationNode();throw new Error(`invalid aliased expression: ${JSON.stringify(t)}`)}function Hn(t){return zS(t)||HS(t)||ne(t)}function Ct(t){return Dt(t)?t.map(e=>tn(e)):[tn(t)]}function tn(t){return ye(t)?Sk(t):Kc(t)}function Sk(t){let e=" as ";if(t.includes(e)){let[r,n]=t.split(e).map(N0);return ze.create(de(r),D.create(n))}else return de(t)}function de(t){let e=".";if(t.includes(e)){let[r,n]=t.split(e).map(N0);return dt.createWithSchema(r,n)}else return dt.create(t)}function N0(t){return t.trim()}var s_=u({is(t){return t.kind==="AddColumnNode"},create(t){return u({kind:"AddColumnNode",column:t})}});var Cr=u({is(t){return t.kind==="AlterColumnNode"},create(t){return u({kind:"AlterColumnNode",column:U.create(t)})},cloneWith(t,e){return u({...t,...e})}});var ee=u({is(t){return t.kind==="ColumnDefinitionNode"},create(t,e){return u({kind:"ColumnDefinitionNode",column:U.create(t),dataType:e})},cloneWithFrontModifier(t,e){return u({...t,frontModifiers:t.frontModifiers?u([...t.frontModifiers,e]):[e]})},cloneWithEndModifier(t,e){return u({...t,endModifiers:t.endModifiers?u([...t.endModifiers,e]):[e]})},cloneWith(t,e){return u({...t,...e})}});var a_=u({is(t){return t.kind==="DropColumnNode"},create(t){return u({kind:"DropColumnNode",column:U.create(t)})}});var c_=u({is(t){return t.kind==="RenameColumnNode"},create(t,e){return u({kind:"RenameColumnNode",column:U.create(t),renameTo:U.create(e)})}});var Vi=u({is(t){return t.kind==="CheckConstraintNode"},create(t,e){return u({kind:"CheckConstraintNode",expression:t,name:e?D.create(e):void 0})}});var x0=["no action","restrict","cascade","set null","set default"],$i=u({is(t){return t.kind==="ReferencesNode"},create(t,e){return u({kind:"ReferencesNode",table:t,columns:u([...e])})},cloneWithOnDelete(t,e){return u({...t,onDelete:e})},cloneWithOnUpdate(t,e){return u({...t,onUpdate:e})}});function od(t){return ie(t)?t.toOperationNode():we.createImmediate(t)}var ea=u({is(t){return t.kind==="GeneratedNode"},create(t){return u({kind:"GeneratedNode",...t})},createWithExpression(t){return u({kind:"GeneratedNode",always:!0,expression:t})},cloneWith(t,e){return u({...t,...e})}});var b0=u({is(t){return t.kind==="DefaultValueNode"},create(t){return u({kind:"DefaultValueNode",defaultValue:t})}});function zi(t){if(x0.includes(t))return t;throw new Error(`invalid OnModifyForeignAction ${t}`)}var Ut=class t{#e;constructor(e){this.#e=e}autoIncrement(){return new t(ee.cloneWith(this.#e,{autoIncrement:!0}))}primaryKey(){return new t(ee.cloneWith(this.#e,{primaryKey:!0}))}references(e){let r=Sr(e);if(!zn.is(r)||qi.is(r.column))throw new Error(`invalid call references('${e}'). The reference must have format table.column or schema.table.column`);return new t(ee.cloneWith(this.#e,{references:$i.create(r.table,[r.column])}))}onDelete(e){if(!this.#e.references)throw new Error("on delete constraint can only be added for foreign keys");return new t(ee.cloneWith(this.#e,{references:$i.cloneWithOnDelete(this.#e.references,zi(e))}))}onUpdate(e){if(!this.#e.references)throw new Error("on update constraint can only be added for foreign keys");return new t(ee.cloneWith(this.#e,{references:$i.cloneWithOnUpdate(this.#e.references,zi(e))}))}unique(){return new t(ee.cloneWith(this.#e,{unique:!0}))}notNull(){return new t(ee.cloneWith(this.#e,{notNull:!0}))}unsigned(){return new t(ee.cloneWith(this.#e,{unsigned:!0}))}defaultTo(e){return new t(ee.cloneWith(this.#e,{defaultTo:b0.create(od(e))}))}check(e){return new t(ee.cloneWith(this.#e,{check:Vi.create(e.toOperationNode())}))}generatedAlwaysAs(e){return new t(ee.cloneWith(this.#e,{generated:ea.createWithExpression(e.toOperationNode())}))}generatedAlwaysAsIdentity(){return new t(ee.cloneWith(this.#e,{generated:ea.create({identity:!0,always:!0})}))}generatedByDefaultAsIdentity(){return new t(ee.cloneWith(this.#e,{generated:ea.create({identity:!0,byDefault:!0})}))}stored(){if(!this.#e.generated)throw new Error("stored() can only be called after generatedAlwaysAs");return new t(ee.cloneWith(this.#e,{generated:ea.cloneWith(this.#e.generated,{stored:!0})}))}modifyFront(e){return new t(ee.cloneWithFrontModifier(this.#e,e.toOperationNode()))}modifyEnd(e){return new t(ee.cloneWithEndModifier(this.#e,e.toOperationNode()))}$call(e){return e(this)}toOperationNode(){return this.#e}};O(Ut,"don't await ColumnDefinitionBuilder instances directly.");var d_=u({is(t){return t.kind==="ModifyColumnNode"},create(t){return u({kind:"ModifyColumnNode",column:t})}});var C0=u({is(t){return t.kind==="DataTypeNode"},create(t){return u({kind:"DataTypeNode",dataType:t})}});function Or(t){return ie(t)?t.toOperationNode():C0.create(t)}var Jn=u({is(t){return t.kind==="ForeignKeyConstraintNode"},create(t,e,r,n){return u({kind:"ForeignKeyConstraintNode",columns:t,references:$i.create(e,r),name:n?D.create(n):void 0})},cloneWith(t,e){return u({...t,...e})}});var Xn=class t{#e;constructor(e){this.#e=e}onDelete(e){return new t(Jn.cloneWith(this.#e,{onDelete:zi(e)}))}onUpdate(e){return new t(Jn.cloneWith(this.#e,{onUpdate:zi(e)}))}$call(e){return e(this)}toOperationNode(){return this.#e}};O(Xn,"don't await ForeignKeyConstraintBuilder instances directly.");var ta=u({is(t){return t.kind==="AddConstraintNode"},create(t){return u({kind:"AddConstraintNode",constraint:t})}});var sd=u({is(t){return t.kind==="UniqueConstraintNode"},create(t,e){return u({kind:"UniqueConstraintNode",columns:u(t.map(U.create)),name:e?D.create(e):void 0})}});var Hi=u({is(t){return t.kind==="DropConstraintNode"},create(t){return u({kind:"DropConstraintNode",constraintName:D.create(t)})},cloneWith(t,e){return u({...t,...e})}});var ei=class{alterColumnNode;constructor(e){this.alterColumnNode=e}setDataType(e){return new Zn(Cr.cloneWith(this.alterColumnNode,{dataType:Or(e)}))}setDefault(e){return new Zn(Cr.cloneWith(this.alterColumnNode,{setDefault:od(e)}))}dropDefault(){return new Zn(Cr.cloneWith(this.alterColumnNode,{dropDefault:!0}))}setNotNull(){return new Zn(Cr.cloneWith(this.alterColumnNode,{setNotNull:!0}))}dropNotNull(){return new Zn(Cr.cloneWith(this.alterColumnNode,{dropNotNull:!0}))}$call(e){return e(this)}},Zn=class extends ei{toOperationNode(){return this.alterColumnNode}};var rn=class{#e;constructor(e){this.#e=u(e)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}};O(rn,"don't await AlterTableExecutor instances directly. To execute the query you need to call `execute`");var ra=class t{#e;constructor(e){this.#e=u(e)}onDelete(e){return new t({...this.#e,constraintBuilder:this.#e.constraintBuilder.onDelete(e)})}onUpdate(e){return new t({...this.#e,constraintBuilder:this.#e.constraintBuilder.onUpdate(e)})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(X.cloneWithTableProps(this.#e.node,{addConstraint:ta.create(this.#e.constraintBuilder.toOperationNode())}),this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}};O(ra,"don't await AlterTableAddForeignKeyConstraintBuilder instances directly. To execute the query you need to call `execute`");var na=class t{#e;constructor(e){this.#e=u(e)}ifExists(){return new t({...this.#e,node:X.cloneWithTableProps(this.#e.node,{dropConstraint:Hi.cloneWith(this.#e.node.dropConstraint,{ifExists:!0})})})}cascade(){return new t({...this.#e,node:X.cloneWithTableProps(this.#e.node,{dropConstraint:Hi.cloneWith(this.#e.node.dropConstraint,{modifier:"cascade"})})})}restrict(){return new t({...this.#e,node:X.cloneWithTableProps(this.#e.node,{dropConstraint:Hi.cloneWith(this.#e.node.dropConstraint,{modifier:"restrict"})})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}};O(na,"don't await AlterTableDropConstraintBuilder instances directly. To execute the query you need to call `execute`");var ia=class{#e;constructor(e){this.#e=u(e)}renameTo(e){return new rn({...this.#e,node:X.cloneWithTableProps(this.#e.node,{renameTo:de(e)})})}setSchema(e){return new rn({...this.#e,node:X.cloneWithTableProps(this.#e.node,{setSchema:D.create(e)})})}alterColumn(e,r){let n=r(new ei(Cr.create(e)));return new nn({...this.#e,node:X.cloneWithColumnAlteration(this.#e.node,n.toOperationNode())})}dropColumn(e){return new nn({...this.#e,node:X.cloneWithColumnAlteration(this.#e.node,a_.create(e))})}renameColumn(e,r){return new nn({...this.#e,node:X.cloneWithColumnAlteration(this.#e.node,c_.create(e,r))})}addColumn(e,r,n=Qr){let i=n(new Ut(ee.create(e,Or(r))));return new nn({...this.#e,node:X.cloneWithColumnAlteration(this.#e.node,s_.create(i.toOperationNode()))})}modifyColumn(e,r,n=Qr){let i=n(new Ut(ee.create(e,Or(r))));return new nn({...this.#e,node:X.cloneWithColumnAlteration(this.#e.node,d_.create(i.toOperationNode()))})}addUniqueConstraint(e,r){return new rn({...this.#e,node:X.cloneWithTableProps(this.#e.node,{addConstraint:ta.create(sd.create(r,e))})})}addCheckConstraint(e,r){return new rn({...this.#e,node:X.cloneWithTableProps(this.#e.node,{addConstraint:ta.create(Vi.create(r.toOperationNode(),e))})})}addForeignKeyConstraint(e,r,n,i){return new ra({...this.#e,constraintBuilder:new Xn(Jn.create(r.map(U.create),de(n),i.map(U.create),e))})}dropConstraint(e){return new na({...this.#e,node:X.cloneWithTableProps(this.#e.node,{dropConstraint:Hi.create(e)})})}$call(e){return e(this)}call(e){return this.$call(e)}},nn=class t{#e;constructor(e){this.#e=u(e)}alterColumn(e,r){let n=r(new ei(Cr.create(e)));return new t({...this.#e,node:X.cloneWithColumnAlteration(this.#e.node,n.toOperationNode())})}dropColumn(e){return new t({...this.#e,node:X.cloneWithColumnAlteration(this.#e.node,a_.create(e))})}renameColumn(e,r){return new t({...this.#e,node:X.cloneWithColumnAlteration(this.#e.node,c_.create(e,r))})}addColumn(e,r,n=Qr){let i=n(new Ut(ee.create(e,Or(r))));return new t({...this.#e,node:X.cloneWithColumnAlteration(this.#e.node,s_.create(i.toOperationNode()))})}modifyColumn(e,r,n=Qr){let i=n(new Ut(ee.create(e,Or(r))));return new t({...this.#e,node:X.cloneWithColumnAlteration(this.#e.node,d_.create(i.toOperationNode()))})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}};O(ia,"don't await AlterTableBuilder instances");O(ei,"don't await AlterColumnBuilder instances");O(nn,"don't await AlterTableColumnAlteringBuilder instances directly. To execute the query you need to call `execute`");var Gi=class extends Li{transformValue(e){return{...super.transformValue(e),immediate:!0}}};var oa=class t{#e;constructor(e){this.#e=u(e)}ifNotExists(){return new t({...this.#e,node:Mt.cloneWith(this.#e.node,{ifNotExists:!0})})}unique(){return new t({...this.#e,node:Mt.cloneWith(this.#e.node,{unique:!0})})}on(e){return new t({...this.#e,node:Mt.cloneWith(this.#e.node,{table:de(e)})})}column(e){return new t({...this.#e,node:Mt.cloneWithColumns(this.#e.node,[jh(e)])})}columns(e){return new t({...this.#e,node:Mt.cloneWithColumns(this.#e.node,e.map(jh))})}expression(e){return new t({...this.#e,node:Mt.cloneWithColumns(this.#e.node,[e.toOperationNode()])})}using(e){return new t({...this.#e,node:Mt.cloneWith(this.#e.node,{using:me.createWithSql(e)})})}where(...e){let r=new Gi;return new t({...this.#e,node:C.cloneWithWhere(this.#e.node,r.transformNode(Ee(e)))})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}};O(oa,"don't await CreateIndexBuilder instances directly. To execute the query you need to call `execute`");var sa=class t{#e;constructor(e){this.#e=u(e)}ifNotExists(){return new t({...this.#e,node:Bc.cloneWith(this.#e.node,{ifNotExists:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}};O(sa,"don't await CreateSchemaBuilder instances directly. To execute the query you need to call `execute`");var O0=u({is(t){return t.kind==="PrimaryKeyConstraintNode"},create(t,e){return u({kind:"PrimaryKeyConstraintNode",columns:u(t.map(U.create)),name:e?D.create(e):void 0})}});function A0(t){if($S.includes(t))return t;throw new Error(`invalid OnCommitAction ${t}`)}var aa=class t{#e;constructor(e){this.#e=u(e)}temporary(){return new t({...this.#e,node:Ze.cloneWith(this.#e.node,{temporary:!0})})}onCommit(e){return new t({...this.#e,node:Ze.cloneWith(this.#e.node,{onCommit:A0(e)})})}ifNotExists(){return new t({...this.#e,node:Ze.cloneWith(this.#e.node,{ifNotExists:!0})})}addColumn(e,r,n=Qr){let i=n(new Ut(ee.create(e,Or(r))));return new t({...this.#e,node:Ze.cloneWithColumn(this.#e.node,i.toOperationNode())})}addPrimaryKeyConstraint(e,r){return new t({...this.#e,node:Ze.cloneWithConstraint(this.#e.node,O0.create(r,e))})}addUniqueConstraint(e,r){return new t({...this.#e,node:Ze.cloneWithConstraint(this.#e.node,sd.create(r,e))})}addCheckConstraint(e,r){return new t({...this.#e,node:Ze.cloneWithConstraint(this.#e.node,Vi.create(r.toOperationNode(),e))})}addForeignKeyConstraint(e,r,n,i,o=Qr){let s=o(new Xn(Jn.create(r.map(U.create),de(n),i.map(U.create),e)));return new t({...this.#e,node:Ze.cloneWithConstraint(this.#e.node,s.toOperationNode())})}modifyFront(e){return new t({...this.#e,node:Ze.cloneWithFrontModifier(this.#e.node,e.toOperationNode())})}modifyEnd(e){return new t({...this.#e,node:Ze.cloneWithEndModifier(this.#e.node,e.toOperationNode())})}$call(e){return e(this)}call(e){return this.$call(e)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}};O(aa,"don't await CreateTableBuilder instances directly. To execute the query you need to call `execute`");var ca=class t{#e;constructor(e){this.#e=u(e)}on(e){return new t({...this.#e,node:Pi.cloneWith(this.#e.node,{table:de(e)})})}ifExists(){return new t({...this.#e,node:Pi.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new t({...this.#e,node:Pi.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}};O(ca,"don't await DropIndexBuilder instances directly. To execute the query you need to call `execute`");var da=class t{#e;constructor(e){this.#e=u(e)}ifExists(){return new t({...this.#e,node:Ls.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new t({...this.#e,node:Ls.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}};O(da,"don't await DropSchemaBuilder instances directly. To execute the query you need to call `execute`");var ua=class t{#e;constructor(e){this.#e=u(e)}ifExists(){return new t({...this.#e,node:Us.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new t({...this.#e,node:Us.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}};O(ua,"don't await DropTableBuilder instances directly. To execute the query you need to call `execute`");var Ot=u({is(t){return t.kind==="CreateViewNode"},create(t){return u({kind:"CreateViewNode",name:$e.create(t)})},cloneWith(t,e){return u({...t,...e})}});var ad=class{#e=new Gi;transformQuery(e){return this.#e.transformNode(e.node)}transformResult(e){return Promise.resolve(e.result)}};var la=class t{#e;constructor(e){this.#e=u(e)}temporary(){return new t({...this.#e,node:Ot.cloneWith(this.#e.node,{temporary:!0})})}materialized(){return new t({...this.#e,node:Ot.cloneWith(this.#e.node,{materialized:!0})})}ifNotExists(){return new t({...this.#e,node:Ot.cloneWith(this.#e.node,{ifNotExists:!0})})}orReplace(){return new t({...this.#e,node:Ot.cloneWith(this.#e.node,{orReplace:!0})})}columns(e){return new t({...this.#e,node:Ot.cloneWith(this.#e.node,{columns:e.map(Uh)})})}as(e){let r=e.withPlugin(new ad).toOperationNode();return new t({...this.#e,node:Ot.cloneWith(this.#e.node,{as:r})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}};O(la,"don't await CreateViewBuilder instances directly. To execute the query you need to call `execute`");var Ki=u({is(t){return t.kind==="DropViewNode"},create(t){return u({kind:"DropViewNode",name:$e.create(t)})},cloneWith(t,e){return u({...t,...e})}});var pa=class t{#e;constructor(e){this.#e=u(e)}materialized(){return new t({...this.#e,node:Ki.cloneWith(this.#e.node,{materialized:!0})})}ifExists(){return new t({...this.#e,node:Ki.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new t({...this.#e,node:Ki.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}};O(pa,"don't await DropViewBuilder instances directly. To execute the query you need to call `execute`");var cd=u({is(t){return t.kind==="CreateTypeNode"},create(t){return u({kind:"CreateTypeNode",name:t})},cloneWithEnum(t,e){return u({...t,enum:Di.create(e.map(r=>we.createImmediate(r)))})}});var fa=class t{#e;constructor(e){this.#e=u(e)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}asEnum(e){return new t({...this.#e,node:cd.cloneWithEnum(this.#e.node,e)})}$call(e){return e(this)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}};O(fa,"don't await CreateTypeBuilder instances directly. To execute the query you need to call `execute`");var dd=u({is(t){return t.kind==="DropTypeNode"},create(t){return u({kind:"DropTypeNode",name:t})},cloneWith(t,e){return u({...t,...e})}});var ma=class t{#e;constructor(e){this.#e=u(e)}ifExists(){return new t({...this.#e,node:dd.cloneWith(this.#e.node,{ifExists:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}};O(ma,"don't await DropTypeBuilder instances directly. To execute the query you need to call `execute`");function u_(t){let e=".";if(t.includes(e)){let r=t.split(e).map(wk);if(r.length===2)return $e.createWithSchema(r[0],r[1]);throw new Error(`invalid schemable identifier ${t}`)}else return $e.create(t)}function wk(t){return t.trim()}var ud=class t{#e;constructor(e){this.#e=e}createTable(e){return new aa({queryId:B(),executor:this.#e,node:Ze.create(de(e))})}dropTable(e){return new ua({queryId:B(),executor:this.#e,node:Us.create(de(e))})}createIndex(e){return new oa({queryId:B(),executor:this.#e,node:Mt.create(e)})}dropIndex(e){return new ca({queryId:B(),executor:this.#e,node:Pi.create(e)})}createSchema(e){return new sa({queryId:B(),executor:this.#e,node:Bc.create(e)})}dropSchema(e){return new da({queryId:B(),executor:this.#e,node:Ls.create(e)})}alterTable(e){return new ia({queryId:B(),executor:this.#e,node:X.create(de(e))})}createView(e){return new la({queryId:B(),executor:this.#e,node:Ot.create(e)})}dropView(e){return new pa({queryId:B(),executor:this.#e,node:Ki.create(e)})}createType(e){return new fa({queryId:B(),executor:this.#e,node:cd.create(u_(e))})}dropType(e){return new ma({queryId:B(),executor:this.#e,node:dd.create(u_(e))})}withPlugin(e){return new t(this.#e.withPlugin(e))}withoutPlugins(){return new t(this.#e.withoutPlugins())}withSchema(e){return new t(this.#e.withPluginAtFront(new rt(e)))}};var ld=class{ref(e){return new Gc(e)}};var pd=class{#e;constructor(e){this.#e=e}async provideConnection(e){let r=await this.#e.acquireConnection();try{return await e(r)}finally{await this.#e.releaseConnection(r)}}};var fd=class t extends ji{#e;#t;#r;constructor(e,r,n,i=[]){super(i),this.#e=e,this.#t=r,this.#r=n}get adapter(){return this.#t}compileQuery(e){return this.#e.compileQuery(e)}provideConnection(e){return this.#r.provideConnection(e)}withPlugins(e){return new t(this.#e,this.#t,this.#r,[...this.plugins,...e])}withPlugin(e){return new t(this.#e,this.#t,this.#r,[...this.plugins,e])}withPluginAtFront(e){return new t(this.#e,this.#t,this.#r,[e,...this.plugins])}withConnectionProvider(e){return new t(this.#e,this.#t,e,[...this.plugins])}withoutPlugins(){return new t(this.#e,this.#t,this.#r,[])}};function l_(){return typeof performance<"u"&&ne(performance.now)?performance.now():Date.now()}var md=class{#e;#t;#r;#n;#i=new WeakSet;constructor(e,r){this.#e=e,this.#t=r}async init(){this.#r||(this.#r=this.#e.init().catch(e=>(this.#r=void 0,Promise.reject(e)))),await this.#r}async acquireConnection(){await this.init();let e=await this.#e.acquireConnection();return this.#i.has(e)||(this.#o()&&this.#s(e),this.#i.add(e)),e}async releaseConnection(e){await this.#e.releaseConnection(e)}beginTransaction(e,r){return this.#e.beginTransaction(e,r)}commitTransaction(e){return this.#e.commitTransaction(e)}rollbackTransaction(e){return this.#e.rollbackTransaction(e)}async destroy(){this.#r&&(await this.#r,this.#n||(this.#n=this.#e.destroy().catch(e=>(this.#n=void 0,Promise.reject(e)))),await this.#n)}#o(){return this.#t.isLevelEnabled("query")||this.#t.isLevelEnabled("error")}#s(e){let r=e.executeQuery;e.executeQuery=async n=>{let i=l_();try{return await r.call(e,n)}catch(o){throw await this.#d(o,n,i),o}finally{await this.#u(n,i)}}}async#d(e,r,n){await this.#t.error(()=>({level:"error",error:e,query:r,queryDurationMillis:this.#c(n)}))}async#u(e,r){await this.#t.query(()=>({level:"query",query:e,queryDurationMillis:this.#c(r)}))}#c(e){return l_()-e}};var ha=class{#e;#t;constructor(e){this.#e=e}async provideConnection(e){for(;this.#t;)await this.#t;let r=this.#r(e);return this.#t=r.then(()=>{this.#t=void 0}).catch(()=>{this.#t=void 0}),r}async#r(e){return await e(this.#e)}};var T0=["read uncommitted","read committed","repeatable read","serializable"];var Tue=u(["query","error"]),hd=class{#e;#t;constructor(e){ne(e)?(this.#t=e,this.#e=u({query:!0,error:!0})):(this.#t=Nk,this.#e=u({query:e.includes("query"),error:e.includes("error")}))}isLevelEnabled(e){return this.#e[e]}async query(e){this.#e.query&&await this.#t(e())}async error(e){this.#e.error&&await this.#t(e())}};function Nk(t){t.level==="query"?(console.log(`kysely:query: ${t.query.sql}`),console.log(`kysely:query: duration: ${t.queryDurationMillis.toFixed(1)}ms`)):t.level==="error"&&(t.error instanceof Error?console.error(`kysely:error: ${t.error.stack??t.error.message}`):console.error(`kysely:error: ${t}`))}function P0(t){return qe(t)&&ne(t.compile)}var Qi=class t extends Ui{#e;constructor(e){let r,n;if(xk(e))r={executor:e.executor},n={...e};else{let i=e.dialect,o=i.createDriver(),s=i.createQueryCompiler(),a=i.createAdapter(),d=new hd(e.log??[]),l=new md(o,d),p=new pd(l),f=new fd(s,a,p,e.plugins??[]);r={executor:f},n={config:e,executor:f,dialect:i,driver:l}}super(r),this.#e=u(n)}get schema(){return new ud(this.#e.executor)}get dynamic(){return new ld}get introspection(){return this.#e.dialect.createIntrospector(this.withoutPlugins())}case(e){return new Bi({node:We.create(Kr(e)?void 0:Xr(e))})}get fn(){return nd()}transaction(){return new yd({...this.#e})}connection(){return new _d({...this.#e})}withPlugin(e){return new t({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new t({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new t({...this.#e,executor:this.#e.executor.withPluginAtFront(new rt(e))})}withTables(){return new t({...this.#e})}async destroy(){await this.#e.driver.destroy()}get isTransaction(){return!1}getExecutor(){return this.#e.executor}executeQuery(e,r=B()){let n=P0(e)?e.compile():e;return this.getExecutor().executeQuery(n,r)}},p_=class t extends Qi{#e;constructor(e){super(e),this.#e=e}get isTransaction(){return!0}transaction(){throw new Error("calling the transaction method for a Transaction is not supported")}connection(){throw new Error("calling the connection method for a Transaction is not supported")}async destroy(){throw new Error("calling the destroy method for a Transaction is not supported")}withPlugin(e){return new t({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new t({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new t({...this.#e,executor:this.#e.executor.withPluginAtFront(new rt(e))})}withTables(){return new t({...this.#e})}};function xk(t){return qe(t)&&qe(t.config)&&qe(t.driver)&&qe(t.executor)&&qe(t.dialect)}var _d=class{#e;constructor(e){this.#e=u(e)}async execute(e){return this.#e.executor.provideConnection(async r=>{let n=this.#e.executor.withConnectionProvider(new ha(r)),i=new Qi({...this.#e,executor:n});return await e(i)})}};O(_d,"don't await ConnectionBuilder instances directly. To execute the query you need to call the `execute` method");var yd=class t{#e;constructor(e){this.#e=u(e)}setIsolationLevel(e){return new t({...this.#e,isolationLevel:e})}async execute(e){let{isolationLevel:r,...n}=this.#e,i={isolationLevel:r};return bk(i),this.#e.executor.provideConnection(async o=>{let s=this.#e.executor.withConnectionProvider(new ha(o)),a=new p_({...n,executor:s});try{await this.#e.driver.beginTransaction(o,i);let d=await e(a);return await this.#e.driver.commitTransaction(o),d}catch(d){throw await this.#e.driver.rollbackTransaction(o),d}})}};O(yd,"don't await TransactionBuilder instances directly. To execute the transaction you need to call the `execute` method");function bk(t){if(t.isolationLevel&&!T0.includes(t.isolationLevel))throw new Error(`invalid transaction isolation level ${t.isolationLevel}`)}var ut=class t{#e;constructor(e){this.#e=u(e)}get expressionType(){}as(e){return new f_(this,e)}$castTo(){return new t({...this.#e})}castTo(){return this.$castTo()}withPlugin(e){return new t({...this.#e,plugins:this.#e.plugins!==void 0?u([...this.#e.plugins,e]):u([e])})}toOperationNode(){return this.#r(this.#t())}compile(e){return this.#n(this.#t(e))}async execute(e){let r=this.#t(e);return r.executeQuery(this.#n(r),this.#e.queryId)}#t(e){let r=e!==void 0?e.getExecutor():Qn;return this.#e.plugins!==void 0?r.withPlugins(this.#e.plugins):r}#r(e){return e.transformQuery(this.#e.rawNode,this.#e.queryId)}#n(e){return e.compileQuery(this.#r(e),this.#e.queryId)}};O(ut,"don't await RawBuilder instances directly. To execute the query you need to call `execute`");var f_=class{#e;#t;constructor(e,r){this.#e=e,this.#t=r}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return ze.create(this.#e.toOperationNode(),ie(this.#t)?this.#t.toOperationNode():D.create(this.#t))}};var Be=Object.assign((t,...e)=>new ut({queryId:B(),rawNode:me.create(t,e?.map(tt)??[])}),{ref(t){return new ut({queryId:B(),rawNode:me.createWithChild(Sr(t))})},val(t){return new ut({queryId:B(),rawNode:me.createWithChild(tt(t))})},value(t){return this.val(t)},table(t){return new ut({queryId:B(),rawNode:me.createWithChild(de(t))})},id(...t){let e=new Array(t.length+1).fill(".");return e[0]="",e[e.length-1]="",new ut({queryId:B(),rawNode:me.create(e,t.map(D.create))})},lit(t){return new ut({queryId:B(),rawNode:me.createWithChild(we.createImmediate(t))})},literal(t){return this.lit(t)},raw(t){return new ut({queryId:B(),rawNode:me.createWithSql(t)})},join(t,e=Be`, `){let r=new Array(2*t.length-1),n=e.toOperationNode();for(let i=0;i<t.length;++i)r[2*i]=tt(t[i]),i!==t.length-1&&(r[2*i+1]=n);return new ut({queryId:B(),rawNode:me.createWithChildren(r)})}});var gd=class{nodeStack=[];get parentNode(){return this.nodeStack[this.nodeStack.length-2]}#e=u({AliasNode:this.visitAlias.bind(this),ColumnNode:this.visitColumn.bind(this),IdentifierNode:this.visitIdentifier.bind(this),SchemableIdentifierNode:this.visitSchemableIdentifier.bind(this),RawNode:this.visitRaw.bind(this),ReferenceNode:this.visitReference.bind(this),SelectQueryNode:this.visitSelectQuery.bind(this),SelectionNode:this.visitSelection.bind(this),TableNode:this.visitTable.bind(this),FromNode:this.visitFrom.bind(this),SelectAllNode:this.visitSelectAll.bind(this),AndNode:this.visitAnd.bind(this),OrNode:this.visitOr.bind(this),ValueNode:this.visitValue.bind(this),ValueListNode:this.visitValueList.bind(this),PrimitiveValueListNode:this.visitPrimitiveValueList.bind(this),ParensNode:this.visitParens.bind(this),JoinNode:this.visitJoin.bind(this),OperatorNode:this.visitOperator.bind(this),WhereNode:this.visitWhere.bind(this),InsertQueryNode:this.visitInsertQuery.bind(this),DeleteQueryNode:this.visitDeleteQuery.bind(this),ReturningNode:this.visitReturning.bind(this),CreateTableNode:this.visitCreateTable.bind(this),AddColumnNode:this.visitAddColumn.bind(this),ColumnDefinitionNode:this.visitColumnDefinition.bind(this),DropTableNode:this.visitDropTable.bind(this),DataTypeNode:this.visitDataType.bind(this),OrderByNode:this.visitOrderBy.bind(this),OrderByItemNode:this.visitOrderByItem.bind(this),GroupByNode:this.visitGroupBy.bind(this),GroupByItemNode:this.visitGroupByItem.bind(this),UpdateQueryNode:this.visitUpdateQuery.bind(this),ColumnUpdateNode:this.visitColumnUpdate.bind(this),LimitNode:this.visitLimit.bind(this),OffsetNode:this.visitOffset.bind(this),OnConflictNode:this.visitOnConflict.bind(this),OnDuplicateKeyNode:this.visitOnDuplicateKey.bind(this),CreateIndexNode:this.visitCreateIndex.bind(this),DropIndexNode:this.visitDropIndex.bind(this),ListNode:this.visitList.bind(this),PrimaryKeyConstraintNode:this.visitPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.visitUniqueConstraint.bind(this),ReferencesNode:this.visitReferences.bind(this),CheckConstraintNode:this.visitCheckConstraint.bind(this),WithNode:this.visitWith.bind(this),CommonTableExpressionNode:this.visitCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.visitCommonTableExpressionName.bind(this),HavingNode:this.visitHaving.bind(this),CreateSchemaNode:this.visitCreateSchema.bind(this),DropSchemaNode:this.visitDropSchema.bind(this),AlterTableNode:this.visitAlterTable.bind(this),DropColumnNode:this.visitDropColumn.bind(this),RenameColumnNode:this.visitRenameColumn.bind(this),AlterColumnNode:this.visitAlterColumn.bind(this),ModifyColumnNode:this.visitModifyColumn.bind(this),AddConstraintNode:this.visitAddConstraint.bind(this),DropConstraintNode:this.visitDropConstraint.bind(this),ForeignKeyConstraintNode:this.visitForeignKeyConstraint.bind(this),CreateViewNode:this.visitCreateView.bind(this),DropViewNode:this.visitDropView.bind(this),GeneratedNode:this.visitGenerated.bind(this),DefaultValueNode:this.visitDefaultValue.bind(this),OnNode:this.visitOn.bind(this),ValuesNode:this.visitValues.bind(this),SelectModifierNode:this.visitSelectModifier.bind(this),CreateTypeNode:this.visitCreateType.bind(this),DropTypeNode:this.visitDropType.bind(this),ExplainNode:this.visitExplain.bind(this),DefaultInsertValueNode:this.visitDefaultInsertValue.bind(this),AggregateFunctionNode:this.visitAggregateFunction.bind(this),OverNode:this.visitOver.bind(this),PartitionByNode:this.visitPartitionBy.bind(this),PartitionByItemNode:this.visitPartitionByItem.bind(this),SetOperationNode:this.visitSetOperation.bind(this),BinaryOperationNode:this.visitBinaryOperation.bind(this),UnaryOperationNode:this.visitUnaryOperation.bind(this),UsingNode:this.visitUsing.bind(this),FunctionNode:this.visitFunction.bind(this),CaseNode:this.visitCase.bind(this),WhenNode:this.visitWhen.bind(this)});visitNode=e=>{this.nodeStack.push(e),this.#e[e.kind](e),this.nodeStack.pop()}};var Yi=class extends gd{#e="";#t=[];get numParameters(){return this.#t.length}compileQuery(e){return this.#e="",this.#t=[],this.visitNode(e),u({query:e,sql:this.getSql(),parameters:[...this.#t]})}getSql(){return this.#e}visitSelectQuery(e){let r=this.parentNode!==void 0&&!He.is(this.parentNode)&&!Ot.is(this.parentNode)&&!rd.is(this.parentNode);this.parentNode===void 0&&e.explain&&(this.visitNode(e.explain),this.append(" ")),r&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("select "),e.distinctOn&&(this.compileDistinctOn(e.distinctOn),this.append(" ")),e.frontModifiers&&e.frontModifiers.length>0&&(this.compileList(e.frontModifiers," "),this.append(" ")),e.selections&&(this.compileList(e.selections),this.append(" ")),this.visitNode(e.from),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.groupBy&&(this.append(" "),this.visitNode(e.groupBy)),e.having&&(this.append(" "),this.visitNode(e.having)),e.setOperations&&(this.append(" "),this.compileList(e.setOperations," ")),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.offset&&(this.append(" "),this.visitNode(e.offset)),e.endModifiers&&e.endModifiers.length>0&&(this.append(" "),this.compileList(e.endModifiers," ")),r&&this.append(")")}visitFrom(e){this.append("from "),this.compileList(e.froms)}visitSelection(e){this.visitNode(e.selection)}visitColumn(e){this.visitNode(e.column)}compileDistinctOn(e){this.append("distinct on ("),this.compileList(e),this.append(")")}compileList(e,r=", "){let n=e.length-1;for(let i=0;i<=n;i++)this.visitNode(e[i]),i<n&&this.append(r)}visitWhere(e){this.append("where "),this.visitNode(e.where)}visitHaving(e){this.append("having "),this.visitNode(e.having)}visitInsertQuery(e){let r=this.nodeStack.find(C.is)!==e;!r&&e.explain&&(this.visitNode(e.explain),this.append(" ")),r&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append(e.replace?"replace":"insert"),e.ignore&&this.append(" ignore"),this.append(" into "),this.visitNode(e.into),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.values&&(this.append(" "),this.visitNode(e.values)),e.onConflict&&(this.append(" "),this.visitNode(e.onConflict)),e.onDuplicateKey&&(this.append(" "),this.visitNode(e.onDuplicateKey)),e.returning&&(this.append(" "),this.visitNode(e.returning)),r&&this.append(")")}visitValues(e){this.append("values "),this.compileList(e.values)}visitDeleteQuery(e){let r=this.nodeStack.find(C.is)!==e;!r&&e.explain&&(this.visitNode(e.explain),this.append(" ")),r&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("delete "),this.visitNode(e.from),e.using&&(this.append(" "),this.visitNode(e.using)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.returning&&(this.append(" "),this.visitNode(e.returning)),r&&this.append(")")}visitReturning(e){this.append("returning "),this.compileList(e.selections)}visitAlias(e){this.visitNode(e.node),this.append(" as "),this.visitNode(e.alias)}visitReference(e){this.visitNode(e.table),this.append("."),this.visitNode(e.column)}visitSelectAll(e){this.append("*")}visitIdentifier(e){this.append(this.getLeftIdentifierWrapper()),this.compileUnwrappedIdentifier(e),this.append(this.getRightIdentifierWrapper())}compileUnwrappedIdentifier(e){if(!ye(e.name))throw new Error("a non-string identifier was passed to compileUnwrappedIdentifier.");this.append(this.sanitizeIdentifier(e.name))}visitAnd(e){this.visitNode(e.left),this.append(" and "),this.visitNode(e.right)}visitOr(e){this.visitNode(e.left),this.append(" or "),this.visitNode(e.right)}visitValue(e){e.immediate?this.appendImmediateValue(e.value):this.appendValue(e.value)}visitValueList(e){this.append("("),this.compileList(e.values),this.append(")")}visitPrimitiveValueList(e){this.append("(");let{values:r}=e;for(let n=0;n<r.length;++n)this.appendValue(r[n]),n!==r.length-1&&this.append(", ");this.append(")")}visitParens(e){this.append("("),this.visitNode(e.node),this.append(")")}visitJoin(e){this.append(Ok[e.joinType]),this.append(" "),this.visitNode(e.table),e.on&&(this.append(" "),this.visitNode(e.on))}visitOn(e){this.append("on "),this.visitNode(e.on)}visitRaw(e){let{sqlFragments:r,parameters:n}=e;for(let i=0;i<r.length;++i)this.append(r[i]),n.length>i&&this.visitNode(n[i])}visitOperator(e){this.append(e.operator)}visitTable(e){this.visitNode(e.table)}visitSchemableIdentifier(e){e.schema&&(this.visitNode(e.schema),this.append(".")),this.visitNode(e.identifier)}visitCreateTable(e){this.append("create "),e.frontModifiers&&e.frontModifiers.length>0&&(this.compileList(e.frontModifiers," "),this.append(" ")),e.temporary&&this.append("temporary "),this.append("table "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.table),this.append(" ("),this.compileList([...e.columns,...e.constraints??[]]),this.append(")"),e.onCommit&&(this.append(" on commit "),this.append(e.onCommit)),e.endModifiers&&e.endModifiers.length>0&&(this.append(" "),this.compileList(e.endModifiers," "))}visitColumnDefinition(e){this.visitNode(e.column),this.append(" "),this.visitNode(e.dataType),e.unsigned&&this.append(" unsigned"),e.frontModifiers&&e.frontModifiers.length>0&&(this.append(" "),this.compileList(e.frontModifiers," ")),e.generated&&(this.append(" "),this.visitNode(e.generated)),e.defaultTo&&(this.append(" "),this.visitNode(e.defaultTo)),e.notNull&&this.append(" not null"),e.unique&&this.append(" unique"),e.primaryKey&&this.append(" primary key"),e.autoIncrement&&(this.append(" "),this.append(this.getAutoIncrement())),e.references&&(this.append(" "),this.visitNode(e.references)),e.check&&(this.append(" "),this.visitNode(e.check)),e.endModifiers&&e.endModifiers.length>0&&(this.append(" "),this.compileList(e.endModifiers," "))}getAutoIncrement(){return"auto_increment"}visitReferences(e){this.append("references "),this.visitNode(e.table),this.append(" ("),this.compileList(e.columns),this.append(")"),e.onDelete&&(this.append(" on delete "),this.append(e.onDelete)),e.onUpdate&&(this.append(" on update "),this.append(e.onUpdate))}visitDropTable(e){this.append("drop table "),e.ifExists&&this.append("if exists "),this.visitNode(e.table),e.cascade&&this.append(" cascade")}visitDataType(e){this.append(e.dataType)}visitOrderBy(e){this.append("order by "),this.compileList(e.items)}visitOrderByItem(e){this.visitNode(e.orderBy),e.direction&&(this.append(" "),this.visitNode(e.direction))}visitGroupBy(e){this.append("group by "),this.compileList(e.items)}visitGroupByItem(e){this.visitNode(e.groupBy)}visitUpdateQuery(e){let r=this.nodeStack.find(C.is)!==e;!r&&e.explain&&(this.visitNode(e.explain),this.append(" ")),r&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("update "),this.visitNode(e.table),this.append(" set "),e.updates&&this.compileList(e.updates),e.from&&(this.append(" "),this.visitNode(e.from)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.returning&&(this.append(" "),this.visitNode(e.returning)),r&&this.append(")")}visitColumnUpdate(e){this.visitNode(e.column),this.append(" = "),this.visitNode(e.value)}visitLimit(e){this.append("limit "),this.visitNode(e.limit)}visitOffset(e){this.append("offset "),this.visitNode(e.offset)}visitOnConflict(e){this.append("on conflict"),e.columns?(this.append(" ("),this.compileList(e.columns),this.append(")")):e.constraint?(this.append(" on constraint "),this.visitNode(e.constraint)):e.indexExpression&&(this.append(" ("),this.visitNode(e.indexExpression),this.append(")")),e.indexWhere&&(this.append(" "),this.visitNode(e.indexWhere)),e.doNothing===!0?this.append(" do nothing"):e.updates&&(this.append(" do update set "),this.compileList(e.updates),e.updateWhere&&(this.append(" "),this.visitNode(e.updateWhere)))}visitOnDuplicateKey(e){this.append("on duplicate key update "),this.compileList(e.updates)}visitCreateIndex(e){this.append("create "),e.unique&&this.append("unique "),this.append("index "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.name),e.table&&(this.append(" on "),this.visitNode(e.table)),e.using&&(this.append(" using "),this.visitNode(e.using)),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.where&&(this.append(" "),this.visitNode(e.where))}visitDropIndex(e){this.append("drop index "),e.ifExists&&this.append("if exists "),this.visitNode(e.name),e.table&&(this.append(" on "),this.visitNode(e.table)),e.cascade&&this.append(" cascade")}visitCreateSchema(e){this.append("create schema "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.schema)}visitDropSchema(e){this.append("drop schema "),e.ifExists&&this.append("if exists "),this.visitNode(e.schema),e.cascade&&this.append(" cascade")}visitPrimaryKeyConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("primary key ("),this.compileList(e.columns),this.append(")")}visitUniqueConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("unique ("),this.compileList(e.columns),this.append(")")}visitCheckConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("check ("),this.visitNode(e.expression),this.append(")")}visitForeignKeyConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("foreign key ("),this.compileList(e.columns),this.append(") "),this.visitNode(e.references),e.onDelete&&(this.append(" on delete "),this.append(e.onDelete)),e.onUpdate&&(this.append(" on update "),this.append(e.onUpdate))}visitList(e){this.compileList(e.items)}visitWith(e){this.append("with "),e.recursive&&this.append("recursive "),this.compileList(e.expressions)}visitCommonTableExpression(e){this.visitNode(e.name),this.append(" as "),this.visitNode(e.expression)}visitCommonTableExpressionName(e){this.visitNode(e.table),e.columns&&(this.append("("),this.compileList(e.columns),this.append(")"))}visitAlterTable(e){this.append("alter table "),this.visitNode(e.table),this.append(" "),e.renameTo&&(this.append("rename to "),this.visitNode(e.renameTo)),e.setSchema&&(this.append("set schema "),this.visitNode(e.setSchema)),e.addConstraint&&this.visitNode(e.addConstraint),e.dropConstraint&&this.visitNode(e.dropConstraint),e.columnAlterations&&this.compileList(e.columnAlterations)}visitAddColumn(e){this.append("add column "),this.visitNode(e.column)}visitRenameColumn(e){this.append("rename column "),this.visitNode(e.column),this.append(" to "),this.visitNode(e.renameTo)}visitDropColumn(e){this.append("drop column "),this.visitNode(e.column)}visitAlterColumn(e){this.append("alter column "),this.visitNode(e.column),this.append(" "),e.dataType&&(this.append("type "),this.visitNode(e.dataType),e.dataTypeExpression&&(this.append("using "),this.visitNode(e.dataTypeExpression))),e.setDefault&&(this.append("set default "),this.visitNode(e.setDefault)),e.dropDefault&&this.append("drop default"),e.setNotNull&&this.append("set not null"),e.dropNotNull&&this.append("drop not null")}visitModifyColumn(e){this.append("modify column "),this.visitNode(e.column)}visitAddConstraint(e){this.append("add "),this.visitNode(e.constraint)}visitDropConstraint(e){this.append("drop constraint "),e.ifExists&&this.append("if exists "),this.visitNode(e.constraintName),e.modifier==="cascade"?this.append(" cascade"):e.modifier==="restrict"&&this.append(" restrict")}visitSetOperation(e){this.append(e.operator),this.append(" "),e.all&&this.append("all "),this.visitNode(e.expression)}visitCreateView(e){this.append("create "),e.orReplace&&this.append("or replace "),e.materialized&&this.append("materialized "),e.temporary&&this.append("temporary "),this.append("view "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.name),this.append(" "),e.columns&&(this.append("("),this.compileList(e.columns),this.append(") ")),e.as&&(this.append("as "),this.visitNode(e.as))}visitDropView(e){this.append("drop "),e.materialized&&this.append("materialized "),this.append("view "),e.ifExists&&this.append("if exists "),this.visitNode(e.name),e.cascade&&this.append(" cascade")}visitGenerated(e){this.append("generated "),e.always&&this.append("always "),e.byDefault&&this.append("by default "),this.append("as "),e.identity&&this.append("identity"),e.expression&&(this.append("("),this.visitNode(e.expression),this.append(")")),e.stored&&this.append(" stored")}visitDefaultValue(e){this.append("default "),this.visitNode(e.defaultValue)}visitSelectModifier(e){e.rawModifier?this.visitNode(e.rawModifier):this.append(Ck[e.modifier])}visitCreateType(e){this.append("create type "),this.visitNode(e.name),e.enum&&(this.append(" as enum "),this.visitNode(e.enum))}visitDropType(e){this.append("drop type "),e.ifExists&&this.append("if exists "),this.visitNode(e.name)}visitExplain(e){this.append("explain"),(e.options||e.format)&&(this.append(" "),this.append(this.getLeftExplainOptionsWrapper()),e.options&&(this.visitNode(e.options),e.format&&this.append(this.getExplainOptionsDelimiter())),e.format&&(this.append("format"),this.append(this.getExplainOptionAssignment()),this.append(e.format)),this.append(this.getRightExplainOptionsWrapper()))}visitDefaultInsertValue(e){this.append("default")}visitAggregateFunction(e){this.append(e.func),this.append("("),e.distinct&&this.append("distinct "),this.compileList(e.aggregated),this.append(")"),e.filter&&(this.append(" filter("),this.visitNode(e.filter),this.append(")")),e.over&&(this.append(" "),this.visitNode(e.over))}visitOver(e){this.append("over("),e.partitionBy&&(this.visitNode(e.partitionBy),e.orderBy&&this.append(" ")),e.orderBy&&this.visitNode(e.orderBy),this.append(")")}visitPartitionBy(e){this.append("partition by "),this.compileList(e.items)}visitPartitionByItem(e){this.visitNode(e.partitionBy)}visitBinaryOperation(e){this.visitNode(e.leftOperand),this.append(" "),this.visitNode(e.operator),this.append(" "),this.visitNode(e.rightOperand)}visitUnaryOperation(e){this.visitNode(e.operator),this.isMinusOperator(e.operator)||this.append(" "),this.visitNode(e.operand)}isMinusOperator(e){return Ri.is(e)&&e.operator==="-"}visitUsing(e){this.append("using "),this.compileList(e.tables)}visitFunction(e){this.append(e.func),this.append("("),this.compileList(e.arguments),this.append(")")}visitCase(e){this.append("case"),e.value&&(this.append(" "),this.visitNode(e.value)),e.when&&(this.append(" "),this.compileList(e.when," ")),e.else&&(this.append(" else "),this.visitNode(e.else)),this.append(" end"),e.isStatement&&this.append(" case")}visitWhen(e){this.append("when "),this.visitNode(e.condition),e.result&&(this.append(" then "),this.visitNode(e.result))}append(e){this.#e+=e}appendValue(e){this.addParameter(e),this.append(this.getCurrentParameterPlaceholder())}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getCurrentParameterPlaceholder(){return"$"+this.numParameters}getLeftExplainOptionsWrapper(){return"("}getExplainOptionAssignment(){return" "}getExplainOptionsDelimiter(){return", "}getRightExplainOptionsWrapper(){return")"}sanitizeIdentifier(e){let r=this.getLeftIdentifierWrapper(),n=this.getRightIdentifierWrapper(),i="";for(let o of e)i+=o,o===r?i+=r:o===n&&(i+=n);return i}addParameter(e){this.#t.push(e)}appendImmediateValue(e){if(ye(e))this.append(`'${e}'`);else if(jS(e)||jc(e))this.append(e.toString());else if(Wc(e))this.append("null");else if(WS(e))this.appendImmediateValue(e.toISOString());else if(BS(e))this.appendImmediateValue(e.toString());else throw new Error(`invalid immediate value ${e}`)}},Ck=u({ForKeyShare:"for key share",ForNoKeyUpdate:"for no key update",ForUpdate:"for update",ForShare:"for share",NoWait:"nowait",SkipLocked:"skip locked",Distinct:"distinct"}),Ok=u({InnerJoin:"inner join",LeftJoin:"left join",RightJoin:"right join",FullJoin:"full join",LateralInnerJoin:"inner join lateral",LateralLeftJoin:"left join lateral"});var Ji=class{get supportsTransactionalDdl(){return!1}get supportsReturning(){return!1}};var Ed=class{transformQuery(e){return e.node}async transformResult(e){return e.result}};var ya="kysely_migration",Xi="kysely_migration_lock",m_="migration_lock",h_=u({__noMigrations__:!0}),vd=class{#e;constructor(e){this.#e=u(e)}async getMigrations(){let e=await this.#a(this.#n)?await this.#e.db.withPlugin(this.#o).selectFrom(this.#n).select(["name","timestamp"]).execute():[];return(await this.#f()).map(({name:n,...i})=>{let o=e.find(s=>s.name===n);return{name:n,migration:i,executedAt:o?new Date(o.timestamp):void 0}})}async migrateToLatest(){return this.#t(({migrations:e})=>e.length-1)}async migrateTo(e){return this.#t(({migrations:r})=>{if(e===h_)return-1;let n=r.findIndex(i=>i.name===e);if(n===-1)throw new Error(`migration "${e}" doesn't exist`);return n})}async migrateUp(){return this.#t(({currentIndex:e,migrations:r})=>Math.min(e+1,r.length-1))}async migrateDown(){return this.#t(({currentIndex:e})=>Math.max(e-1,-1))}async#t(e){try{return await this.#s(),await this.#h(e)}catch(r){return r instanceof _a?r.resultSet:{error:r}}}get#r(){return this.#e.migrationTableSchema}get#n(){return this.#e.migrationTableName??ya}get#i(){return this.#e.migrationLockTableName??Xi}get#o(){return this.#r?new rt(this.#r):new Ed}async#s(){await this.#d(),await this.#u(),await this.#c(),await this.#m()}async#d(){if(this.#r&&!await this.#l())try{await this.#e.db.schema.createSchema(this.#r).ifNotExists().execute()}catch(e){if(!await this.#l())throw e}}async#u(){if(!await this.#a(this.#n))try{this.#r&&await this.#e.db.schema.createSchema(this.#r).ifNotExists().execute(),await this.#e.db.schema.withPlugin(this.#o).createTable(this.#n).ifNotExists().addColumn("name","varchar(255)",e=>e.notNull().primaryKey()).addColumn("timestamp","varchar(255)",e=>e.notNull()).execute()}catch(e){if(!await this.#a(this.#n))throw e}}async#c(){if(!await this.#a(this.#i))try{await this.#e.db.schema.withPlugin(this.#o).createTable(this.#i).ifNotExists().addColumn("id","varchar(255)",e=>e.notNull().primaryKey()).addColumn("is_locked","integer",e=>e.notNull().defaultTo(0)).execute()}catch(e){if(!await this.#a(this.#i))throw e}}async#m(){if(!await this.#p())try{await this.#e.db.withPlugin(this.#o).insertInto(this.#i).values({id:m_,is_locked:0}).execute()}catch(e){if(!await this.#p())throw e}}async#l(){return(await this.#e.db.introspection.getSchemas()).some(r=>r.name===this.#r)}async#a(e){let r=this.#r;return(await this.#e.db.introspection.getTables({withInternalKyselyTables:!0})).some(i=>i.name===e&&(!r||i.schema===r))}async#p(){return!!await this.#e.db.withPlugin(this.#o).selectFrom(this.#i).where("id","=",m_).select("id").executeTakeFirst()}async#h(e){let r=this.#e.db.getExecutor().adapter,n=u({lockTable:this.#e.migrationLockTableName??Xi,lockRowId:m_,lockTableSchema:this.#e.migrationTableSchema}),i=async o=>{try{await r.acquireMigrationLock(o,n);let s=await this.#_(o);if(s.migrations.length===0)return{results:[]};let a=e(s);return a===void 0?{results:[]}:a<s.currentIndex?await this.#E(o,s,a):a>s.currentIndex?await this.#v(o,s,a):{results:[]}}finally{await r.releaseMigrationLock(o,n)}};return r.supportsTransactionalDdl?this.#e.db.transaction().execute(i):this.#e.db.connection().execute(i)}async#_(e){let r=await this.#f(),n=await this.#y(e);return this.#g(r,n),u({migrations:r,currentIndex:r.findIndex(i=>i.name===VS(n))})}async#f(){let e=await this.#e.provider.getMigrations();return Object.keys(e).sort().map(r=>({...e[r],name:r}))}async#y(e){return(await e.withPlugin(this.#o).selectFrom(this.#n).select("name").orderBy("name").execute()).map(n=>n.name)}#g(e,r){for(let n of r)if(!e.some(i=>i.name===n))throw new Error(`corrupted migrations: previously executed migration ${n} is missing`);for(let n=0;n<r.length;++n)if(e[n].name!==r[n])throw new Error(`corrupted migrations: expected previously executed migration ${r[n]} to be at index ${n} but ${e[n].name} was found in its place. New migrations must always have a name that comes alphabetically after the last executed migration.`)}async#E(e,r,n){let i=[];for(let o=r.currentIndex;o>n;--o)i.push({migrationName:r.migrations[o].name,direction:"Down",status:"NotExecuted"});for(let o=0;o<i.length;++o){let s=r.migrations.find(a=>a.name===i[o].migrationName);try{s.down&&(await s.down(e),await e.withPlugin(this.#o).deleteFrom(this.#n).where("name","=",s.name).execute(),i[o]={migrationName:s.name,direction:"Down",status:"Success"})}catch(a){throw i[o]={migrationName:s.name,direction:"Down",status:"Error"},new _a({error:a,results:i})}}return{results:i}}async#v(e,r,n){let i=[];for(let o=r.currentIndex+1;o<=n;++o)i.push({migrationName:r.migrations[o].name,direction:"Up",status:"NotExecuted"});for(let o=0;o<i.length;++o){let s=r.migrations.find(a=>a.name===i[o].migrationName);try{await s.up(e),await e.withPlugin(this.#o).insertInto(this.#n).values({name:s.name,timestamp:new Date().toISOString()}).execute(),i[o]={migrationName:s.name,direction:"Up",status:"Success"}}catch(a){throw i[o]={migrationName:s.name,direction:"Up",status:"Error"},new _a({error:a,results:i})}}return{results:i}}},_a=class extends Error{#e;constructor(e){super(),this.#e=e}get resultSet(){return this.#e}};var Ak=/"/g,Sd=class extends Yi{sanitizeIdentifier(e){return e.replace(Ak,'""')}};var Tk=BigInt("3853314791062309107"),wd=class extends Ji{get supportsTransactionalDdl(){return!0}get supportsReturning(){return!0}async acquireMigrationLock(e){await Be`select pg_advisory_xact_lock(${Be.lit(Tk)})`.execute(e)}async releaseMigrationLock(){}};var Pk=/`/g,Nd=class extends Yi{getCurrentParameterPlaceholder(){return"?"}getLeftExplainOptionsWrapper(){return""}getExplainOptionAssignment(){return"="}getExplainOptionsDelimiter(){return" "}getRightExplainOptionsWrapper(){return""}getLeftIdentifierWrapper(){return"`"}getRightIdentifierWrapper(){return"`"}sanitizeIdentifier(e){return e.replace(Pk,"``")}};var xd=class{#e;constructor(e){this.#e=e}async getSchemas(){return(await this.#e.selectFrom("information_schema.schemata").select("schema_name").$castTo().execute()).map(r=>({name:r.SCHEMA_NAME}))}async getTables(e={withInternalKyselyTables:!1}){let r=this.#e.selectFrom("information_schema.columns as columns").innerJoin("information_schema.tables as tables",i=>i.onRef("columns.TABLE_CATALOG","=","tables.TABLE_CATALOG").onRef("columns.TABLE_SCHEMA","=","tables.TABLE_SCHEMA").onRef("columns.TABLE_NAME","=","tables.TABLE_NAME")).select(["columns.COLUMN_NAME","columns.COLUMN_DEFAULT","columns.TABLE_NAME","columns.TABLE_SCHEMA","tables.TABLE_TYPE","columns.IS_NULLABLE","columns.DATA_TYPE","columns.EXTRA"]).where("columns.TABLE_SCHEMA","=",Be`database()`).orderBy("columns.TABLE_NAME").orderBy("columns.ORDINAL_POSITION").$castTo();e.withInternalKyselyTables||(r=r.where("columns.TABLE_NAME","!=",ya).where("columns.TABLE_NAME","!=",Xi));let n=await r.execute();return this.#t(n)}async getMetadata(e){return{tables:await this.getTables(e)}}#t(e){return e.reduce((r,n)=>{let i=r.find(o=>o.name===n.TABLE_NAME);return i||(i=u({name:n.TABLE_NAME,isView:n.TABLE_TYPE==="VIEW",schema:n.TABLE_SCHEMA,columns:[]}),r.push(i)),i.columns.push(u({name:n.COLUMN_NAME,dataType:n.DATA_TYPE,isNullable:n.IS_NULLABLE==="YES",isAutoIncrementing:n.EXTRA.toLowerCase().includes("auto_increment"),hasDefaultValue:n.COLUMN_DEFAULT!==null})),r},[])}};var I0="ea586330-2c93-47c8-908d-981d9d270f9d",Ik=60*60,bd=class extends Ji{get supportsTransactionalDdl(){return!1}get supportsReturning(){return!1}async acquireMigrationLock(e){await Be`select get_lock(${Be.lit(I0)}, ${Be.lit(Ik)})`.execute(e)}async releaseMigrationLock(e){await Be`select release_lock(${Be.lit(I0)})`.execute(e)}};var Cd=class{#e;constructor(e){this.#e=e}async init(){}async acquireConnection(){return new __(this.#e)}async beginTransaction(e){await e.beginTransaction()}async commitTransaction(e){await e.commitTransaction()}async rollbackTransaction(e){await e.rollbackTransaction()}async releaseConnection(e){}async destroy(){}},__=class{#e;#t;constructor(e){this.#e=e}async beginTransaction(){let e=await this.#e.client.beginTransaction({secretArn:this.#e.secretArn,resourceArn:this.#e.resourceArn,database:this.#e.database});this.#t=e.transactionId}async commitTransaction(){if(!this.#t)throw new Error("Cannot commit a transaction before creating it");await this.#e.client.commitTransaction({secretArn:this.#e.secretArn,resourceArn:this.#e.resourceArn,transactionId:this.#t})}async rollbackTransaction(){if(!this.#t)throw new Error("Cannot rollback a transaction before creating it");await this.#e.client.rollbackTransaction({secretArn:this.#e.secretArn,resourceArn:this.#e.resourceArn,transactionId:this.#t})}async executeQuery(e){let r=await this.#e.client.executeStatement({transactionId:this.#t,secretArn:this.#e.secretArn,resourceArn:this.#e.resourceArn,sql:e.sql,parameters:e.parameters,database:this.#e.database,includeResultMetadata:!0});if(!r.columnMetadata){let o=BigInt(r.numberOfRecordsUpdated||0);return{numAffectedRows:o,numUpdatedOrDeletedRows:o,insertId:r.generatedFields&&r.generatedFields.length>0?BigInt(r.generatedFields[0].longValue):void 0,rows:[]}}return{rows:r.records?.filter(o=>o.length!==0).map(o=>Object.fromEntries(o.map((s,a)=>[r.columnMetadata[a].label||r.columnMetadata[a].name,s.isNull?null:s.stringValue??s.doubleValue??s.longValue??s.booleanValue??this.#r(s.arrayValue)??s.blobValue??null])))||[]}}async*streamQuery(e,r){throw new Error("Data API does not support streaming")}#r(e){if(e)return e.stringValues??e.doubleValues??e.longValues??e.booleanValues??e.arrayValues?.map(this.#r)}};var Od=class extends Sd{appendValue(e){let r=this.numParameters;this.append(this.getCurrentParameterPlaceholder()),this.addParameter({name:r.toString(),...R0(e)})}getCurrentParameterPlaceholder(){return":"+this.numParameters}},Ad=class extends Nd{appendValue(e){let r=this.numParameters;this.append(this.getCurrentParameterPlaceholder()),this.addParameter({name:r.toString(),...R0(e)})}getCurrentParameterPlaceholder(){return":"+this.numParameters}};function R0(t){switch(typeof t){case"bigint":return{value:{doubleValue:Number(t)}};case"boolean":return{value:{booleanValue:t}};case"number":return Number.isInteger(t)?{value:{longValue:t}}:{value:{doubleValue:t}};case"object":if(t==null)return{value:{isNull:!0}};if(Buffer.isBuffer(t))return{value:{blobValue:t}};if(t instanceof Date)return{typeHint:"TIMESTAMP",value:{stringValue:q0(t.toISOString())}};if(t?.value&&Dk(t.value))return t.typeHint&&t.value.stringValue&&typeof t.value.stringValue=="string"&&(t.value.stringValue=Rk(t.typeHint,t.value.stringValue)),t;break;case"string":return{value:{stringValue:t}}}throw new g_("Could not serialize value")}function Rk(t,e){switch(t){case"DATE":return y_(e).slice(0,10);case"TIME":return e.match(/^\d{4}-\d{2}-\d{2}/)?y_(e).slice(11,23):qk(e);case"TIMESTAMP":return q0(y_(e))}return e}function qk(t){let e=(t||"00:00:00").split(":");for(;e.length<3;)e.push("00");return e.join(":").slice(0,12)}function q0(t){return t.replace("T"," ").slice(0,23)}function y_(t){return new Date(Date.parse(t)).toISOString()}function Dk(t){for(let e of kk)if(t[e])return!0;if(t.arrayValue){for(let e of Mk)if(t.arrayValue?.[e])return!0}return!1}var g_=class t extends Error{constructor(e){super(e),this.name=t.name}},Mk=["booleanValues","doubleValues","longValues","stringValues"],kk=["blobValue","booleanValue","doubleValue","isNull","longValue","stringValue"];var Td=class{#e;constructor(e){this.#e=e}async getSchemas(){return(await this.#e.selectFrom("pg_catalog.pg_namespace").select("nspname").$castTo().execute()).map(r=>({name:r.nspname}))}async getTables(e={withInternalKyselyTables:!1}){let r=this.#e.selectFrom("pg_catalog.pg_attribute as a").innerJoin("pg_catalog.pg_class as c","a.attrelid","c.oid").innerJoin("pg_catalog.pg_namespace as ns","c.relnamespace","ns.oid").innerJoin("pg_catalog.pg_type as typ","a.atttypid","typ.oid").innerJoin("pg_catalog.pg_namespace as dtns","typ.typnamespace","dtns.oid").select(["a.attname as column","a.attnotnull as not_null","a.atthasdef as has_default","c.relname as table","c.relkind as table_type","ns.nspname as schema","typ.typname as type","dtns.nspname as type_schema",this.#e.selectFrom("pg_class").select(Be`true`.as("auto_incrementing")).whereRef("relnamespace","=","c.relnamespace").where("relkind","=","S").where("relname","=",Be`c.relname || '_' || a.attname || '_seq'`).as("auto_incrementing")]).where(i=>i.where("c.relkind","=","r").orWhere("c.relkind","=","v")).where("ns.nspname","!~","^pg_").where("ns.nspname","!=","information_schema").where("a.attnum",">=",0).where("a.attisdropped","!=",!0).orderBy("ns.nspname").orderBy("c.relname").orderBy("a.attnum").$castTo();e.withInternalKyselyTables||(r=r.where("c.relname","!=",ya).where("c.relname","!=",Xi));let n=await r.execute();return this.#t(n)}async getMetadata(e){return{tables:await this.getTables(e)}}#t(e){return e.reduce((r,n)=>{let i=r.find(o=>o.name===n.table&&o.schema===n.schema);return i||(i=Object.freeze({name:n.table,isView:n.table_type==="v",schema:n.schema,columns:[]}),r.push(i)),i.columns.push(Object.freeze({name:n.column,dataType:n.type,dataTypeSchema:n.type_schema,isNullable:!n.not_null,isAutoIncrementing:!!n.auto_incrementing,hasDefaultValue:n.has_default})),r},[])}};var Pd=class{#e;constructor(e){this.#e=e}createAdapter(){if(this.#e.mode==="postgres")return new wd;if(this.#e.mode==="mysql")return new bd;throw new Error("Unknown mode "+this.#e.mode)}createDriver(){return new Cd(this.#e.driver)}createQueryCompiler(){if(this.#e.mode==="postgres")return new Od;if(this.#e.mode==="mysql")return new Ad;throw new Error("Unknown mode "+this.#e.mode)}createIntrospector(e){if(this.#e.mode==="postgres")return new Td(e);if(this.#e.mode==="mysql")return new xd(e);throw new Error("Unknown mode "+this.#e.mode)}};var VM=YM(BM(),1);import JJ from"url";async function q0e(t){console.log("initializing db");let e=new Qi({dialect:new Pd({mode:process.env.RDS_ENGINE_MODE,driver:{client:new VM.RDSData({}),database:t?.database||process.env.RDS_DATABASE,secretArn:process.env.RDS_SECRET,resourceArn:process.env.RDS_ARN}})});console.log("creating migrator");let r=new vd({db:e,provider:new FS(YJ.resolve(process.env.RDS_MIGRATIONS_PATH))});if(console.log("processing event",t),!t.type||t.type==="latest"){console.log("migrating to latest");let n=await r.migrateToLatest(),i=n.error||n.results?.find(o=>o.status==="Error");if(i)throw i;return n}if(t.type==="to"){if(console.log("migrating to",t.data.name),!t.data.name)return await r.migrateTo(h_);let n=await r.migrateTo(t.data.name),i=n.error||n.results?.find(o=>o.status==="Error");if(i)throw i;return n}if(t.type==="list")return console.log("listing migrations"),await r.getMigrations()}var FS=class{#e;constructor(e){this.#e=e}async getMigrations(){let e=await import("fs/promises"),r=await import("path"),n={},i=await e.readdir(this.#e);for(let o of i)if(o.endsWith(".js")||o.endsWith(".cjs")||o.endsWith(".mjs")){let[s]=r.basename(o).split("."),a=r.join(this.#e,o);if(process.env.LAMBDA_TASK_ROOT){let l=await import(a);n[s]=l;continue}let d=a.replace(/(mjs|cjs|js)$/g,`${Date.now()}.$1`);try{await e.copyFile(a,d);let l=await import(JJ.pathToFileURL(d).href);n[s]=l}catch(l){console.error(l)}await e.rm(d)}return n}};export{q0e as handler};
/*! Bundled license information:

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)
*/
